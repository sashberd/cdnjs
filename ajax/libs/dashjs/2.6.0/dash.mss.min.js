/*! v2.6.0-abe338dc, 2017-09-05T15:07:42Z */
!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c||a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(b,c,d){"use strict";var e={};e.encode=function(a){for(var b=[],c=0;c<a.length;++c){var d=a.charCodeAt(c);d<128?b.push(d):d<2048?(b.push(192|d>>6),b.push(128|63&d)):d<65536?(b.push(224|d>>12),b.push(128|63&d>>6),b.push(128|63&d)):(b.push(240|d>>18),b.push(128|63&d>>12),b.push(128|63&d>>6),b.push(128|63&d))}return b},e.decode=function(a){for(var b=[],c=0;c<a.length;){var d=a[c++];d<128||(d<224?(d=(31&d)<<6,d|=63&a[c++]):d<240?(d=(15&d)<<12,d|=(63&a[c++])<<6,d|=63&a[c++]):(d=(7&d)<<18,d|=(63&a[c++])<<12,d|=(63&a[c++])<<6,d|=63&a[c++])),b.push(String.fromCharCode(d))}return b.join("")};var f={};!function(b){var c=function(a){for(var c=0,d=[],e=0|a.length/3;0<e--;){var f=(a[c]<<16)+(a[c+1]<<8)+a[c+2];c+=3,d.push(b.charAt(63&f>>18)),d.push(b.charAt(63&f>>12)),d.push(b.charAt(63&f>>6)),d.push(b.charAt(63&f))}if(2==a.length-c){var f=(a[c]<<16)+(a[c+1]<<8);d.push(b.charAt(63&f>>18)),d.push(b.charAt(63&f>>12)),d.push(b.charAt(63&f>>6)),d.push("=")}else if(1==a.length-c){var f=a[c]<<16;d.push(b.charAt(63&f>>18)),d.push(b.charAt(63&f>>12)),d.push("==")}return d.join("")},d=function(){for(var a=[],c=0;c<b.length;++c)a[b.charCodeAt(c)]=c;return a["=".charCodeAt(0)]=0,a}(),g=function(a){for(var b=0,c=[],e=0|a.length/4;0<e--;){var f=(d[a.charCodeAt(b)]<<18)+(d[a.charCodeAt(b+1)]<<12)+(d[a.charCodeAt(b+2)]<<6)+d[a.charCodeAt(b+3)];c.push(255&f>>16),c.push(255&f>>8),c.push(255&f),b+=4}return c&&("="==a.charAt(b-2)?(c.pop(),c.pop()):"="==a.charAt(b-1)&&c.pop()),c},h={};h.encode=function(a){for(var b=[],c=0;c<a.length;++c)b.push(a.charCodeAt(c));return b},h.decode=function(b){for(var c=0;c<s.length;++c)a[c]=String.fromCharCode(a[c]);return a.join("")},f.decodeArray=function(a){var b=g(a);return new Uint8Array(b)},f.encodeASCII=function(a){var b=h.encode(a);return c(b)},f.decodeASCII=function(a){var b=g(a);return h.decode(b)},f.encode=function(a){var b=e.encode(a);return c(b)},f.decode=function(a){var b=g(a);return e.decode(b)}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),void 0!==d&&(d.decode=f.decode,d.decodeArray=f.decodeArray)},{}],2:[function(a,b,c){/*! codem-isoboxer v0.3.4 https://github.com/madebyhiro/codem-isoboxer/blob/master/LICENSE.txt */
var d={};d.parseBuffer=function(a){return new e(a).parse()},d.addBoxProcessor=function(a,b){"string"==typeof a&&"function"==typeof b&&(f.prototype._boxProcessors[a]=b)},d.createFile=function(){return new e},d.createBox=function(a,b,c){var d=f.create(a);return b&&b.append(d,c),d},d.createFullBox=function(a,b,c){var e=d.createBox(a,b,c);return e.version=0,e.flags=0,e},d.Utils={},d.Utils.dataViewToString=function(a,b){var c=b||"utf-8";if("undefined"!=typeof TextDecoder)return new TextDecoder(c).decode(a);var d=[],e=0;if("utf-8"===c)for(;e<a.byteLength;){var f=a.getUint8(e++);f<128||(f<224?(f=(31&f)<<6,f|=63&a.getUint8(e++)):f<240?(f=(15&f)<<12,f|=(63&a.getUint8(e++))<<6,f|=63&a.getUint8(e++)):(f=(7&f)<<18,f|=(63&a.getUint8(e++))<<12,f|=(63&a.getUint8(e++))<<6,f|=63&a.getUint8(e++))),d.push(String.fromCharCode(f))}else for(;e<a.byteLength;)d.push(String.fromCharCode(a.getUint8(e++)));return d.join("")},d.Utils.utf8ToByteArray=function(a){var b,c;if("undefined"!=typeof TextEncoder)b=(new TextEncoder).encode(a);else for(b=[],c=0;c<a.length;++c){var d=a.charCodeAt(c);d<128?b.push(d):d<2048?(b.push(192|d>>6),b.push(128|63&d)):d<65536?(b.push(224|d>>12),b.push(128|63&d>>6),b.push(128|63&d)):(b.push(240|d>>18),b.push(128|63&d>>12),b.push(128|63&d>>6),b.push(128|63&d))}return b},d.Utils.appendBox=function(a,b,c){if(b._offset=a._cursor.offset,b._root=a._root?a._root:a,b._raw=a._raw,b._parent=a,-1!==c){if(void 0===c||null===c)return void a.boxes.push(b);var d,e=-1;if("number"==typeof c)e=c;else{if("string"==typeof c)d=c;else{if("object"!=typeof c||!c.type)return void a.boxes.push(b);d=c.type}for(var f=0;f<a.boxes.length;f++)if(d===a.boxes[f].type){e=f+1;break}}a.boxes.splice(e,0,b)}},void 0!==c&&(c.parseBuffer=d.parseBuffer,c.addBoxProcessor=d.addBoxProcessor,c.createFile=d.createFile,c.createBox=d.createBox,c.createFullBox=d.createFullBox,c.Utils=d.Utils),d.Cursor=function(a){this.offset=void 0===a?0:a};var e=function(a){this._cursor=new d.Cursor,this.boxes=[],a&&(this._raw=new DataView(a))};e.prototype.fetch=function(a){var b=this.fetchAll(a,!0);return b.length?b[0]:null},e.prototype.fetchAll=function(a,b){var c=[];return e._sweep.call(this,a,c,b),c},e.prototype.parse=function(){for(this._cursor.offset=0,this.boxes=[];this._cursor.offset<this._raw.byteLength;){var a=f.parse(this);if(void 0===a.type)break;this.boxes.push(a)}return this},e._sweep=function(a,b,c){this.type&&this.type==a&&b.push(this);for(var d in this.boxes){if(b.length&&c)return;e._sweep.call(this.boxes[d],a,b,c)}},e.prototype.write=function(){var a,b=0;for(a=0;a<this.boxes.length;a++)b+=this.boxes[a].getLength(!1);var c=new Uint8Array(b);for(this._rawo=new DataView(c.buffer),this.bytes=c,this._cursor.offset=0,a=0;a<this.boxes.length;a++)this.boxes[a].write();return c.buffer},e.prototype.append=function(a,b){d.Utils.appendBox(this,a,b)};var f=function(){this._cursor=new d.Cursor};f.parse=function(a){var b=new f;return b._offset=a._cursor.offset,b._root=a._root?a._root:a,b._raw=a._raw,b._parent=a,b._parseBox(),a._cursor.offset=b._raw.byteOffset+b._raw.byteLength,b},f.create=function(a){var b=new f;return b.type=a,b.boxes=[],b},f.prototype._boxContainers=["dinf","edts","mdia","meco","mfra","minf","moof","moov","mvex","stbl","strk","traf","trak","tref","udta","vttc","sinf","schi","encv","enca"],f.prototype._boxProcessors={},f.prototype._procField=function(a,b,c){this._parsing?this[a]=this._readField(b,c):this._writeField(b,c,this[a])},f.prototype._procFieldArray=function(a,b,c,d){var e;if(this._parsing)for(this[a]=[],e=0;e<b;e++)this[a][e]=this._readField(c,d);else for(e=0;e<this[a].length;e++)this._writeField(c,d,this[a][e])},f.prototype._procFullBox=function(){this._procField("version","uint",8),this._procField("flags","uint",24)},f.prototype._procEntries=function(a,b,c){var d;if(this._parsing)for(this[a]=[],d=0;d<b;d++)this[a].push({}),c.call(this,this[a][d]);else for(d=0;d<b;d++)c.call(this,this[a][d])},f.prototype._procSubEntries=function(a,b,c,d){var e;if(this._parsing)for(a[b]=[],e=0;e<c;e++)a[b].push({}),d.call(this,a[b][e]);else for(e=0;e<c;e++)d.call(this,a[b][e])},f.prototype._procEntryField=function(a,b,c,d){this._parsing?a[b]=this._readField(c,d):this._writeField(c,d,a[b])},f.prototype._procSubBoxes=function(a,b){var c;if(this._parsing)for(this[a]=[],c=0;c<b;c++)this[a].push(f.parse(this));else for(c=0;c<b;c++)this._rawo?this[a][c].write():this.size+=this[a][c].getLength()},f.prototype._readField=function(a,b){switch(a){case"uint":return this._readUint(b);case"int":return this._readInt(b);case"template":return this._readTemplate(b);case"string":return-1===b?this._readTerminatedString():this._readString(b);case"data":return this._readData(b);case"utf8":return this._readUTF8String();default:return-1}},f.prototype._readInt=function(a){var b=null,c=this._cursor.offset-this._raw.byteOffset;switch(a){case 8:b=this._raw.getInt8(c);break;case 16:b=this._raw.getInt16(c);break;case 32:b=this._raw.getInt32(c);break;case 64:var d=this._raw.getInt32(c),e=this._raw.getInt32(c+4);b=d*Math.pow(2,32)+e}return this._cursor.offset+=a>>3,b},f.prototype._readUint=function(a){var b,c,d=null,e=this._cursor.offset-this._raw.byteOffset;switch(a){case 8:d=this._raw.getUint8(e);break;case 16:d=this._raw.getUint16(e);break;case 24:b=this._raw.getUint16(e),c=this._raw.getUint8(e+2),d=(b<<8)+c;break;case 32:d=this._raw.getUint32(e);break;case 64:b=this._raw.getUint32(e),c=this._raw.getUint32(e+4),d=b*Math.pow(2,32)+c}return this._cursor.offset+=a>>3,d},f.prototype._readString=function(a){for(var b="",c=0;c<a;c++){var d=this._readUint(8);b+=String.fromCharCode(d)}return b},f.prototype._readTemplate=function(a){return this._readUint(a/2)+this._readUint(a/2)/Math.pow(2,a/2)},f.prototype._readTerminatedString=function(){for(var a="";this._cursor.offset-this._offset<this._raw.byteLength;){var b=this._readUint(8);if(0===b)break;a+=String.fromCharCode(b)}return a},f.prototype._readData=function(a){var b=a>0?a:this._raw.byteLength-(this._cursor.offset-this._offset),c=new DataView(this._raw.buffer,this._cursor.offset,b);return this._cursor.offset+=b,c},f.prototype._readUTF8String=function(){var a=this._readData();return d.Utils.dataViewToString(a)},f.prototype._parseBox=function(){if(this._parsing=!0,this._cursor.offset=this._offset,this._offset+8>this._raw.buffer.byteLength)return void(this._root._incomplete=!0);switch(this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this.size){case 0:this._raw=new DataView(this._raw.buffer,this._offset,this._raw.byteLength-this._cursor.offset+8);break;case 1:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.largesize);break;default:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.size)}this._incomplete||(this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type)?this._parseContainerBox():this._data=this._readData())},f.prototype._parseFullBox=function(){this.version=this._readUint(8),this.flags=this._readUint(24)},f.prototype._parseContainerBox=function(){for(this.boxes=[];this._cursor.offset-this._raw.byteOffset<this._raw.byteLength;)this.boxes.push(f.parse(this))},f.prototype.append=function(a,b){d.Utils.appendBox(this,a,b)},f.prototype.getLength=function(){if(this._parsing=!1,this._rawo=null,this.size=0,this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type))for(var a=0;a<this.boxes.length;a++)this.size+=this.boxes[a].getLength();return this._data&&this._writeData(this._data),this.size},f.prototype.write=function(){switch(this._parsing=!1,this._cursor.offset=this._parent._cursor.offset,this.size){case 0:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.parent._rawo.byteLength-this._cursor.offset);break;case 1:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.largesize);break;default:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.size)}if(this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type))for(var a=0;a<this.boxes.length;a++)this.boxes[a].write();return this._data&&this._writeData(this._data),this._parent._cursor.offset+=this.size,this.size},f.prototype._writeInt=function(a,b){if(this._rawo){var c=this._cursor.offset-this._rawo.byteOffset;switch(a){case 8:this._rawo.setInt8(c,b);break;case 16:this._rawo.setInt16(c,b);break;case 32:this._rawo.setInt32(c,b);break;case 64:var d=Math.floor(b/Math.pow(2,32)),e=b-d*Math.pow(2,32);this._rawo.setUint32(c,d),this._rawo.setUint32(c+4,e)}this._cursor.offset+=a>>3}else this.size+=a>>3},f.prototype._writeUint=function(a,b){if(this._rawo){var c,d,e=this._cursor.offset-this._rawo.byteOffset;switch(a){case 8:this._rawo.setUint8(e,b);break;case 16:this._rawo.setUint16(e,b);break;case 24:c=(16776960&b)>>8,d=255&b,this._rawo.setUint16(e,c),this._rawo.setUint8(e+2,d);break;case 32:this._rawo.setUint32(e,b);break;case 64:c=Math.floor(b/Math.pow(2,32)),d=b-c*Math.pow(2,32),this._rawo.setUint32(e,c),this._rawo.setUint32(e+4,d)}this._cursor.offset+=a>>3}else this.size+=a>>3},f.prototype._writeString=function(a,b){for(var c=0;c<a;c++)this._writeUint(8,b.charCodeAt(c))},f.prototype._writeTerminatedString=function(a){if(0!==a.length){for(var b=0;b<a.length;b++)this._writeUint(8,a.charCodeAt(b));this._writeUint(8,0)}},f.prototype._writeTemplate=function(a,b){var c=Math.floor(b),d=(b-c)*Math.pow(2,a/2);this._writeUint(a/2,c),this._writeUint(a/2,d)},f.prototype._writeData=function(a){var b;if(a instanceof Array)if(Uint8Array.from)a=new DataView(Uint8Array.from(a).buffer);else{var c=new Uint8Array(a.length);for(b=0;b<a.length;b++)c[b]=a[b];a=new DataView(c.buffer)}if(a instanceof Uint8Array&&(a=new DataView(a.buffer)),this._rawo){var d=this._cursor.offset-this._rawo.byteOffset;for(b=0;b<a.byteLength;b++)this._rawo.setUint8(d+b,a.getUint8(b));this._cursor.offset+=a.byteLength}else this.size+=a.byteLength},f.prototype._writeUTF8String=function(a){var b=d.Utils.utf8ToByteArray(a);if(this._rawo)for(var c=new DataView(this._rawo.buffer,this._cursor.offset,b.length),e=0;e<b.length;e++)c.setUint8(e,b[e]);else this.size+=b.length},f.prototype._writeField=function(a,b,c){switch(a){case"uint":this._writeUint(b,c);break;case"int":this._writeInt(b,c);break;case"template":this._writeTemplate(b,c);break;case"string":-1==b?this._writeTerminatedString(c):this._writeString(b,c);break;case"data":this._writeData(c);break;case"utf8":this._writeUTF8String(c)}},f.prototype._boxProcessors.avc1=f.prototype._boxProcessors.encv=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procField("pre_defined1","uint",16),this._procField("reserved2","uint",16),this._procFieldArray("pre_defined2",3,"uint",32),this._procField("width","uint",16),this._procField("height","uint",16),this._procField("horizresolution","template",32),this._procField("vertresolution","template",32),this._procField("reserved3","uint",32),this._procField("frame_count","uint",16),this._procFieldArray("compressorname",32,"uint",8),this._procField("depth","uint",16),this._procField("pre_defined3","int",16),this._procField("config","data",-1)},f.prototype._boxProcessors.dref=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},f.prototype._boxProcessors.elst=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(a){this._procEntryField(a,"segment_duration","uint",1===this.version?64:32),this._procEntryField(a,"media_time","int",1===this.version?64:32),this._procEntryField(a,"media_rate_integer","int",16),this._procEntryField(a,"media_rate_fraction","int",16)})},f.prototype._boxProcessors.emsg=function(){this._procFullBox(),this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1),this._procField("timescale","uint",32),this._procField("presentation_time_delta","uint",32),this._procField("event_duration","uint",32),this._procField("id","uint",32),this._procField("message_data","data",-1)},f.prototype._boxProcessors.free=f.prototype._boxProcessors.skip=function(){this._procField("data","data",-1)},f.prototype._boxProcessors.frma=function(){this._procField("data_format","uint",32)},f.prototype._boxProcessors.ftyp=f.prototype._boxProcessors.styp=function(){this._procField("major_brand","string",4),this._procField("minor_version","uint",32);var a=-1;this._parsing&&(a=(this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset))/4),this._procFieldArray("compatible_brands",a,"string",4)},f.prototype._boxProcessors.hdlr=function(){this._procFullBox(),this._procField("pre_defined","uint",32),this._procField("handler_type","string",4),this._procFieldArray("reserved",3,"uint",32),this._procField("name","string",-1)},f.prototype._boxProcessors.mdat=function(){this._procField("data","data",-1)},f.prototype._boxProcessors.mdhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",1==this.version?64:32),this._parsing||"string"!=typeof this.language||(this.language=this.language.charCodeAt(0)-96<<10|this.language.charCodeAt(1)-96<<5|this.language.charCodeAt(2)-96),this._procField("language","uint",16),this._parsing&&(this.language=String.fromCharCode(96+(this.language>>10&31),96+(this.language>>5&31),96+(31&this.language))),this._procField("pre_defined","uint",16)},f.prototype._boxProcessors.mehd=function(){this._procFullBox(),this._procField("fragment_duration","uint",1==this.version?64:32)},f.prototype._boxProcessors.mfhd=function(){this._procFullBox(),this._procField("sequence_number","uint",32)},f.prototype._boxProcessors.mfro=function(){this._procFullBox(),this._procField("mfra_size","uint",32)},f.prototype._boxProcessors.mp4a=f.prototype._boxProcessors.enca=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procField("channelcount","uint",16),this._procField("samplesize","uint",16),this._procField("pre_defined","uint",16),this._procField("reserved3","uint",16),this._procField("samplerate","template",32),this._procField("esds","data",-1)},f.prototype._boxProcessors.mvhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",1==this.version?64:32),this._procField("rate","template",32),this._procField("volume","template",16),this._procField("reserved1","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procFieldArray("matrix",9,"template",32),this._procFieldArray("pre_defined",6,"uint",32),this._procField("next_track_ID","uint",32)},f.prototype._boxProcessors.payl=function(){this._procField("cue_text","utf8")},f.prototype._boxProcessors.pssh=function(){this._procFullBox(),this._procFieldArray("SystemID",16,"uint",8),this._procField("DataSize","uint",32),this._procFieldArray("Data",this.DataSize,"uint",8)},f.prototype._boxProcessors.schm=function(){this._procFullBox(),this._procField("scheme_type","uint",32),this._procField("scheme_version","uint",32),1&this.flags&&this._procField("scheme_uri","string",-1)},f.prototype._boxProcessors.sdtp=function(){this._procFullBox();var a=-1;this._parsing&&(a=this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset)),this._procFieldArray("sample_dependency_table",a,"uint",8)},f.prototype._boxProcessors.sidx=function(){this._procFullBox(),this._procField("reference_ID","uint",32),this._procField("timescale","uint",32),this._procField("earliest_presentation_time","uint",1==this.version?64:32),this._procField("first_offset","uint",1==this.version?64:32),this._procField("reserved","uint",16),this._procField("reference_count","uint",16),this._procEntries("references",this.reference_count,function(a){this._parsing||(a.reference=(1&a.reference_type)<<31,a.reference|=2147483647&a.referenced_size,a.sap=(1&a.starts_with_SAP)<<31,a.sap|=(3&a.SAP_type)<<28,a.sap|=268435455&a.SAP_delta_time),this._procEntryField(a,"reference","uint",32),this._procEntryField(a,"subsegment_duration","uint",32),this._procEntryField(a,"sap","uint",32),this._parsing&&(a.reference_type=a.reference>>31&1,a.referenced_size=2147483647&a.reference,a.starts_with_SAP=a.sap>>31&1,a.SAP_type=a.sap>>28&7,a.SAP_delta_time=268435455&a.sap)})},f.prototype._boxProcessors.smhd=function(){this._procFullBox(),this._procField("balance","uint",16),this._procField("reserved","uint",16)},f.prototype._boxProcessors.ssix=function(){this._procFullBox(),this._procField("subsegment_count","uint",32),this._procEntries("subsegments",this.subsegment_count,function(a){this._procEntryField(a,"ranges_count","uint",32),this._procSubEntries(a,"ranges",a.ranges_count,function(a){this._procEntryField(a,"level","uint",8),this._procEntryField(a,"range_size","uint",24)})})},f.prototype._boxProcessors.stsd=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},f.prototype._boxProcessors.subs=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(a){this._procEntryField(a,"sample_delta","uint",32),this._procEntryField(a,"subsample_count","uint",16),this._procSubEntries(a,"subsamples",a.subsample_count,function(a){this._procEntryField(a,"subsample_size","uint",1===this.version?32:16),this._procEntryField(a,"subsample_priority","uint",8),this._procEntryField(a,"discardable","uint",8),this._procEntryField(a,"codec_specific_parameters","uint",32)})})},f.prototype._boxProcessors.tenc=function(){this._procFullBox(),this._procField("default_IsEncrypted","uint",24),this._procField("default_IV_size","uint",8),this._procFieldArray("default_KID",16,"uint",8)},f.prototype._boxProcessors.tfdt=function(){this._procFullBox(),this._procField("baseMediaDecodeTime","uint",1==this.version?64:32)},f.prototype._boxProcessors.tfhd=function(){this._procFullBox(),this._procField("track_ID","uint",32),1&this.flags&&this._procField("base_data_offset","uint",64),2&this.flags&&this._procField("sample_description_offset","uint",32),8&this.flags&&this._procField("default_sample_duration","uint",32),16&this.flags&&this._procField("default_sample_size","uint",32),32&this.flags&&this._procField("default_sample_flags","uint",32)},f.prototype._boxProcessors.tfra=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._parsing||(this.reserved=0,this.reserved|=(48&this.length_size_of_traf_num)<<4,this.reserved|=(12&this.length_size_of_trun_num)<<2,this.reserved|=3&this.length_size_of_sample_num),this._procField("reserved","uint",32),this._parsing&&(this.length_size_of_traf_num=(48&this.reserved)>>4,this.length_size_of_trun_num=(12&this.reserved)>>2,this.length_size_of_sample_num=3&this.reserved),this._procField("number_of_entry","uint",32),this._procEntries("entries",this.number_of_entry,function(a){this._procEntryField(a,"time","uint",1===this.version?64:32),this._procEntryField(a,"moof_offset","uint",1===this.version?64:32),this._procEntryField(a,"traf_number","uint",8*(this.length_size_of_traf_num+1)),this._procEntryField(a,"trun_number","uint",8*(this.length_size_of_trun_num+1)),this._procEntryField(a,"sample_number","uint",8*(this.length_size_of_sample_num+1))})},f.prototype._boxProcessors.tkhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("track_ID","uint",32),this._procField("reserved1","uint",32),this._procField("duration","uint",1==this.version?64:32),this._procFieldArray("reserved2",2,"uint",32),this._procField("layer","uint",16),this._procField("alternate_group","uint",16),this._procField("volume","template",16),this._procField("reserved3","uint",16),this._procFieldArray("matrix",9,"template",32),this._procField("width","template",32),this._procField("height","template",32)},f.prototype._boxProcessors.trex=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._procField("default_sample_description_index","uint",32),this._procField("default_sample_duration","uint",32),this._procField("default_sample_size","uint",32),this._procField("default_sample_flags","uint",32)},f.prototype._boxProcessors.trun=function(){this._procFullBox(),this._procField("sample_count","uint",32),1&this.flags&&this._procField("data_offset","int",32),4&this.flags&&this._procField("first_sample_flags","uint",32),this._procEntries("samples",this.sample_count,function(a){256&this.flags&&this._procEntryField(a,"sample_duration","uint",32),512&this.flags&&this._procEntryField(a,"sample_size","uint",32),1024&this.flags&&this._procEntryField(a,"sample_flags","uint",32),2048&this.flags&&this._procEntryField(a,"sample_composition_time_offset",1===this.version?"int":"uint",32)})},f.prototype._boxProcessors["url "]=f.prototype._boxProcessors["urn "]=function(){this._procFullBox(),"urn "===this.type&&this._procField("name","string",-1),this._procField("location","string",-1)},f.prototype._boxProcessors.vlab=function(){this._procField("source_label","utf8")},f.prototype._boxProcessors.vmhd=function(){this._procFullBox(),this._procField("graphicsmode","uint",16),this._procFieldArray("opcolor",3,"uint",16)},f.prototype._boxProcessors.vttC=function(){this._procField("config","utf8")},f.prototype._boxProcessors.vtte=function(){}},{}],3:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(){l=!0,m=!0,n=!1,o=(new Date).getTime()}function b(a){m=a}function c(a){n=a}function d(a){l=a}function e(){return l}function f(){var a="",b=null;m&&(b=(new Date).getTime(),a+="["+(b-o)+"]"),n&&this&&this.getClassName&&(a+="["+this.getClassName()+"]",this.getType&&(a+="["+this.getType()+"]")),a.length>0&&(a+=" "),Array.apply(null,arguments).forEach(function(b){a+=b+" "}),l&&console.log(a),j.trigger(i.default.LOG,{message:a})}var h=this.context,j=(0,g.default)(h).getInstance(),k=void 0,l=void 0,m=void 0,n=void 0,o=void 0;return k={log:f,setLogTimestampVisible:b,setCalleeNameVisible:c,setLogToBrowserConsole:d,getLogToBrowserConsole:e},a(),k}Object.defineProperty(c,"__esModule",{value:!0});var f=a(4),g=d(f),h=a(7),i=d(h),j=a(5),k=d(j);e.__dashjs_factory_name="Debug",c.default=k.default.getSingletonFactory(e),b.exports=c.default},{4:4,5:5,7:7}],4:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a,b,c){var e=arguments.length<=3||void 0===arguments[3]?h:arguments[3];if(!a)throw new Error("event type cannot be null or undefined");if(!b||"function"!=typeof b)throw new Error("listener must be a function: "+b);if(!(d(a,b,c)>=0)){f[a]=f[a]||[];var g={callback:b,scope:c,priority:e};f[a].some(function(b,c){if(b&&e>b.priority)return f[a].splice(c,0,g),!0})||f[a].push(g)}}function b(a,b,c){if(a&&b&&f[a]){var e=d(a,b,c);e<0||(f[a][e]=null)}}function c(a,b){if(a&&f[a]){if(b=b||{},b.hasOwnProperty("type"))throw new Error("'type' is a reserved word for event dispatching");b.type=a,f[a]=f[a].filter(function(a){return a}),f[a].forEach(function(a){return a&&a.callback.call(a.scope,b)})}}function d(a,b,c){var d=-1;return f[a]?(f[a].some(function(a,e){if(a&&a.callback===b&&(!c||c===a.scope))return d=e,!0}),d):d}function e(){f={}}var f={};return{on:a,off:b,trigger:c,reset:e}}Object.defineProperty(c,"__esModule",{value:!0});var f=a(5),g=d(f),h=0,i=5e3;e.__dashjs_factory_name="EventBus";var j=g.default.getSingletonFactory(e);j.EVENT_PRIORITY_LOW=h,j.EVENT_PRIORITY_HIGH=i,g.default.updateSingletonFactory(e.__dashjs_factory_name,j),c.default=j,b.exports=c.default},{5:5}],5:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d=function(){function a(a,b,c,d){var e=n(d);!e[a]&&b&&(e[a]={instance:b,override:c})}function b(a,b){for(var c in q){var d=q[c];if(d.context===a&&d.name===b)return d.instance}return null}function c(a,b,c){for(var d in q){var e=q[d];if(e.context===a&&e.name===b)return void(q[d].instance=c)}q.push({name:b,context:a,instance:c})}function d(a,b,c){for(var d in c){if(c[d].name===a)return void(c[d].factory=b)}c.push({name:a,factory:b})}function e(a,b){for(var c in b){if(b[c].name===a)return b[c].factory}return null}function f(a,b,c){for(var d in c){if(c[d].name===a)return void(c[d].factory=b)}}function g(a,b){f(a,b,s)}function h(a){return e(a,s)}function i(a){var b=e(a.__dashjs_factory_name,s);return b||(b=function(b){return void 0===b&&(b={}),{create:function(){return m(a.__dashjs_factory_name,a.apply({context:b},arguments),b,arguments)}}},d(a.__dashjs_factory_name,b,s)),b}function j(a,b){f(a,b,r)}function k(a){return e(a,r)}function l(a){var c=e(a.__dashjs_factory_name,r);return c||(c=function(c){var d=void 0;return void 0===c&&(c={}),{getInstance:function(){return d||(d=b(c,a.__dashjs_factory_name)),d||(d=m(a.__dashjs_factory_name,a.apply({context:c},arguments),c,arguments),q.push({name:a.__dashjs_factory_name,context:c,instance:d})),d}}},d(a.__dashjs_factory_name,c,r)),c}function m(a,b,c,d){b.getClassName=function(){return a};var e=n(c),f=e[a];if(f){var g=f.instance;if(!f.override)return g.apply({context:c,factory:o},d);g=g.apply({context:c,factory:o,parent:b},d);for(var h in g)b.hasOwnProperty(h)&&(b[h]=g[h])}return b}function n(a){var b=void 0;return p.forEach(function(c){c===a&&(b=c)}),b||(b=p.push(a)),b}var o=void 0,p=[],q=[],r=[],s=[];return o={extend:a,getSingletonInstance:b,setSingletonInstance:c,getSingletonFactory:l,getSingletonFactoryByName:k,updateSingletonFactory:j,getClassFactory:i,getClassFactoryByName:h,updateClassFactory:g}}();c.default=d,b.exports=c.default},{}],6:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var g=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if("value"in h)return h.value;var i=h.get;if(void 0===i)return;return i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return;a=j,b=f,c=g,d=!0,h=j=void 0}},h=a(8),i=d(h),j=function(a){function b(){e(this,b),g(Object.getPrototypeOf(b.prototype),"constructor",this).call(this),this.BUFFERING_COMPLETED="bufferingCompleted",this.BUFFER_CLEARED="bufferCleared",this.BUFFER_LEVEL_UPDATED="bufferLevelUpdated",this.BYTES_APPENDED="bytesAppended",this.CHECK_FOR_EXISTENCE_COMPLETED="checkForExistenceCompleted",this.CURRENT_TRACK_CHANGED="currentTrackChanged",this.DATA_UPDATE_COMPLETED="dataUpdateCompleted",this.DATA_UPDATE_STARTED="dataUpdateStarted",this.INITIALIZATION_LOADED="initializationLoaded",this.INIT_FRAGMENT_LOADED="initFragmentLoaded",this.INIT_REQUESTED="initRequested",this.INTERNAL_MANIFEST_LOADED="internalManifestLoaded",this.LIVE_EDGE_SEARCH_COMPLETED="liveEdgeSearchCompleted",this.LOADING_COMPLETED="loadingCompleted",this.LOADING_PROGRESS="loadingProgress",this.MANIFEST_UPDATED="manifestUpdated",this.MEDIA_FRAGMENT_LOADED="mediaFragmentLoaded",this.QUOTA_EXCEEDED="quotaExceeded",this.REPRESENTATION_UPDATED="representationUpdated",this.SEGMENTS_LOADED="segmentsLoaded",this.SERVICE_LOCATION_BLACKLIST_ADD="serviceLocationBlacklistAdd",this.SERVICE_LOCATION_BLACKLIST_CHANGED="serviceLocationBlacklistChanged",this.SOURCEBUFFER_APPEND_COMPLETED="sourceBufferAppendCompleted",this.SOURCEBUFFER_REMOVE_COMPLETED="sourceBufferRemoveCompleted",this.STREAMS_COMPOSED="streamsComposed",this.STREAM_BUFFERING_COMPLETED="streamBufferingCompleted",this.STREAM_COMPLETED="streamCompleted",this.TIMED_TEXT_REQUESTED="timedTextRequested",this.TIME_SYNCHRONIZATION_COMPLETED="timeSynchronizationComplete",this.URL_RESOLUTION_FAILED="urlResolutionFailed",this.VIDEO_CHUNK_RECEIVED="videoChunkReceived",this.WALLCLOCK_TIME_UPDATED="wallclockTimeUpdated",this.XLINK_ELEMENT_LOADED="xlinkElementLoaded",this.XLINK_READY="xlinkReady"}return f(b,a),b}(i.default);c.default=j,b.exports=c.default},{8:8}],7:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var g=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if("value"in h)return h.value;var i=h.get;if(void 0===i)return;return i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return;a=j,b=f,c=g,d=!0,h=j=void 0}},h=a(6),i=d(h),j=function(a){function b(){e(this,b),g(Object.getPrototypeOf(b.prototype),"constructor",this).apply(this,arguments)}return f(b,a),b}(i.default),k=new j;c.default=k,b.exports=c.default},{6:6}],8:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(){d(this,a)}return e(a,[{key:"extend",value:function(a,b){if(a){var c=!!b&&b.override,d=!!b&&b.publicOnly;for(var e in a)!a.hasOwnProperty(e)||this[e]&&!c||d&&-1===a[e].indexOf("public_")||(this[e]=a[e])}}}]),a}();c.default=f,b.exports=c.default},{}],9:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var g=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if("value"in h)return h.value;var i=h.get;if(void 0===i)return;return i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return;a=j,b=f,c=g,d=!0,h=j=void 0}},h=a(8),i=d(h),j=function(a){
function b(){e(this,b),g(Object.getPrototypeOf(b.prototype),"constructor",this).call(this),this.FRAGMENT_INFO_LOADING_COMPLETED="fragmentInfoLoadingCompleted"}return f(b,a),b}(i.default),k=new j;c.default=k,b.exports=c.default},{8:8}],10:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(){t=(0,i.default)(r).getInstance().log}function c(){w=!1,A=null,B=null,C=0,D=NaN,E.registerExternalController(s),x=E.getType(),u=E.getFragmentModel(),v=E.getIndexHandler()}function d(){return E.getRepresentationController().getCurrentRepresentation()}function e(a){E.getFragmentModel().executeRequest(a)}function f(a){return a&&a.url&&(a.url=a.url.replace("Fragments","FragmentInfo"),a.type="FragmentInfoSegment"),a}function g(a){if(null!==a&&a.action===a.ACTION_COMPLETE)return void p();if(null!==a){if(z=a.startTime+a.duration,a=f(a),E.getFragmentModel().isFragmentLoadedOrPending(a))return a=v.getNextSegmentRequest(d()),void g(a);t("[FragmentInfoController]["+x+"] onFragmentRequest "+a.url),e(a)}else t("[FragmentInfoController]["+x+"] bufferFragmentInfo failed")}function h(){var a;if(w){t("[FragmentInfoController]["+x+"] Start buffering process..."),a=z,t("[FragmentInfoController]["+x+"] loadNextFragment for time: "+a);var b=d();g(v.getSegmentRequestForTime(b,a))}}function j(a){var b=Math.round(Math.min(1e3*a,2e3));t("[FragmentInfoController]["+x+"] Check buffer delta = "+b+" ms"),clearTimeout(y),y=setTimeout(function(){y=null,h()},b)}function l(a){if(a.streamProcessor===E){var b=a.fragmentInfo.request,c=void 0,d=void 0;if(!a.fragmentInfo.response)return void t("[FragmentInfoController]["+x+"] ERROR loading ",b.url);D=b.duration,t("[FragmentInfoController]["+x+"] FragmentInfo loaded ",b.url);try{(0,m.default)(r).create({metricsModel:G,playbackController:H}).updateSegmentList(a.fragmentInfo,E),c=((new Date).getTime()-A)/1e3,d=z+D-B,C=d-c>0?d-c:0,j(C)}catch(a){t("[FragmentInfoController]["+x+"] ERROR - Internal error while processing fragment info segment ")}}}function n(){w&&(A=(new Date).getTime(),B=z,t("[FragmentInfoController]["+x+"] startPlayback"),h.call(this))}function o(){var a=void 0;if(!0!==w){F.on(k.default.FRAGMENT_INFO_LOADING_COMPLETED,l,s),w=!0,t("[FragmentInfoController]["+x+"] START");var b=d();a=b.segments,a?(z=a[a.length-1].presentationStartTime-a[a.length-1].duration,n()):(v.updateSegmentList(b),a=b.segments,z=a[a.length-1].presentationStartTime-a[a.length-1].duration,n())}}function p(){w&&(t("[FragmentInfoController]["+x+"] STOP"),F.off(k.default.FRAGMENT_INFO_LOADING_COMPLETED,l,s),clearTimeout(y),w=!1,A=null,B=null)}function q(){p(),E.unregisterExternalController(s)}var r=this.context,s=void 0,t=void 0,u=void 0,v=void 0,w=void 0,x=void 0,y=void 0,z=void 0,A=void 0,B=void 0,C=void 0,D=void 0,E=a.streamProcessor,F=a.eventBus,G=a.metricsModel,H=a.playbackController;return s={initialize:c,start:o,reset:q},b(),s}Object.defineProperty(c,"__esModule",{value:!0});var f=a(5),g=d(f),h=a(3),i=d(h),j=a(9),k=d(j),l=a(11),m=d(l);e.__dashjs_factory_name="MssFragmentInfoController",c.default=g.default.getClassFactory(e),c.default=g.default.getClassFactory(e),b.exports=c.default},{11:11,3:3,5:5,9:9}],11:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(){j=(0,i.default)(g).getInstance().log}function c(a,b,c,d){var e=d.getRepresentationController(),f=e.getCurrentRepresentation(),g=d.getIndexHandler(),h=f.adaptation.period.mpd.manifest,i=h.Period_asArray[f.adaptation.period.index].AdaptationSet_asArray[f.adaptation.index],k=!1,n=i.SegmentTemplate.SegmentTimeline.S,o=b.entry,p=0,q=0,r=null,s=0,t=0,u=0,v=-1,w=null,x=void 0;if("dynamic"!==h.type)return!1;for(;t<o.length;)p=o[t].fragment_absolute_time,q=o[t].fragment_duration,r=n[n.length-1],s=r.t,p>s&&(j("[MssFragmentMoofProcessor]Add new segment - t = "+p/1e7),n.push({t:p,d:q}),k=!0),t+=1;for(u=n.length-1;u>=0;u-=1)if(n[u].t===c.baseMediaDecodeTime){v=u;break}if(v>=0)for(t=0;t<o.length;t+=1)v+t<n.length&&(s=n[v+t].t)+n[v+t].d!==o[t].fragment_absolute_time&&(n[v+t].t=o[t].fragment_absolute_time,n[v+t].d=o[t].fragment_duration,j("[MssFragmentMoofProcessor]Correct tfrf time  = "+o[t].fragment_absolute_time+"and duration = "+o[t].fragment_duration+"! ********"),k=!0);if(h.timeShiftBufferDepth&&h.timeShiftBufferDepth>0){if(k)for(r=n[n.length-1],s=r.t,w=s-1e7*h.timeShiftBufferDepth,r=n[0];r.t<w;)j("[MssFragmentMoofProcessor]Remove segment  - t = "+r.t/1e7),n.splice(0,1),r=n[0];x={start:n[0].t/i.SegmentTemplate.timescale,end:c.baseMediaDecodeTime/i.SegmentTemplate.timescale+a.duration};var y=l.getMetricsFor(a.mediaType).DVRInfo;y&&(0===y.length||y.length>0&&x.end>y[y.length-1].range.end)&&(j("[MssFragmentMoofProcessor]["+a.mediaType+"] Update DVR Infos ["+x.start+" - "+x.end+"]"),l.addDVRInfo(a.mediaType,m.getTime(),d.getStreamInfo().manifestInfo,x))}return k&&g.updateSegmentList(f),k}function d(a,b){var c=8,d=0;for(d=0;d<a.boxes.length;d++){if(a.boxes[d].type===b)return c;c+=a.boxes[d].size}return c}function e(a,b){var e=void 0;if(a.response){var f=k.default.parseBuffer(a.response),g=f.fetch("tfhd");g.track_ID=a.request.mediaInfo.index+1;var h=f.fetch("tfdt"),i=f.fetch("traf");null===h&&(h=k.default.createFullBox("tfdt",i,g),h.version=1,h.flags=0,h.baseMediaDecodeTime=Math.floor(a.request.startTime*a.request.timescale));var j=f.fetch("trun"),l=f.fetch("tfxd");l&&(l._parent.boxes.splice(l._parent.boxes.indexOf(l),1),l=null);var m=f.fetch("tfrf");m&&(c(a.request,m,h,b),m._parent.boxes.splice(m._parent.boxes.indexOf(m),1),m=null);var n=f.fetch("sepiff");if(null!==n){n.type="senc",n.usertype=void 0;var o=f.fetch("saio");if(null===o){o=k.default.createFullBox("saio",i),o.version=0,o.flags=0,o.entry_count=1,o.offset=[0];var p=k.default.createFullBox("saiz",i);if(p.version=0,p.flags=0,p.sample_count=n.sample_count,p.default_sample_info_size=0,p.sample_info_size=[],2&n.flags)for(e=0;e<n.sample_count;e+=1)p.sample_info_size[e]=10+6*n.entry[e].NumberOfEntries;else p.default_sample_info_size=8}}g.flags&=16777214,g.flags|=131072,j.flags|=1;var q=f.fetch("moof"),r=q.getLength();j.data_offset=r+8;var s=f.fetch("saio");if(null!==s){var t=d(q,"traf"),u=d(i,"senc");s.offset[0]=t+u+16}a.response=f.write()}}function f(a,b){if(a.response){var d=k.default.parseBuffer(a.response),e=d.fetch("tfhd");e.track_ID=a.request.mediaInfo.index+1;var f=d.fetch("tfdt"),g=d.fetch("traf");null===f&&(f=k.default.createFullBox("tfdt",g,e),f.version=1,f.flags=0,f.baseMediaDecodeTime=Math.floor(a.request.startTime*a.request.timescale));var h=d.fetch("tfrf");h&&(c(a.request,h,f,b),h._parent.boxes.splice(h._parent.boxes.indexOf(h),1),h=null)}}var g=this.context,h=void 0,j=void 0,l=a.metricsModel,m=a.playbackController;return h={convertFragment:e,updateSegmentList:f},b(),h}Object.defineProperty(c,"__esModule",{value:!0});var f=a(5),g=d(f),h=a(3),i=d(h),j=a(2),k=d(j);e.__dashjs_factory_name="MssFragmentMoofProcessor",c.default=g.default.getClassFactory(e),b.exports=c.default},{2:2,3:3,5:5}],12:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a){var b=k.default.createBox("ftyp",a);return b.major_brand="iso6",b.minor_version=1,b.compatible_brands=[],b.compatible_brands[0]="isom",b.compatible_brands[1]="iso6",b.compatible_brands[2]="msdh",b}function b(a){var b=k.default.createBox("moov",a);c(b);var m=k.default.createBox("trak",b);d(m);var n=k.default.createBox("mdia",m);e(n),f(n);var o=k.default.createBox("minf",n);switch(F.type){case g.default.VIDEO:h(o);break;case g.default.AUDIO:i(o)}j(k.default.createBox("dinf",o));var p=k.default.createBox("stbl",o);k.default.createFullBox("stts",p)._data=[0,0,0,0,0,0,0,0],k.default.createFullBox("stsc",p)._data=[0,0,0,0,0,0,0,0],k.default.createFullBox("stco",p)._data=[0,0,0,0,0,0,0,0],k.default.createFullBox("stsz",p)._data=[0,0,0,0,0,0,0,0,0,0,0,0],l(p),x(k.default.createBox("mvex",b)),H&&v(b,H[0].pro.__text)}function c(a){var b=k.default.createFullBox("mvhd",a);return b.version=1,b.creation_time=0,b.modification_time=0,b.timescale=B,b.duration=Math.round(E.duration*B),b.rate=1,b.volume=1,b.reserved1=0,b.reserved2=[0,0],b.matrix=[1,0,0,0,1,0,0,0,16384],b.pre_defined=[0,0,0,0,0,0],b.next_track_ID=I+1,b}function d(a){var b=k.default.createFullBox("tkhd",a);return b.version=1,b.flags=7,b.creation_time=0,b.modification_time=0,b.track_ID=I,b.reserved1=0,b.duration=Math.round(E.duration*B),b.reserved2=[0,0],b.layer=0,b.alternate_group=0,b.volume=1,b.reserved3=0,b.matrix=[1,0,0,0,1,0,0,0,16384],b.width=G.width,b.height=G.height,b}function e(a){var b=k.default.createFullBox("mdhd",a);return b.version=1,b.creation_time=0,b.modification_time=0,b.timescale=B,b.duration=Math.round(E.duration*B),b.language=F.lang||"und",b.pre_defined=0,b}function f(a){var b=k.default.createFullBox("hdlr",a);switch(b.pre_defined=0,F.type){case g.default.VIDEO:b.handler_type="vide";break;case g.default.AUDIO:b.handler_type="soun";break;default:b.handler_type="meta"}return b.name=G.id,b.reserved=[0,0,0],b}function h(a){var b=k.default.createFullBox("vmhd",a);return b.flags=1,b.graphicsmode=0,b.opcolor=[0,0,0],b}function i(a){var b=k.default.createFullBox("smhd",a);return b.flags=1,b.balance=0,b.reserved=0,b}function j(a){var b=k.default.createFullBox("dref",a);b.entry_count=1,b.entries=[];var c=k.default.createFullBox("url ",b,!1);return c.location="",c.flags=1,b.entries.push(c),b}function l(a){var b=k.default.createFullBox("stsd",a);switch(b.entries=[],F.type){case g.default.VIDEO:case g.default.AUDIO:b.entries.push(n(b))}return b.entry_count=b.entries.length,b}function n(a){var b=G.codecs.substring(0,G.codecs.indexOf("."));switch(b){case"avc1":return o(a,b);case"mp4a":return q(a,b);default:throw{name:"Unsupported codec",message:"Unsupported codec",data:{codec:b}}}}function o(a,b){var c=void 0;if(c=H?k.default.createBox("encv",a,!1):k.default.createBox("avc1",a,!1),c.reserved1=[0,0,0,0,0,0],c.data_reference_index=1,c.pre_defined1=0,c.reserved2=0,c.pre_defined2=[0,0,0],c.height=G.height,c.width=G.width,c.horizresolution=72,c.vertresolution=72,c.reserved3=0,c.frame_count=1,c.compressorname=[10,65,86,67,32,67,111,100,105,110,103,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],c.depth=24,c.pre_defined3=65535,c.config=p(),H){var d=k.default.createBox("sinf",c);s(d,b),t(d),u(d)}return c}function p(){for(var a=null,b=15,c=[],d=[],e=0,f=0,g=0,h=G.codecPrivateData.split("00000001").slice(1),i=void 0,j=0;j<h.length;j++)switch(i=y(h[j]),31&i[0]){case C:c.push(i),b+=i.length+2;break;case D:d.push(i),b+=i.length+2}c.length>0&&(e=c[0][1],g=c[0][2],f=c[0][3]),a=new Uint8Array(b);var k=0;a[k++]=(4278190080&b)>>24,a[k++]=(16711680&b)>>16,a[k++]=(65280&b)>>8,a[k++]=255&b,a.set([97,118,99,67],k),k+=4,a[k++]=1,a[k++]=e,a[k++]=g,a[k++]=f,a[k++]=255,a[k++]=224|c.length;for(var l=0;l<c.length;l++)a[k++]=(65280&c[l].length)>>8,a[k++]=255&c[l].length,a.set(c[l],k),k+=c[l].length;a[k++]=d.length;for(var l=0;l<d.length;l++)a[k++]=(65280&d[l].length)>>8,a[k++]=255&d[l].length,a.set(d[l],k),k+=d[l].length;return a}function q(a,b){var c=void 0;if(c=H?k.default.createBox("enca",a,!1):k.default.createBox("mp4a",a,!1),c.reserved1=[0,0,0,0,0,0],c.data_reference_index=1,c.reserved2=[0,0],c.channelcount=G.audioChannels,c.samplesize=16,c.pre_defined=0,c.reserved_3=0,c.samplerate=G.audioSamplingRate<<16,c.esds=r(),H){var d=k.default.createBox("sinf",c);s(d,b),t(d),u(d)}return c}function r(){var a=y(G.codecPrivateData),b=34+a.length,c=new Uint8Array(b),d=0;return c[d++]=(4278190080&b)>>24,c[d++]=(16711680&b)>>16,c[d++]=(65280&b)>>8,c[d++]=255&b,c.set([101,115,100,115],d),d+=4,c.set([0,0,0,0],d),d+=4,c[d++]=3,c[d++]=20+a.length,c[d++]=(65280&I)>>8,c[d++]=255&I,c[d++]=0,c[d++]=4,c[d++]=15+a.length,c[d++]=64,c[d]=20,c[d]|=0,c[d++]|=1,c[d++]=255,c[d++]=255,c[d++]=255,c[d++]=(4278190080&G.bandwidth)>>24,c[d++]=(16711680&G.bandwidth)>>16,c[d++]=(65280&G.bandwidth)>>8,c[d++]=255&G.bandwidth,c[d++]=(4278190080&G.bandwidth)>>24,c[d++]=(16711680&G.bandwidth)>>16,c[d++]=(65280&G.bandwidth)>>8,c[d++]=255&G.bandwidth,c[d++]=5,c[d++]=a.length,c.set(a,d),c}function s(a,b){k.default.createBox("frma",a).data_format=z(b)}function t(a){var b=k.default.createFullBox("schm",a);b.flags=0,b.version=0,b.scheme_type=1667591779,b.scheme_version=65536}function u(a){w(k.default.createBox("schi",a))}function v(a,b){var c=k.default.createFullBox("pssh",a),d=m.default.decodeArray(b);c.flags=0,c.version=0,c.SystemID=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),c.DataSize=d.length,c.Data=d}function w(a){var b=k.default.createFullBox("tenc",a);b.flags=0,b.version=0,b.default_IsEncrypted=1,b.default_IV_size=8,b.default_KID=H&&H.length>0&&H[0]["cenc:default_KID"]?H[0]["cenc:default_KID"]:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}function x(a){var b=k.default.createFullBox("trex",a);return b.track_ID=I,b.default_sample_description_index=1,b.default_sample_duration=0,b.default_sample_size=0,b.default_sample_flags=0,b}function y(a){var b=new Uint8Array(a.length/2),c=void 0;for(c=0;c<a.length/2;c+=1)b[c]=parseInt(""+a[2*c]+a[2*c+1],16);return b}function z(a){var b=0,c=void 0;for(c=0;c<a.length;c+=1)b|=a.charCodeAt(c)<<8*(a.length-c-1);return b}function A(c){if(c&&c.adaptation){var d=void 0;return G=c,F=G.adaptation,E=F.period,I=F.index+1,H=E.mpd.manifest.Period_asArray[E.index].AdaptationSet_asArray[F.index].ContentProtection,d=k.default.createFile(),a(d),b(d),d.write()}}var B=1e7,C=7,D=8,E=void 0,F=void 0,G=void 0,H=void 0,I=void 0;return{generateMoov:A}}Object.defineProperty(c,"__esModule",{value:!0});var f=a(18),g=d(f),h=a(5),i=d(h),j=a(2),k=d(j),l=a(1),m=d(l);e.__dashjs_factory_name="MssFragmentMoovProcessor",c.default=i.default.getClassFactory(e),b.exports=c.default},{1:1,18:18,2:2,5:5}],13:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){return a.length===b.length&&a.every(function(a,c){return a===b[c]})}function f(){this._procFullBox(),1&this.flags&&(this._procField("aux_info_type","uint",32),this._procField("aux_info_type_parameter","uint",32)),this._procField("entry_count","uint",32),this._procFieldArray("offset",this.entry_count,"uint",1===this.version?64:32)}function g(){this._procFullBox(),1&this.flags&&(this._procField("aux_info_type","uint",32),this._procField("aux_info_type_parameter","uint",32)),this._procField("default_sample_info_size","uint",8),this._procField("sample_count","uint",32),0===this.default_sample_info_size&&this._procFieldArray("sample_info_size",this.sample_count,"uint",8)}function h(){this._procFullBox(),this._procField("sample_count","uint",32),1&this.flags&&this._procField("IV_size","uint",8),this._procEntries("entry",this.sample_count,function(a){this._procEntryField(a,"InitializationVector","data",8),2&this.flags&&(this._procEntryField(a,"NumberOfEntries","uint",16),this._procSubEntries(a,"clearAndCryptedData",a.NumberOfEntries,function(a){this._procEntryField(a,"BytesOfClearData","uint",16),this._procEntryField(a,"BytesOfEncryptedData","uint",32)}))})}function i(){var a=[109,29,155,5,66,213,68,230,128,226,20,29,175,247,87,178],b=[212,128,126,242,202,57,70,149,142,84,38,203,158,70,167,159],c=[162,57,79,82,90,155,79,20,162,68,108,66,124,100,141,244];e(this.usertype,a)&&(this._procFullBox(),this._parsing&&(this.type="tfxd"),this._procField("fragment_absolute_time","uint",1===this.version?64:32),this._procField("fragment_duration","uint",1===this.version?64:32)),e(this.usertype,b)&&(this._procFullBox(),this._parsing&&(this.type="tfrf"),this._procField("fragment_count","uint",8),this._procEntries("entry",this.fragment_count,function(a){this._procEntryField(a,"fragment_absolute_time","uint",1===this.version?64:32),this._procEntryField(a,"fragment_duration","uint",1===this.version?64:32)})),e(this.usertype,c)&&(this._parsing&&(this.type="sepiff"),h.call(this))}function j(a){function b(){}function c(a){return(0,r.default)(e).create().generateMoov(a)}function d(a,b){if(a){var c=a.request;if(c)if("MediaSegment"===c.type){var d=(0,p.default)(e).create({metricsModel:f,playbackController:g});d.convertFragment(a,b)}else"FragmentInfoSegment"===c.type&&(h.trigger(t.default.FRAGMENT_INFO_LOADING_COMPLETED,{fragmentInfo:a,streamProcessor:b}),a.sender=null)}}var e=this.context,f=a.metricsModel,g=a.playbackController,h=a.eventBus,i=void 0;return i={generateMoov:c,processFragment:d},b(),i}Object.defineProperty(c,"__esModule",{value:!0});var k=a(5),l=d(k),m=a(2),n=d(m),o=a(11),p=d(o),q=a(12),r=d(q),s=a(9),t=d(s);n.default.addBoxProcessor("uuid",i),n.default.addBoxProcessor("saio",f),n.default.addBoxProcessor("saiz",g),n.default.addBoxProcessor("senc",h),j.__dashjs_factory_name="MssFragmentProcessor",c.default=l.default.getClassFactory(j),b.exports=c.default},{11:11,12:12,2:2,5:5,9:9}],14:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(){}function c(a){var b=a.sender.getStreamProcessor(),c=new s.default,e=b.getRepresentationController(),f=e.getCurrentRepresentation(),g=void 0;g=f.adaptation.period,c.mediaType=f.adaptation.type,c.type=t.HTTPRequest.INIT_SEGMENT_TYPE,c.range=f.range,g.start,c.quality=f.index,c.mediaInfo=b.getMediaInfo(),c.representationId=f.id;var h=d(c,b.getStreamInfo().id);h.bytes=u.generateMoov(f),o.trigger(i.default.INIT_FRAGMENT_LOADED,{chunk:h,fragmentModel:b.getFragmentModel()}),a.sender=null}function d(a,b){var c=new q.default;return c.streamId=b,c.mediaInfo=a.mediaInfo,c.segmentType=a.type,c.start=a.startTime,c.duration=a.duration,c.end=c.start+c.duration,c.index=a.index,c.quality=a.quality,c.representationId=a.representationId,c}function e(a){var b=a.sender.getStreamProcessor();u.processFragment(a,b)}function f(){if(r.getIsDynamic()&&0!==r.getTime()){var a=r.getStreamController();if(a){a.getActiveStreamProcessors().forEach(function(a){if(a.getType()===g.default.VIDEO||a.getType()===g.default.AUDIO||a.getType()===g.default.FRAGMENTED_TEXT){var b=(0,v.default)(n).create({streamProcessor:a,eventBus:o,metricsModel:p,playbackController:r});b.initialize(),b.start()}})}}}function h(){o.on(i.default.INIT_REQUESTED,c,y,m.default.EVENT_PRIORITY_HIGH),o.on(k.default.PLAYBACK_SEEK_ASKED,f,y,m.default.EVENT_PRIORITY_HIGH),o.on(k.default.FRAGMENT_LOADING_COMPLETED,e,y,m.default.EVENT_PRIORITY_HIGH)}function j(){o.off(i.default.INIT_REQUESTED,c,this),o.off(k.default.PLAYBACK_SEEK_ASKED,f,this),o.off(k.default.FRAGMENT_LOADING_COMPLETED,e,this)}function l(){return w=(0,z.default)(n).create(a)}var n=this.context,o=a.eventBus,p=a.metricsModel,r=a.playbackController,u=(0,x.default)(n).create({metricsModel:p,playbackController:r,eventBus:o}),w=void 0,y=void 0;return y={reset:j,createMssParser:l,registerEvents:h},b(),y}Object.defineProperty(c,"__esModule",{value:!0});var f=a(18),g=d(f),h=a(7),i=d(h),j=a(17),k=d(j),l=a(4),m=d(l),n=a(5),o=d(n),p=a(21),q=d(p),r=a(22),s=d(r),t=a(23),u=a(10),v=d(u),w=a(13),x=d(w),y=a(16),z=d(y);e.__dashjs_factory_name="MssHandler",c.default=o.default.getClassFactory(e),b.exports=c.default},{10:10,13:13,16:16,17:17,18:18,21:21,22:22,23:23,4:4,5:5,7:7}],15:[function(a,b,c){(function(b){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(c,"__esModule",{value:!0});var e=a(14),f=d(e),g="undefined"!=typeof window&&window||b,h=g.dashjs;h||(h=g.dashjs={}),h.MssHandler=f.default,c.default=h,c.MssHandler=f.default}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{14:14}],16:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(){F=a.mediaPlayerModel}function c(a){var b={},c=void 0,e=void 0;b.duration=0===parseFloat(a.getAttribute("Duration"))?1/0:parseFloat(a.getAttribute("Duration"))/A,b.AdaptationSet_asArray=[],c=a.getElementsByTagName("StreamIndex");for(var f=0;f<c.length;f++)null!==(e=d(c[f]))&&b.AdaptationSet_asArray.push(e);return b.AdaptationSet_asArray.length>0&&(b.AdaptationSet=b.AdaptationSet_asArray.length>1?b.AdaptationSet_asArray:b.AdaptationSet_asArray[0]),b}function d(a){var b={},c=[],d={},f=void 0,g=void 0,h=void 0,j=void 0;for(b.id=a.getAttribute("Name")?a.getAttribute("Name"):a.getAttribute("Type"),b.contentType=a.getAttribute("Type"),b.lang=a.getAttribute("Language")||"und",b.mimeType=D[b.contentType],b.subType=a.getAttribute("Subtype"),b.maxWidth=a.getAttribute("MaxWidth"),b.maxHeight=a.getAttribute("MaxHeight"),d=i(a),f=a.getElementsByTagName("QualityLevel"),j=0;j<f.length;j++)f[j].BaseURL=b.BaseURL,f[j].mimeType=b.mimeType,f[j].Id=b.id+"_"+f[j].getAttribute("Index"),null!==(g=e(f[j],a))&&(g.SegmentTemplate=d,c.push(g));return 0===c.length?null:(b.Representation=c.length>1?c:c[0],b.Representation_asArray=c,b.SegmentTemplate=d,h=d.SegmentTimeline.S_asArray,{start:h[0].t/d.timescale,end:(h[h.length-1].t+h[h.length-1].d)/d.timescale},b)}function e(a,b){var c={},d=null;return c.id=a.Id,c.bandwidth=parseInt(a.getAttribute("Bitrate"),10),c.mimeType=a.mimeType,c.width=parseInt(a.getAttribute("MaxWidth"),10),c.height=parseInt(a.getAttribute("MaxHeight"),10),d=a.getAttribute("FourCC"),null===d&&(d=b.getAttribute("FourCC")),null===d&&(d="AAC"),-1===B.indexOf(d.toUpperCase())?(y("[MssParser] Codec not supported: "+d),null):("H264"===d||"AVC1"===d?c.codecs=f(a):d.indexOf("AAC")>=0?(c.codecs=h(a,d),c.audioSamplingRate=parseInt(a.getAttribute("SamplingRate"),10),c.audioChannels=parseInt(a.getAttribute("Channels"),10)):(d.indexOf("TTML")||d.indexOf("DFXP"))&&(c.codecs=g.default.STPP),c.codecPrivateData=""+a.getAttribute("CodecPrivateData"),c.BaseURL=a.BaseURL,c)}function f(a){var b=a.getAttribute("CodecPrivateData").toString(),c=void 0;return c=/00000001[0-9]7/.exec(b),"avc1."+(c&&c[0]?b.substr(b.indexOf(c[0])+10,6):void 0)}function h(a,b){var c=0,d=a.getAttribute("CodecPrivateData").toString(),e=parseInt(a.getAttribute("SamplingRate"),10),f=void 0,g=void 0,h=void 0,i=void 0;return"AACH"===b&&(c=5),void 0===d||""===d?(c=2,h=C[e],"AACH"===b?(c=5,d=new Uint8Array(4),i=C[2*e],d[0]=c<<3|h>>1,d[1]=h<<7|a.Channels<<3|i>>1,d[2]=i<<7|8,d[3]=0,g=new Uint16Array(2),g[0]=(d[0]<<8)+d[1],g[1]=(d[2]<<8)+d[3],f=g[0].toString(16),f=g[0].toString(16)+g[1].toString(16)):(d=new Uint8Array(2),d[0]=c<<3|h>>1,d[1]=h<<7|parseInt(a.getAttribute("Channels"),10)<<3,g=new Uint16Array(1),g[0]=(d[0]<<8)+d[1],f=g[0].toString(16)),d=""+f,d=d.toUpperCase(),a.setAttribute("CodecPrivateData",d)):0===c&&(c=(248&parseInt(d.substr(0,2),16))>>3),"mp4a.40."+c}function i(a){var b={},c=void 0;return c=a.getAttribute("Url").replace("{bitrate}","$Bandwidth$"),c=c.replace("{start time}","$Time$"),b.media=c,b.timescale=A,b.SegmentTimeline=j(a),b}function j(a){var b={},c=a.getElementsByTagName("c"),d=[],e=void 0,f=void 0,g=void 0,h=void 0,i=0;for(h=0;h<c.length;h++)e={},g=c[h].getAttribute("t"),e.tManifest=parseFloat(g),e.t=parseFloat(g),e.d=parseFloat(c[h].getAttribute("d")),0!==h||e.t||(e.t=0),h>0&&(f=d[d.length-1],f.d||(f.tManifest?f.d=parseFloat(g)-parseFloat(f.tManifest):f.d=e.t-f.t),e.t||(f.tManifest?(e.tManifest=parseFloat(f.tManifest)+f.d,e.t=parseFloat(e.tManifest)):e.t=f.t+f.d)),i+=e.d,d.push(e);return b.S=d,b.S_asArray=d,b.duration=i/A,b}function l(a){var b=void 0,c=void 0,d=void 0,e=void 0;return b=m.default.decodeArray(a.firstChild.data),c=n(b),c=new Uint16Array(c.buffer),c=String.fromCharCode.apply(null,c),d=(new DOMParser).parseFromString(c,"application/xml"),e=d.querySelector("KID").textContent,e=m.default.decodeArray(e),p(e),e}function n(a){var b=void 0,c=void 0,d=void 0,e=0;for((a[e+3]<<24)+(a[e+2]<<16)+(a[e+1]<<8)+a[e],e+=4,(a[e+1]<<8)+a[e],e+=2;e<a.length;)if(b=(a[e+1]<<8)+a[e],e+=2,1===b)return c=(a[e+1]<<8)+a[e],e+=2,d=new Uint8Array(c),d.set(a.subarray(e,e+c)),d;return null}function p(a){q(a,0,3),q(a,1,2),q(a,4,5),q(a,6,7)}function q(a,b,c){var d=a[b];a[b]=a[c],a[c]=d}function r(a){var b={},c=void 0;return c={__text:a.firstChild.data,__prefix:"mspr"},b.schemeIdUri="urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95",b.value="com.microsoft.playready",b.pro=c,b.pro_asArray=c,b}function s(){var a={};return a.schemeIdUri=x.schemeIdURI,a.value=x.systemString,a}function t(a,b){var d={},e=[],f=a.getElementsByTagName("SmoothStreamingMedia")[0],g=a.getElementsByTagName("Protection")[0],h=null,i=void 0,j=void 0,k=void 0,m=void 0,n=void 0,o=void 0,p=void 0,q=void 0,t=void 0;for(d.protocol="MSS",d.profiles="urn:mpeg:dash:profile:isoff-live:2011",d.type="TRUE"===f.getAttribute("IsLive")?"dynamic":"static",d.timeShiftBufferDepth=parseFloat(f.getAttribute("DVRWindowLength"))/A,d.mediaPresentationDuration=0===parseFloat(f.getAttribute("Duration"))?1/0:parseFloat(f.getAttribute("Duration"))/A,d.minBufferTime=F.getStableBufferTime(),d.ttmlTimeIsRelative=!0,"dynamic"===d.type&&(d.availabilityStartTime=new Date(b.getTime()-1e3*d.timeShiftBufferDepth),d.refreshManifestOnSwitchTrack=!0,d.doNotUpdateDVRWindowOnBufferUpdated=!0,d.ignorePostponeTimePeriod=!0),d.Period=c(f),d.Period_asArray=[d.Period],i=d.Period,i.start=0,void 0!==g&&(h=a.getElementsByTagName("ProtectionHeader")[0],h.firstChild.data=h.firstChild.data.replace(/\n|\r/g,""),m=l(h),k=r(h),k["cenc:default_KID"]=m,e.push(k),k=s.call(this,h),k["cenc:default_KID"]=m,e.push(k),d.ContentProtection=e,d.ContentProtection_asArray=e),j=i.AdaptationSet_asArray,q=0;q<j.length;q+=1)j[q].SegmentTemplate.initialization="$Bandwidth$",void 0!==d.ContentProtection&&(j[q].ContentProtection=d.ContentProtection,j[q].ContentProtection_asArray=d.ContentProtection_asArray),"dynamic"===d.type&&d.timeShiftBufferDepth>0&&"video"===j[q].contentType&&d.timeShiftBufferDepth>j[q].SegmentTemplate.SegmentTimeline.duration&&(d.timeShiftBufferDepth=j[q].SegmentTemplate.SegmentTimeline.duration);if(d.timeShiftBufferDepth<d.minBufferTime&&(d.minBufferTime=d.timeShiftBufferDepth),delete d.ContentProtection,delete d.ContentProtection_asArray,"static"===d.type){for(q=0;q<j.length;q++)"audio"!==j[q].contentType&&"video"!==j[q].contentType||(p=j[q].SegmentTemplate.SegmentTimeline.S_asArray,o=p[0].t,n||(n=o),n=Math.min(n,o),d.mediaPresentationDuration=Math.min(d.mediaPresentationDuration,((p[p.length-1].t+p[p.length-1].d)/A).toFixed(3)));if(n>0){for(q=0;q<j.length;q++){for(p=j[q].SegmentTemplate.SegmentTimeline.S_asArray,t=0;t<p.length;t++)p[t].tManifest||(p[t].tManifest=p[t].t),p[t].t-=n;"audio"!==j[q].contentType&&"video"!==j[q].contentType||(i.start=Math.max(p[0].t,i.start))}i.start/=A}}return i.duration=d.mediaPresentationDuration,d}function u(a){var b=null;if(window.DOMParser)try{var c=new window.DOMParser;if(b=c.parseFromString(a,"text/xml"),b.getElementsByTagName("parsererror").length>0)throw new Error("Error parsing XML")}catch(d){z.manifestError("parsing the manifest failed","parse",a,d),b=null}return b}function v(a){var b=null,c=null,d=window.performance.now();b=u(a);var e=window.performance.now();if(null===b)return null;c=t(b,new Date);var f=window.performance.now();return y("Parsing complete: (xmlParsing: "+(e-d).toPrecision(3)+"ms, mss2dash: "+(f-e).toPrecision(3)+"ms, total: "+((f-d)/1e3).toPrecision(3)+"s)"),c}var w=this.context,x=(0,o.default)(w).getInstance(),y=(0,k.default)(w).getInstance().log,z=a.errHandler,A=1e7,B=["AAC","AACL","AVC1","H264","TTML","DFXP"],C={96e3:0,88200:1,64e3:2,48e3:3,44100:4,32e3:5,24e3:6,22050:7,16e3:8,12e3:9,11025:10,8e3:11,7350:12},D={video:"video/mp4",audio:"audio/mp4",text:"application/mp4"},E=void 0,F=void 0;return E={parse:v},b(),E}Object.defineProperty(c,"__esModule",{value:!0});var f=a(18),g=d(f),h=a(5),i=d(h),j=a(3),k=d(j),l=a(1),m=d(l),n=a(20),o=d(n);e.__dashjs_factory_name="MssParser",c.default=i.default.getClassFactory(e),b.exports=c.default},{1:1,18:18,20:20,3:3,5:5}],17:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var g=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if("value"in h)return h.value;var i=h.get;if(void 0===i)return;return i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return;a=j,b=f,c=g,d=!0,h=j=void 0}},h=a(8),i=d(h),j=function(a){function b(){e(this,b),g(Object.getPrototypeOf(b.prototype),"constructor",this).call(this),this.AST_IN_FUTURE="astInFuture",this.BUFFER_EMPTY="bufferStalled",this.BUFFER_LOADED="bufferLoaded",this.BUFFER_LEVEL_STATE_CHANGED="bufferStateChanged",this.ERROR="error",this.FRAGMENT_LOADING_COMPLETED="fragmentLoadingCompleted",this.FRAGMENT_LOADING_STARTED="fragmentLoadingStarted",this.FRAGMENT_LOADING_ABANDONED="fragmentLoadingAbandoned",this.LOG="log",this.MANIFEST_LOADED="manifestLoaded",this.METRICS_CHANGED="metricsChanged",this.METRIC_CHANGED="metricChanged",this.METRIC_ADDED="metricAdded",this.METRIC_UPDATED="metricUpdated",this.PERIOD_SWITCH_COMPLETED="periodSwitchCompleted",this.PERIOD_SWITCH_STARTED="periodSwitchStarted",this.QUALITY_CHANGE_REQUESTED="qualityChangeRequested",this.QUALITY_CHANGE_RENDERED="qualityChangeRendered",this.STREAM_INITIALIZED="streamInitialized",this.STREAM_TEARDOWN_COMPLETE="streamTeardownComplete",this.TEXT_TRACKS_ADDED="allTextTracksAdded",this.TEXT_TRACK_ADDED="textTrackAdded",this.CAN_PLAY="canPlay",this.PLAYBACK_ENDED="playbackEnded",this.PLAYBACK_ERROR="playbackError",this.PLAYBACK_NOT_ALLOWED="playbackNotAllowed",this.PLAYBACK_METADATA_LOADED="playbackMetaDataLoaded",this.PLAYBACK_PAUSED="playbackPaused",this.PLAYBACK_PLAYING="playbackPlaying",this.PLAYBACK_PROGRESS="playbackProgress",this.PLAYBACK_RATE_CHANGED="playbackRateChanged",this.PLAYBACK_SEEKED="playbackSeeked",this.PLAYBACK_SEEKING="playbackSeeking",this.PLAYBACK_SEEK_ASKED="playbackSeekAsked",this.PLAYBACK_STARTED="playbackStarted",this.PLAYBACK_TIME_UPDATED="playbackTimeUpdated"}return f(b,a),b}(i.default),k=new j;c.default=k,b.exports=c.default},{8:8}],18:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(){d(this,a),this.init()}return e(a,[{key:"init",value:function(){this.STREAM="stream",this.VIDEO="video",this.AUDIO="audio",this.TEXT="text",this.FRAGMENTED_TEXT="fragmentedText",this.EMBEDDED_TEXT="embeddedText",this.MUXED="muxed",this.LOCATION="Location",this.INITIALIZE="initialize",this.TEXT_SHOWING="showing",this.TEXT_HIDDEN="hidden",this.CC1="CC1",this.CC3="CC3",this.STPP="stpp",this.TTML="ttml",this.VTT="vtt",this.WVTT="wvtt",this.UTF8="utf-8",this.SUGGESTED_PRESENTATION_DELAY="suggestedPresentationDelay",this.SCHEME_ID_URI="schemeIdUri",this.START_TIME="starttime",this.ABR_STRATEGY_DYNAMIC="abrDynamic",this.ABR_STRATEGY_BOLA="abrBola",this.ABR_STRATEGY_THROUGHPUT="abrThroughput",this.MOVING_AVERAGE_SLIDING_WINDOW="slidingWindow",this.MOVING_AVERAGE_EWMA="ewma"}}]),a}(),g=new f;c.default=g,b.exports=c.default},{}],19:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=a(1),h=d(g),i=function(){function a(){e(this,a)}
return f(a,null,[{key:"findCencContentProtection",value:function(a){for(var b=null,c=0;c<a.length;++c){var d=a[c];"urn:mpeg:dash:mp4protection:2011"===d.schemeIdUri.toLowerCase()&&"cenc"===d.value.toLowerCase()&&(b=d)}return b}},{key:"getPSSHData",value:function(a){var b=8,c=new DataView(a),d=c.getUint8(b);return b+=20,d>0&&(b+=4+16*c.getUint32(b)),b+=4,a.slice(b)}},{key:"getPSSHForKeySystem",value:function(b,c){var d=a.parsePSSHList(c);return d.hasOwnProperty(b.uuid.toLowerCase())?d[b.uuid.toLowerCase()]:null}},{key:"parseInitDataFromContentProtection",value:function(a){return"pssh"in a?h.default.decodeArray(a.pssh.__text).buffer:null}},{key:"parsePSSHList",value:function(a){if(null===a)return[];for(var b=new DataView(a),c=!1,d={},e=0;!c;){var f=void 0,g=void 0,h=void 0,i=void 0,j=e;if(e>=b.buffer.byteLength)break;if(f=b.getUint32(e),g=e+f,e+=4,1886614376===b.getUint32(e))if(e+=4,0===(h=b.getUint8(e))||1===h){e++,e+=3,i="";var k=void 0,l=void 0;for(k=0;k<4;k++)l=b.getUint8(e+k).toString(16),i+=1===l.length?"0"+l:l;for(e+=4,i+="-",k=0;k<2;k++)l=b.getUint8(e+k).toString(16),i+=1===l.length?"0"+l:l;for(e+=2,i+="-",k=0;k<2;k++)l=b.getUint8(e+k).toString(16),i+=1===l.length?"0"+l:l;for(e+=2,i+="-",k=0;k<2;k++)l=b.getUint8(e+k).toString(16),i+=1===l.length?"0"+l:l;for(e+=2,i+="-",k=0;k<6;k++)l=b.getUint8(e+k).toString(16),i+=1===l.length?"0"+l:l;e+=6,i=i.toLowerCase(),b.getUint32(e),e+=4,d[i]=b.buffer.slice(j,g),e=g}else e=g;else e=g}return d}}]),a}();c.default=i,b.exports=c.default},{1:1}],20:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a){a&&(h=a)}function b(a,b){var c=void 0,d=!0,e=16,f=void 0,g=void 0,h=void 0;for(c=new Uint8Array(a),g=0;g<=c.length-(e+2);g++)if(18===c[g]&&16===c[g+1]){for(f=g+2,h=f;h<f+e;h++)if(255!==c[h]){d=!1;break}break}return d&&c.set(b,f),c.buffer}function c(a){var c=null;return c=h&&h.pssh?k.default.decodeArray(h.pssh).buffer:g.default.parseInitDataFromContentProtection(a),c&&(c=b(c,a["cenc:default_KID"])),c}function d(){return null}function e(a){return new Uint8Array(a)}function f(){return null}var h=null;return{uuid:l,schemeIdURI:n,systemString:m,init:a,getInitData:c,getRequestHeadersFromMessage:d,getLicenseRequestFromMessage:e,getLicenseServerURLFromInitData:f}}Object.defineProperty(c,"__esModule",{value:!0});var f=a(19),g=d(f),h=a(5),i=d(h),j=a(1),k=d(j),l="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",m="com.widevine.alpha",n="urn:uuid:"+l;e.__dashjs_factory_name="KeySystemWidevine",c.default=i.default.getSingletonFactory(e),b.exports=c.default},{1:1,19:19,5:5}],21:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function a(){d(this,a),this.streamId=null,this.mediaInfo=null,this.segmentType=null,this.quality=NaN,this.index=NaN,this.bytes=null,this.start=NaN,this.end=NaN,this.duration=NaN,this.representationId=null};c.default=e,b.exports=c.default},{}],22:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function a(){d(this,a),this.action=a.ACTION_DOWNLOAD,this.startTime=NaN,this.mediaType=null,this.mediaInfo=null,this.type=null,this.duration=NaN,this.timescale=NaN,this.range=null,this.url=null,this.serviceLocation=null,this.requestStartDate=null,this.firstByteDate=null,this.requestEndDate=null,this.quality=NaN,this.index=NaN,this.availabilityStartTime=null,this.availabilityEndTime=null,this.wallStartTime=null,this.bytesLoaded=NaN,this.bytesTotal=NaN,this.delayLoadingTime=NaN,this.responseType="arraybuffer",this.representationId=null};e.ACTION_DOWNLOAD="download",e.ACTION_COMPLETE="complete",c.default=e,b.exports=c.default},{}],23:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function a(){d(this,a),this.tcpid=null,this.type=null,this.url=null,this.actualurl=null,this.range=null,this.trequest=null,this.tresponse=null,this.responsecode=null,this.interval=null,this.trace=[],this._stream=null,this._tfinish=null,this._mediaduration=null,this._responseHeaders=null,this._serviceLocation=null},f=function a(){d(this,a),this.s=null,this.d=null,this.b=[]};e.GET="GET",e.HEAD="HEAD",e.MPD_TYPE="MPD",e.XLINK_EXPANSION_TYPE="XLinkExpansion",e.INIT_SEGMENT_TYPE="InitializationSegment",e.INDEX_SEGMENT_TYPE="IndexSegment",e.MEDIA_SEGMENT_TYPE="MediaSegment",e.BITSTREAM_SWITCHING_SEGMENT_TYPE="BitstreamSwitchingSegment",e.OTHER_TYPE="other",c.HTTPRequest=e,c.HTTPRequestTrace=f},{}]},{},[15]);
//# sourceMappingURL=dash.mss.min.js.map