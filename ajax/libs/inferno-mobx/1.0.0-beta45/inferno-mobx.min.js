!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("./inferno-component"),require("mobx"),require("./inferno-create-class"),require("./inferno-create-element")):"function"==typeof define&&define.amd?define(["inferno-component","mobx","inferno-create-class","inferno-create-element"],t):(e.Inferno=e.Inferno||{},e.Inferno.Mobx=t(e.Inferno.Component,e.mobx,e.Inferno.createClass,e.Inferno.createElement))}(this,function(e,t,n,r){"use strict";function o(e){throw e||(e=u),new Error("Inferno Error: "+e)}function i(e,t){e||console.error(t)}function s(e){var t=e._vNode.dom;t&&y&&y.set(t,e),v.emit({event:"render",renderTime:e.__$mobRenderEnd-e.__$mobRenderStart,totalTime:Date.now()-e.__$mobRenderStart,component:e,node:t})}function a(n){var r=n.prototype||n,o=r.componentDidMount,i=r.componentWillMount,a=r.componentWillUnmount;return r.componentWillMount=function(){var n=this;i&&i.call(this);var r,o=!1,s=this.displayName||this.name||this.constructor&&(this.constructor.displayName||this.constructor.name)||"<component>",a=this.render.bind(this),p=function(e,i){o=!1;var s=void 0;return r.track(function(){m&&(n.__$mobRenderStart=Date.now()),s=t.extras.allowStateChanges(!1,a.bind(n,e,i)),m&&(n.__$mobRenderEnd=Date.now())}),s};this.render=function(i,a){return r=new t.Reaction(s+".render()",function(){if(!o&&(o=!0,!0!==n.__$mobxIsUnmounted)){var t=!0;try{e.prototype.forceUpdate.call(n),t=!1}finally{t&&r.dispose()}}}),p.$mobx=r,n.render=p,p(i,a)}},r.componentDidMount=function(){m&&s(this),o&&o.call(this)},r.componentWillUnmount=function(){if(a&&a.call(this),this.render.$mobx&&this.render.$mobx.dispose(),this.__$mobxIsUnmounted=!0,m){var e=this._vNode.dom;e&&y&&y.delete(e),v.emit({event:"destroy",component:this,node:e})}},r.shouldComponentUpdate=function(e,n){var r=this;if(this.state!==n)return!0;var o=Object.keys(this.props);if(o.length!==Object.keys(e).length)return!0;for(var i=o.length-1;i>=0;i--){var s=o[i],a=e[s];if(a!==r.props[s])return!0;if(a&&"object"==typeof a&&!t.isObservable(a))return!0}return!0},n}function p(e,t){var o=n({displayName:t.name,render:function(){var n=this,o={};for(var i in n.props)n.props.hasOwnProperty(i)&&(o[i]=n.props[i]);var s=e(this.context.mobxStores||{},o,this.context)||{};for(var a in s)o[a]=s[a];return o.ref=function(e){n.wrappedInstance=e},r(t,o)}});return o.contextTypes={mobxStores:function(){}},b(o,t),o}function c(e){var t=arguments;if("function"!=typeof e){for(var n=[],r=0;r<arguments.length;r++)n[r]=t[r];e=x(n)}return function(t){return p(e,t)}}function f(t,r){if(void 0===r&&(r=null),"string"==typeof t&&o("Store names should be provided as array"),Array.isArray(t))return r?c.apply(null,t)(f(r)):function(e){return f(t,e)};var i=t;return"function"!=typeof i||i.prototype&&i.prototype.render||i.isReactClass||e.isPrototypeOf(i)?(i||o('Please pass a valid component to "observer"'),i.isMobXReactObserver=!0,a(i)):f(n({displayName:i.displayName||i.name,propTypes:i.propTypes,contextTypes:i.contextTypes,getDefaultProps:function(){return i.defaultProps},render:function(){return i.call(this,this.props,this.context)}}))}e="default"in e?e.default:e,n="default"in n?n.default:n,r="default"in r?r.default:r;var u="a runtime error occured! Use Inferno in development environment to find the error.",l={children:!0,key:!0,ref:!0},d=function(e){function t(t,n){e.call(this,t,n),this.contextTypes={mobxStores:function(){}},this.childContextTypes={mobxStores:function(){}},this.store=t.store}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(){return this.props.children},t.prototype.getChildContext=function(){var e=this,t={},n=this.context.mobxStores;if(n)for(var r in n)t[r]=n[r];for(var o in e.props)l[o]||(t[o]=e.props[o]);return{mobxStores:t}},t}(e);"production"!==process.env.NODE_ENV&&(d.prototype.componentWillReceiveProps=function(e){var t=this;i(Object.keys(e).length===Object.keys(this.props).length,"MobX Provider: The set of provided stores has changed. Please avoid changing stores as the change might not propagate to all children");for(var n in e)i(l[n]||t.props[n]===e[n],"MobX Provider: Provided store '"+n+"' has changed. Please avoid replacing stores as the change might not propagate to all children")});var h=function(){this.listeners=[]};h.prototype.on=function(e){var t=this;return this.listeners.push(e),function(){var n=t.listeners.indexOf(e);-1!==n&&t.listeners.splice(n,1)}},h.prototype.emit=function(e){this.listeners.forEach(function(t){return t(e)})},h.prototype.getTotalListeners=function(){return this.listeners.length},h.prototype.clearListeners=function(){this.listeners=[]};var m=!1,y=new WeakMap,v=new h,b=function(e,t){return t={exports:{}},e(t,t.exports),t.exports}(function(e){var t={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,arguments:!0,arity:!0},r="function"==typeof Object.getOwnPropertySymbols;e.exports=function(e,o,i){if("string"!=typeof o){var s=Object.getOwnPropertyNames(o);r&&(s=s.concat(Object.getOwnPropertySymbols(o)));for(var a=0;a<s.length;++a)if(!(t[s[a]]||n[s[a]]||i&&i[s[a]]))try{e[s[a]]=o[s[a]]}catch(e){}}return e},e.exports.default=e.exports}),x=function(e){return function(t,n){return e.forEach(function(e){if(!(e in n)){if(!(e in t))throw new Error('MobX observer: Store "'+e+'" is not available! Make sure it is provided by some Provider');n[e]=t[e]}}),n}};return{Provider:d,inject:c,connect:f,observer:f,trackComponents:function(){"undefined"==typeof WeakMap&&o("[inferno-mobx] tracking components is not supported in this browser."),m||(m=!0)},renderReporter:v,componentByNodeRegistery:y}});