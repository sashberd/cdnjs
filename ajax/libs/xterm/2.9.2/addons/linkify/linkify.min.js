!function(e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("../../xterm")):"function"==typeof define?define(["../../xterm"],e):e(window.Terminal)}(function(e){"use strict";var n={},i=new RegExp("(?:^|[^\\da-z\\.-]+)((https?:\\/\\/)?((([\\da-z\\.-]+)\\.([a-z\\.]{2,6}))|((\\d{1,3}\\.){3}\\d{1,3}))(:\\d{1,5})?(\\/[\\/\\w\\.-]*)*)($|[^\\/\\w\\.-]+)"),t=new RegExp("(?:^|[^\\da-z\\.-]+)((https?:\\/\\/)((([\\da-z\\.-]+)\\.([a-z\\.]{2,6}))|((\\d{1,3}\\.){3}\\d{1,3}))(:\\d{1,5})?(\\/[\\/\\w\\.-]*)*)($|[^\\/\\w\\.-]+)");return n.linkifyTerminalLine=function(e,i,t,r){if("number"==typeof i)i=e.rowContainer.children[i];else if(!(i instanceof HTMLDivElement)){var a='The "line" argument should be either a number';throw a+=" or an HTMLDivElement",new TypeError(a)}r=void 0===r?"":'target="'+r+'"';for(var o=document.createElement("span"),f=i.childNodes,l=0;l<f.length;l++){var d=f[l];o.textContent=d.data;var c=o.innerHTML;if(d.nodeType==d.TEXT_NODE){var p=n.findLinkMatch(d.data,t);if(p){var u=new RegExp("^(https?:\\/\\/)"),h='<a href="'+(p.match(u)?p:"http://"+p)+'" '+r+">"+p+"</a>",m=c.replace(p,h);i.innerHTML=i.innerHTML.replace(c,m)}}}e.emit("linkify:line",i)},n.findLinkMatch=function(e,n){var r=e.match(n?i:t);return r&&0!==r.length?r[1]:null},n.linkify=function(e,i,t){var r=e.rowContainer.children;i="boolean"!=typeof i||i;for(var a=0;a<r.length;a++){var o=r[a];n.linkifyTerminalLine(e,o,i,t)}e.emit("linkify")},e.prototype.linkifyTerminalLine=function(e,i,t){return n.linkifyTerminalLine(this,e,i,t)},e.prototype.linkify=function(e,i){return n.linkify(this,e,i)},n});