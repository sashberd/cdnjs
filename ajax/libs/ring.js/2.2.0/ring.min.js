!function(){"use strict";function t(t){function r(r){for(var n=[],_=t.clone(r);;){for(var o=!1,c=0;c<_.length;c++)if(0!==_[c].length){var s=_[c][0];if(!t.find(_,function(r){return t.includes(t.drop(r),s)})){o=!0,n.push(s),_=t.map(_,function(r){return t.head(r)===s?t.drop(r):r});break}}if(!o){if(t.every(_,function(t){return 0===t.length}))return n;throw new e.ValueError("Cannot create a consistent method resolution order (MRO)")}}}function n(r){if(!r.__classId__){var n=Object.getOwnPropertyNames?function(){var n={};return function r(e){e!==Object.prototype&&(t.extend(n,t.chain(Object.getOwnPropertyNames(e)).map(function(t){return[t,!0]}).fromPairs().value()),r(Object.getPrototypeOf(e)))}(r.prototype),t.fromPairs(t.map(t.keys(n),function(t){return[t,r.prototype[t]]}))}():r.prototype;n=t.chain(n).map(function(t,r){return[r,t]}).filter(function(t){return"constructor"!==t[0]&&"__proto__"!==t[0]}).fromPairs().value();var _=o++;t.extend(r,{__mro__:[r,e.Object],__properties__:t.extend({},n,{__ringConstructor__:function(){this.$super.apply(this,arguments);var t=this.$super;this.$super=null;try{r.apply(this,arguments)}finally{this.$super=t}}}),__classId__:_,__parents__:[e.Object],__classIndex__:{1:e.Object},__ringConvertedObject__:!0}),r.__classIndex__[_]=r}}var e={};e.Object=function(){},t.extend(e.Object,{__mro__:[e.Object],__properties__:{__ringConstructor__:function(){}},__classId__:1,__parents__:[],__classIndex__:{1:e.Object},$extend:function(t){return e.create([this],t)}}),t.extend(e.Object.prototype,{__ringConstructor__:e.Object.__properties__.__ringConstructor__});var _=function(t){function r(){}r.prototype=t;var n=new r;return n.__proto__=t,n};e.__objectCreate=_;var o=3,c=/xyz/.test(function(){xyz()})?/\$super\b/:/.*/;return e.create=function(){var s=t.toArray(arguments);s.reverse();var i=s[0],u=s.length>=2?s[1]:[];u instanceof Array||(u=[u]),t.each(u,function(t){n(t)}),0===u.length&&(u=[e.Object]);var a=i.constructor!==Object?i.constructor:void 0;delete(i=t.clone(i)).constructor,a?i.__ringConstructor__=a:(a=i.init,delete i.init,a&&(i.__ringConstructor__=a));var p=i.classInit;delete i.classInit;var f=function(){this.$super=null,this.__ringConstructor__.apply(this,arguments)};f.__properties__=i;var l=t.map(u,"__mro__");l=l.concat([u]);var d=[f].concat(r(l)),h=Object.prototype;t.forEachRight(d,function(r){var n=_(h);t.extend(n,r.__properties__),t.each(t.keys(n),function(t){var e=n[t];"function"!=typeof e||!c.test(e)||e.__classId__||"__ringConstructor__"!==t&&r.__ringConvertedObject__||(n[t]=function(t,r,n){return function(){var e=this.$super;this.$super=n[t];try{return r.apply(this,arguments)}finally{this.$super=e}}}(t,e,h))}),n.constructor=r,h=n});var v=o++;return f.__mro__=d,f.__parents__=u,f.prototype=h,f.__classId__=v,f.__classIndex__={},t.each(f.__mro__,function(t){f.__classIndex__[t.__classId__]=t}),f.__classInit__=p,t.forEachRight(f.__mro__,function(t){if(t.__classInit__){var r=t.__classInit__(f.prototype);void 0!==r&&(f.prototype=r)}}),f.$extend=e.Object.$extend,f},e.instance=function(t,r){return null!==t&&"object"==typeof t&&t.constructor&&t.constructor.__classIndex__&&"function"==typeof r&&"number"==typeof r.__classId__?void 0!==t.constructor.__classIndex__[r.__classId__]:"string"==typeof r?typeof t===r:t instanceof r},e.Error=e.create({name:"ring.Error",defaultMessage:"",constructor:function(t){this.message=t||this.defaultMessage},classInit:function(r){var n=[],e=function(t){t&&(n.push(t),e(t.__proto__))};e(r);var o=new Error;return t.forEachRight(n,function(r){var n=_(o);t.forOwn(r,function(t,r){"__proto__"!==r&&(n[r]=t)}),n.constructor=r.constructor,o=n}),o}}),e.ValueError=e.create([e.Error],{name:"ring.ValueError"}),e.getSuper=function(r,n,_){for(var o,c=n.constructor.__mro__,s=0;s<c.length;s++)if(c[s]===r){o=s;break}if(void 0===o)throw new e.ValueError("Class not found in instance's method resolution order.");var i,u=function(t,r){return 0===r?t:u(t.__proto__,r-1)},a=u(n.constructor.prototype,o+1);return i="constructor"!==_&&"init"!==_?a[_]:a.__ringConstructor__,e.instance(i,"function")?t.bind(i,n):i},e}if("undefined"!=typeof exports){var r=require("lodash");r.extend(exports,t(r))}else window.ring=t(_)}();