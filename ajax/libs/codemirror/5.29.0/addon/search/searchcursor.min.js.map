{"version":3,"sources":["searchcursor.js"],"names":["mod","exports","module","require","define","amd","CodeMirror","regexpFlags","regexp","flags","ignoreCase","global","multiline","ensureGlobal","RegExp","source","maybeMultiline","test","searchRegexpForward","doc","start","line","ch","last","lastLine","lastIndex","string","getLine","match","exec","from","Pos","index","to","length","searchRegexpForwardMultiline","chunk","i","curLine","before","slice","split","inside","startLine","startCh","lastMatchIn","cutOff","newMatch","searchRegexpBackward","first","firstLine","searchRegexpBackwardMultiline","adjustPos","orig","folded","pos","foldFunc","min","max","Math","mid","len","searchStringForward","query","caseFold","fold","doFold","noFold","lines","search","found","indexOf","cutFrom","end","endString","searchStringBackward","lastIndexOf","top","topString","SearchCursor","options","this","atOccurrence","clipPos","matches","reverse","String","prototype","normalize","str","toLowerCase","findNext","find","findPrevious","result","cmpPos","replace","newText","origin","splitLines","replaceRange","defineExtension","defineDocExtension","ranges","cur","getSearchCursor","getCursor","push","anchor","head","setSelections"],"mappings":"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"}