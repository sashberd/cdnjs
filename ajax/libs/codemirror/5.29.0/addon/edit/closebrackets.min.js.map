{"version":3,"sources":["closebrackets.js"],"names":["mod","exports","module","require","define","amd","CodeMirror","getOption","conf","name","defaults","getConfig","cm","deflt","state","closeBrackets","override","getModeAt","getCursor","contractSelection","sel","inverted","cmpPos","anchor","head","Pos","line","ch","handleChar","Pass","pairs","pos","indexOf","type","triples","identical","charAt","ranges","listSelections","opening","i","length","curType","range","cur","next","getRange","empty","isWordChar","enteringString","getLine","isClosingBracket","test","stringStartsAfter","left","right","operation","execCommand","sels","getSelections","replaceSelections","slice","setSelections","replaceSelection","triggerElectric","lastIndexOf","charsAround","str","token","getTokenAt","stream","StringStream","start","type1","getMode","explode","defineOption","val","old","Init","removeKeyMap","keyMap","addKeyMap","bind","Backspace","around","replaceRange","Enter","indentLine","handler"],"mappings":"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"}