{"version":3,"sources":["textile.js"],"names":["mod","exports","module","require","define","amd","CodeMirror","startNewLine","stream","state","mode","Modes","newLayout","tableHeading","layoutType","spanningLayout","match","RE","handlePhraseModifier","ch","eat","togglePhraseModifier","footCite","tokenStyles","tokenStylesWith","TOKEN_STYLES","specialChar","html","type","phraseModifier","closeRE","openSize","charBefore","pos","string","charAt","charAfter","peek","test","RegExp","source","attributes","disabled","textileDisabled","styles","push","concat","activeStyles","header","length","join","notextile","extraStyles","i","arguments","blankLine","key","hasOwnProperty","name","REs","cache","createRe","addition","bold","cite","code","definitionList","deletion","div","em","footnote","image","italic","link","linkDefinition","list1","list2","list3","pre","p","quote","span","strong","sub","sup","table","single","bc","bq","definitionListEnd","drawTable","foot","list","para","tableCellAttributes","tableText","text","align","selector","lang","pad","css","makeRe","choiceRe","pattern","arg","parts","unshift","apply","blockType","newMode","parseInt","next","layoutLength","listDepth","listMod","skipToEnd","tableCell","defineMode","startState","token","sol","defineMIME"],"mappings":"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"}