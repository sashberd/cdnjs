var tinySlider=function(){"use strict";function t(t){function f(){xt.className="tiny-slider",gn.wrap(Et,xt),mt=xt.clientWidth}function b(){gt=hn(),ht=Qt-gt-Ct,st=pn(),vt=mn(),Kt=Xt||"page"===t.slideBy?gt:t.slideBy}function g(){var t=-Pt;St&&(Nt?t=O():t+=St+Tt),Et.classList.add("tiny-content",yt,bt);var n="width: "+(st+1)*Qt+"px; ",e=-nn*st,i="margin-left: "+t+"px; ",a=p?p+": translate3d("+e+"px, 0px, 0px)":"left: "+e+"px";Et.style.cssText+=n+i+a}function E(){navigator.msMaxTouchPoints&&(xt.classList.add("ms-touch"),xt.addEventListener("scroll",et,!1))}function x(){""===Et.id?Et.id=dt=n():dt=Et.id;for(var t=0;t<Mt;t++)wt[t].id=dt+"item"+t}function w(){if(Ft||St){for(var t=document.createDocumentFragment(),n=document.createDocumentFragment(),e=Jt;e--;){var i=e%Mt,a=wt[i].cloneNode(!0),r=wt[Mt-1-i].cloneNode(!0);c(a,"id"),c(r,"id"),t.insertBefore(a,t.firstChild),n.appendChild(r)}Et.appendChild(t),Et.insertBefore(n,Et.firstChild),wt=Et.children}o(wt,{style:"width: "+(st-Tt)+"px; "+Lt+": "+Tt+"px","aria-hidden":"true"})}function M(){kt&&(t.controlsContainer||(gn.append(xt,'<div class="tiny-controls" aria-label="Carousel Navigation"><button data-controls="prev" tabindex="-1" aria-controls="'+dt+'" type="button">'+At[0]+'</button><button data-controls="next" tabindex="0" aria-controls="'+dt+'" type="button">'+At[1]+"</button></div>"),Dt=xt.querySelector(".tiny-controls")),lt=Dt.querySelector('[data-controls="prev"]'),ut=Dt.querySelector('[data-controls="next"]'),a(Dt,"tabindex")||(o(Dt,{"aria-label":"Carousel Navigation"}),o(Dt.children,{"aria-controls":dt,tabindex:"-1"})))}function T(){if(Ot){if(!t.navContainer){for(var n="",e=0;e<Mt;e++)n+='<button data-slide="'+e+'" tabindex="-1" aria-selected="false" aria-controls="'+dt+"item"+e+'" type="button"></button>';Ht&&(n+='<button data-action="stop" type="button"><span hidden>Stop Animation</span>'+Gt[0]+"</button>"),n='<div class="tiny-nav" aria-label="Carousel Pagination">'+n+"</div>",gn.append(xt,n),Wt=xt.querySelector(".tiny-nav")}if(ft=Wt.querySelectorAll("[data-slide]"),!a(Wt,"aria-label")){o(Wt,{"aria-label":"Carousel Pagination"});for(var i=0;i<Mt;i++)o(ft[i],{tabindex:"-1","aria-selected":"false","aria-controls":dt+"item"+i})}for(var r=vt;r<Mt;r++)o(ft[r],{hidden:""});Zt=vt}}function L(){Ht&&(Wt||(gn.append(xt,'<div class="tiny-nav" aria-label="Carousel Pagination"><button data-action="stop" type="button"><span hidden>Stop Animation</span>'+Gt[0]+"</button></div>"),Wt=xt.querySelector(".tiny-nav")),on=Wt.querySelector("[data-action]"),Y())}function P(){for(var t=nn;t<nn+gt;t++)o(wt[t],{"aria-hidden":"false"});kt&&(o(ut,{tabindex:"0"}),(nn===Ct&&!Ft||jt)&&(lt.disabled=!0)),Ot&&o(ft[0],{tabindex:"0","aria-selected":"true"})}function S(){if(m&&Et.addEventListener(m,R,!1),Yt&&(Et.addEventListener("touchstart",it,!1),Et.addEventListener("touchmove",at,!1),Et.addEventListener("touchend",rt,!1),Et.addEventListener("touchcancel",rt,!1)),Ot)for(var t=0;t<Mt;t++)ft[t].addEventListener("click",V,!1),ft[t].addEventListener("keydown",nt,!1);if(kt&&(lt.addEventListener("click",X,!1),ut.addEventListener("click",K,!1),lt.addEventListener("keydown",tt,!1),ut.addEventListener("keydown",tt,!1)),Ht&&(on.addEventListener("click",Q,!1),kt&&(lt.addEventListener("click",Z,!1),ut.addEventListener("click",Z,!1)),Ot))for(var n=0;n<Mt;n++)ft[n].addEventListener("click",Z,!1);It&&document.addEventListener("keydown",$,!1),window.addEventListener("resize",ot,!1),window.addEventListener("scroll",ct,!1)}function C(){if(Vt&&gn.isInViewport(Et)){for(var t=[],n=nn-1;n<nn+gt+1;n++){for(var e=wt[n].querySelectorAll(".tiny-lazy"),i=e.length;i--;t.unshift(e[i]));t.unshift()}for(var a=t.length;a--;){var o=t[a];o.classList.contains("loaded")||(o.src=r(o,"data-src"),o.classList.add("loaded"))}}}function N(){if(Rt){for(var t=[],n=nn-1;n<nn+gt;n++)for(var e=wt[n].querySelectorAll("img"),i=e.length;i--;)t.push(e[i]);0===t.length?W():k(t)}}function k(t){for(var n=t.length;n--;)u(t[n])&&t.splice(n,1);0===t.length?W():setTimeout(function(){k(t)},16)}function A(){f(),b(),g(),E(),x(),w(),M(),T(),L(),P(),S(),D(),C(),N()}function D(){Mt<=gt?(Ot=kt=Ht=Ft=jt=!1,nn=Jt,Wt&&s(Wt),Dt&&s(Dt),on&&s(on)):(Ot=t.nav,kt=t.controls,Ht=t.autoplay,Ft=!t.rewind&&t.loop,jt=t.rewind,Ot&&l(Wt),kt&&l(Dt),Ht&&l(on))}function O(){return(mt%st+Tt)/2-Pt}function W(){for(var t,n=[],e=nn-Ct;e<nn+gt;e++)n.push(wt[e].offsetHeight);t=Math.max.apply(null,n),bn(1),Et.style.height=t+"px"}function I(){xt.style.msScrollSnapPointsX="snapInterval(0%, "+st+")"}function z(){var t,n,e,i;nn!==en&&(nn>en?(t=en,n=Math.min(en+gt,nn),e=Math.max(en+gt,nn),i=nn+gt):(t=Math.max(nn+gt,en),n=en+gt,e=nn,i=Math.min(nn+gt,en))),en=nn,Kt%1!==0&&(t=Math.round(t),n=Math.round(n),e=Math.round(e),i=Math.round(i));for(var a=t;a<n;a++)o(wt[a],{"aria-hidden":"true"});for(var r=e;r<i;r++)o(wt[r],{"aria-hidden":"false"})}function H(){if(vt!==Zt)if(vt>Zt)for(var t=Zt;t<vt;t++)c(ft[t],"hidden");else for(var n=vt;n<Zt;n++)o(ft[n],{hidden:""});Zt=vt}function q(){if(Ot){if($t===-1){for(var n=nn;n<Jt;)n+=Mt;n=(n-Jt)%Mt,t.navContainer?_t=n:(_t=Math.floor(n/gt),Ft||Mt%gt===0||nn!==ht||(_t+=1))}else _t=$t,$t=-1;_t!==tn&&(o(ft[tn],{tabindex:"-1","aria-selected":"false"}),o(ft[_t],{tabindex:"0","aria-selected":"true"}),tn=_t)}}function B(){if(kt&&!Ft)if(nn===Ct||!jt&&nn===ht){var t=nn===Ct?lt:ut,n=nn===Ct?ut:lt;_(t,n),t.disabled=!0,o(t,{tabindex:"-1"}),n.disabled=!1,o(n,{tabindex:"0"})}else lt.disabled=!1,ut.disabled=!1}function G(t,n){h&&bn(t),En(n)}function j(){var t=Kt+Ct,n=Qt-gt-Kt-1;(nn<t||nn>n)&&(nn-Mt>=t&&nn-Mt<=n?nn-=Mt:nn+=Mt,G(0))}function F(t){o(Et,{"aria-busy":"true"}),G(t),m||R()}function R(t){m&&"height"===t.propertyName||(Ft&&j(),z(),q(),B(),C(),N(),c(Et,"aria-busy"))}function U(t){if("true"!==r(Et,"aria-busy")){var n=nn+t*Kt,e=Math.abs(t*Kt);nn=Ft?n:Math.max(Ct,Math.min(n,ht)),F(e)}}function X(){U(-1)}function K(){U(jt&&nn===Mt-gt?(gt-Mt)/Kt:1)}function V(n){if("true"!==r(Et,"aria-busy")){for(var e,i,a=n.target||n.srcElement;gn.indexOf(ft,a)===-1;)a=a.parentNode;e=$t=Number(r(a,"data-slide")),nn=t.navContainer?e+Jt:e*gt+Jt,nn=Ft?nn:Math.min(nn,ht),i=Math.abs(nn-en),F(i)}}function Y(){rn=setInterval(function(){U(Bt)},qt),on.setAttribute("data-action","stop"),on.innerHTML="<span hidden>Stop Animation</span>"+Gt[1],cn=!0}function J(){clearInterval(rn),on.setAttribute("data-action","start"),on.innerHTML="<span hidden>Stop Animation</span>"+Gt[0],cn=!1}function Q(){cn?J():Y()}function Z(){cn&&J()}function $(t){t=t||window.event,t.keyCode===y.LEFT?U(-1):t.keyCode===y.RIGHT&&U(jt&&nn===Mt-gt?(gt-Mt)/Kt:1)}function _(t,n){"object"==typeof t&&"object"==typeof n&&t===document.activeElement&&(t.blur(),n.focus())}function tt(t){t=t||window.event;var n=t.keyCode,e=document.activeElement;switch(n){case y.LEFT:case y.UP:case y.HOME:case y.PAGEUP:e!==lt&&lt.disabled!==!0&&_(e,lt);break;case y.RIGHT:case y.DOWN:case y.END:case y.PAGEDOWN:e!==ut&&ut.disabled!==!0&&_(e,ut);break;case y.ENTER:case y.SPACE:e===ut?K():X()}}function nt(t){t=t||window.event;var n=t.keyCode,e=document.activeElement,i=r(e,"data-slide");switch(n){case y.LEFT:case y.PAGEUP:i>0&&_(e,e.previousElementSibling);break;case y.UP:case y.HOME:0!==i&&_(e,ft[0]);break;case y.RIGHT:case y.PAGEDOWN:i<vt-1&&_(e,e.nextElementSibling);break;case y.DOWN:case y.END:i<vt-1&&_(e,ft[vt-1]);break;case y.ENTER:case y.SPACE:V(t)}}function et(){G(0,Et.scrollLeft())}function it(t){var n=t.changedTouches[0];fn=parseInt(n.clientX),vn=parseInt(n.clientY),dn=Number(Et.style[p].slice(12,-13))}function at(t){var n=t.changedTouches[0];sn=parseInt(n.clientX)-fn,ln=parseInt(n.clientY)-vn,"horizontal"===i(e(ln,sn),15)&&(un=!0,t.preventDefault(),G(0,dn+sn))}function rt(t){var n=t.changedTouches[0];if(sn=parseInt(n.clientX)-fn,un&&0!==sn){un=!1,t.preventDefault();var e=-(dn+sn)/st;e=sn>0?Math.floor(e):Math.ceil(e),nn=Math.max(Ct,Math.min(e,ht));var i=-nn*st;Ft||St||!Nt||(i=Math.max(-(st*Mt-mt),i)),G(1,i),m||R()}}function ot(){clearTimeout(pt),pt=setTimeout(function(){xt.clientWidth!==mt&&(mt=xt.clientWidth,b(),D(),yn(),H(),navigator.msMaxTouchPoints&&I(),G(0),m||R())},100)}function ct(){an||window.requestAnimationFrame(function(){C(),an=!1}),an=!0}if(t=gn.extend({container:document.querySelector(".slider"),mode:"carousel",direction:"horizontal",items:1,gutter:0,gutterPosition:"right",edgePadding:0,fixedWidth:!1,slideByPage:!1,slideBy:1,controls:!0,controlsText:["prev","next"],controlsContainer:!1,nav:!0,navContainer:!1,arrowKeys:!1,speed:250,autoplay:!1,autoplayTimeout:5e3,autoplayDirection:"forward",autoplayText:["start","stop"],loop:!0,autoHeight:!1,responsive:!1,lazyload:!1,touch:!0,rewind:!1},t||{}),"object"!=typeof t.container||null===t.container)return{init:function(){},destory:function(){}};var dt,st,lt,ut,ft,vt,ht,pt,mt,yt=t.mode,bt=t.direction,gt=t.items,Et=t.container,xt=document.createElement("div"),wt=Et.children,Mt=wt.length,Tt=t.gutter,Lt="right"===t.gutterPosition?"margin-right":"margin-left",Pt="left"===t.gutterPosition?Tt:0,St=t.edgePadding,Ct=St?1:0,Nt=t.fixedWidth,kt=t.controls,At=t.controlsText,Dt=!!t.controlsContainer&&t.controlsContainer,Ot=t.nav,Wt=!!t.navContainer&&t.navContainer,It=t.arrowKeys,zt=t.speed,Ht=t.autoplay,qt=t.autoplayTimeout,Bt="forward"===t.autoplayDirection?1:-1,Gt=t.autoplayText,jt=t.rewind,Ft=!t.rewind&&t.loop,Rt=t.autoHeight,Ut=!Nt&&t.responsive,Xt=t.slideByPage,Kt=Xt||"page"===t.slideBy?gt:t.slideBy,Vt=t.lazyload,Yt=t.touch,Jt=Ft?Math.ceil(1.5*Mt):St?1:0,Qt=Mt+2*Jt,Zt=Mt,$t=-1,_t=0,tn=0,nn=Jt,en=nn,an=!1;if(Ht)var rn,on,cn=!1;if(Yt)var dn,sn,ln,un,fn=0,vn=0;var hn=function(){return Nt?function(){return Math.max(1,Math.min(Mt,Math.floor(mt/Nt)))}:function(){var n=t.items,e=document.documentElement.clientWidth,i="object"==typeof Ut&&Object.keys(Ut);if(i)for(var a=0;a<i.length;a++)e>=i[a]&&(n=Ut[i[a]]);return Math.max(1,Math.min(Mt,n))}}(),pn=function(){return Nt?function(){return Nt+Tt}:navigator.appVersion.indexOf("MSIE 8")>0?St?function(){return Math.round((mt-Tt-2*St)/gt)}:function(){return Math.round((mt+Tt)/gt)}:St?function(){return(mt-Tt-2*St)/gt}:function(){return(mt+Tt)/gt}}(),mn=function(){return t.navContainer?function(){return Mt}:function(){return Math.ceil(Mt/gt)}}(),yn=function(){return Nt?St?function(){Et.style.marginLeft=O()+"px"}:void 0:function(){Et.style.width=(st+1)*Qt+"px";for(var t=Qt;t--;)wt[t].style.width=st-Tt+"px"}}(),bn=function(){return h?function(t){Et.style[h]=zt*t/1e3+"s"}:function(){}}(),En=function(){return p?function(t){var n=t||-st*nn;Et.style[p]="translate3d("+n+"px, 0, 0)"}:function(t){var n=t||-st*nn;transformAttr="horizontal"===bt?"left":"top",v(Et,transformAttr,n,zt,R)}}();return{init:A,destory:function(){if(gn.unwrap(xt),xt=null,Et.classList.remove("tiny-content",yt,bt),c(Et,["id","style"]),Ft)for(var n=Jt;n--;)wt[0].remove(),wt[wt.length-1].remove();c(wt,["id","style","aria-hidden"]),dt=Mt=null,kt&&(t.controlsContainer?(c(Dt,["aria-label"]),c(Dt.children,["aria-controls","tabindex"]),d(Dt)):(Dt.remove(),Dt=lt=ut=null)),Ot&&(t.navContainer?(c(Wt,["aria-label"]),c(ft,["aria-selected","aria-controls","tabindex"]),d(Wt)):(Wt.remove(),Wt=null),ft=null),Ht&&(t.navContainer||null===Wt?d(on):(Wt.remove(),Wt=null)),d(Et),It&&document.removeEventListener("keydown",$,!1),window.removeEventListener("resize",ot,!1),window.removeEventListener("scroll",ct,!1)},getIndex:function(){return nn}}}function n(){return void 0===window.tinySliderNumber?window.tinySliderNumber=1:window.tinySliderNumber++,"tinySlider"+window.tinySliderNumber}function e(t,n){return Math.atan2(t,n)*(180/Math.PI)}function i(t,n){return Math.abs(90-Math.abs(t))>=90-n?"horizontal":Math.abs(90-Math.abs(t))<=n&&"vertical"}function a(t,n){return t.hasAttribute(n)}function r(t,n){return t.getAttribute(n)}function o(t,n){if(t=gn.isNodeList(t)||t instanceof Array?t:[t],"[object Object]"===Object.prototype.toString.call(n))for(var e=t.length;e--;)for(var i in n)t[e].setAttribute(i,n[i])}function c(t,n){t=gn.isNodeList(t)||t instanceof Array?t:[t],n=n instanceof Array?n:[n];for(var e=n.length,i=t.length;i--;)for(var a=e;a--;)t[i].removeAttribute(n[a])}function d(t){var n=t.cloneNode(!0),e=t.parentNode;e.insertBefore(n,t),t.remove(),t=null}function s(t){a(t,"hidden")||o(t,{hidden:""})}function l(t){a(t,"hidden")&&c(t,"hidden")}function u(t){return"boolean"==typeof t.complete?t.complete:"number"==typeof t.naturalWidth?0!==t.naturalWidth:void 0}function f(){var t,n=document.createElement("fakeelement"),e={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in e)if(void 0!==n.style[t])return e[t];return!1}function v(t,n,e,i,a){function r(){i-=o,c+=d,t.style[n]=c+"px",i>0?setTimeout(r,o):a()}var o=Math.min(i,10),c=Number(t.style[n].slice(0,-2)),d=(e-c)/i*o;setTimeout(r,o)}var h=gn.getSupportedProp(["transitionDuration","WebkitTransitionDuration","MozTransitionDuration","OTransitionDuration"]),p=gn.getSupportedProp(["transform","WebkitTransform","MozTransform","OTransform"]),m=f(),y={ENTER:13,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40};return t}();
//# sourceMappingURL=../sourcemaps/tiny-slider.native.js.map
