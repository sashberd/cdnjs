var tinySlider=function(){"use strict";function t(t){function c(){ct.className="tiny-slider",gn.wrap(lt,ct),lt.classList.add("tiny-content",st),Ht&&(lt.addEventListener("touchstart",V,!1),lt.addEventListener("touchmove",$,!1),lt.addEventListener("touchend",J,!1),lt.addEventListener("touchcancel",J,!1))}function u(){navigator.msMaxTouchPoints&&(ct.classList.add("ms-touch"),ct.addEventListener("scroll",Y,!1))}function f(){""===lt.id?lt.id=_=e():_=lt.id;for(var t=0;t<ft;t++)ut[t].id=_+"item"+t}function v(){if(Nt||pt){for(var t=document.createDocumentFragment(),e=document.createDocumentFragment(),n=qt;n--;){var i=ut[n].cloneNode(!0),a=ut[ft-1-n].cloneNode(!0);i.id="",a.id="",t.insertBefore(i,t.firstChild),e.appendChild(a)}lt.appendChild(t),lt.insertBefore(e,lt.firstChild),vt=lt.children.length,ut=lt.children}}function h(){dt=ee(),tt=ne(),rt=ie(),Ot=Wt||"page"===t.slideBy?dt:t.slideBy,ft<=dt?Et=mt=Mt=Nt=St=!1:(Et=t.nav,mt=t.controls,Mt=t.autoplay,Nt=!t.rewind&&t.loop,St=t.rewind)}function b(){if(Et)if(Gt)xt&&xt.hasAttribute("hidden")&&r(xt,"hidden");else{if(!t.navContainer){for(var e="",n=0;n<ft;n++)e+='<button data-slide="'+n+'" tabindex="-1" aria-selected="false" aria-controls="'+_+"item"+n+'" type="button"></button>';Mt&&(e+='<button data-action="stop" type="button"><span hidden>Stop Animation</span>'+Pt[0]+"</button>"),e='<div class="tiny-nav" aria-label="Carousel Pagination">'+e+"</div>",gn.append(ct,e),xt=ct.querySelector(".tiny-nav")}it=xt.querySelectorAll("[data-slide]"),at=it.length,xt.hasAttribute("aria-label")||(a(xt,{"aria-label":"Carousel Pagination"}),a(it,{tabindex:"-1","aria-selected":"false","aria-controls":_+"item"+i}));for(var i=0;i<at;i++)it[i].addEventListener("click",z,!1),it[i].addEventListener("keydown",K,!1);Gt=!0}else Gt&&xt&&!xt.hasAttribute("hidden")&&a(xt,{hidden:"true"})}function p(){mt?jt?At.hasAttribute("hidden")&&r(At,"hidden"):(t.controlsContainer||(gn.append(ct,'<div class="tiny-controls" aria-label="Carousel Navigation"><button data-controls="prev" tabindex="-1" aria-controls="'+_+'" type="button">'+gt[0]+'</button><button data-controls="next" tabindex="0" aria-controls="'+_+'" type="button">'+gt[1]+"</button></div>"),At=ct.querySelector(".tiny-controls")),et=At.querySelector('[data-controls="prev"]'),nt=At.querySelector('[data-controls="next"]'),At.hasAttribute("tabindex")||(a(At,{"aria-label":"Carousel Navigation"}),a(At.children,{"aria-controls":_,tabindex:"-1"}),a(nt,{tabindex:"0"})),Nt||D(),et.addEventListener("click",H,!1),nt.addEventListener("click",q,!1),et.addEventListener("keydown",X,!1),nt.addEventListener("keydown",X,!1),jt=!0):jt&&!At.hasAttribute("hidden")&&a(At,{hidden:"true"})}function y(){if(Mt)if(Rt)Yt.hasAttribute("hidden")&&r(Yt,"hidden");else{if(xt||(gn.append(ct,'<div class="tiny-nav" aria-label="Carousel Pagination"><button data-action="stop" type="button"><span hidden>Stop Animation</span>'+Pt[0]+"</button></div>"),xt=ct.querySelector(".tiny-nav")),Yt=xt.querySelector("[data-action]"),B(),Yt.addEventListener("click",j,!1),mt&&(et.addEventListener("click",R,!1),nt.addEventListener("click",R,!1)),Et)for(var t=0;t<at;t++)it[t].addEventListener("click",R,!1);Rt=!0}else Rt&&!Yt.hasAttribute("hidden")&&a(Yt,{hidden:"true"})}function m(){if(Ft&&!Dt||(lt.style.width=(tt+1)*vt+"px"),pt){var t=pt;if(yt){var e=ct.clientWidth;t=(e-tt*Math.floor(e/tt)+ht)/2}Ft&&!yt||(lt.style.paddingLeft=t+"px")}var n=qt*tt,i="marginLeft"===bt?ht:0,a=n+i;0!==a&&(lt.style.marginLeft=-a+"px");for(var r=vt;r--;)Ft&&yt||(ut[r].style.width=tt-ht+"px"),Ft||0===ht||(ut[r].style[bt]=ht+"px");Ft=!0}function g(t){return"boolean"==typeof t.complete?t.complete:"number"==typeof t.naturalWidth?0!==t.naturalWidth:void 0}function A(t){for(var e=t.length;e--;)g(t[e])&&t.splice(e,1);0===t.length?E():setTimeout(function(){A(t)},16)}function E(){for(var t,e=ae(),n=[],i=pt?1:0,a=vt;a--;)a>=e-i&&a<e+dt&&n.push(ut[a].offsetHeight);t=Math.max.apply(null,n),s&&(lt.style[s]=Lt/1e3+"s"),lt.style.height=t+"px",Ut=!0,setTimeout(function(){s&&(lt.style[s]="0s"),Ut=!1},Lt)}function x(){navigator.msMaxTouchPoints&&(ct.style.msScrollSnapPointsX="snapInterval(0%, "+tt+")")}function w(){if(Et&&!t.navContainer)for(var e=at;e--;){var n=it[e];e<rt?n.hasAttribute("hidden")&&n.removeAttribute("hidden"):n.hasAttribute("hidden")||n.setAttribute("hidden","")}}function L(){h(),m(),b(),w(),p(),y(),x(),P(),T()}function M(t){lt.setAttribute("aria-busy","true"),C(t),P(),setTimeout(function(){Nt&&S(),T(),Ut=!1,lt.setAttribute("aria-busy","false")},Lt*t)}function T(){N(),Et&&k(),mt&&!Nt&&D(),It&&W(),kt&&O()}function C(t){s&&(lt.style[s]=Lt*t/1e3+"s",Ut=!0)}function P(){Qt=-tt*Bt,d?lt.style[d]="translate3d("+Qt+"px, 0, 0)":lt.style.left=Qt+"px"}function S(){var t=pt?1:0,e=Ot-qt+t,n=ft+qt-dt-Ot-1;(Bt<e||Bt>n)&&(Bt-ft>=e&&Bt-ft<=n?Bt-=ft:Bt+=ft,s&&(lt.style[s]="0s"),P())}function N(){for(var t=vt;t--;){var e=ae(),n=ut[t];t>=e&&t<e+dt?n.hasAttribute("aria-hidden")&&"true"!==n.getAttribute("aria-hidden")||n.setAttribute("aria-hidden","false"):n.hasAttribute("aria-hidden")&&"false"!==n.getAttribute("aria-hidden")||n.setAttribute("aria-hidden","true")}}function k(){var e;if(zt===-1){var n=Bt<0?Bt+ft:Bt>=ft?Bt-ft:Bt;if(e=t.navContainer?n:Math.floor(n/dt),!Nt&&!t.navContainer){var i=/^-?[0-9]+$/,a=i.test(ft/dt);a||Bt!==ft-dt||(e+=1)}}else e=zt,zt=-1;for(var r=rt;r--;){var o=it[r];r===e?"false"===o.getAttribute("aria-selected")&&(o.setAttribute("tabindex","0"),o.setAttribute("aria-selected","true")):"true"===o.getAttribute("aria-selected")&&(o.setAttribute("tabindex","-1"),o.setAttribute("aria-selected","false"))}}function D(){0===Bt?(et.disabled=!0,et.setAttribute("tabindex","-1"),nt.setAttribute("tabindex","0"),U(et,nt)):et.disabled=!1,St||Bt!==ft-dt?nt.disabled=!1:(nt.disabled=!0,nt.setAttribute("tabindex","-1"),et.setAttribute("tabindex","0"),U(nt,et))}function W(){if(gn.isInViewport(lt)){for(var t=[],e=vt;e--;){var n=Bt+qt-1;if(e>=n&&e<=n+dt+1){for(var i=ut[e].querySelectorAll(".tiny-lazy"),a=i.length;a--;t.unshift(i[a]));t.unshift()}}for(var r=t.length;r--;){var o=t[r];o.classList.contains("loaded")||(o.src=o.getAttribute("data-src"),o.classList.add("loaded"))}}}function O(){for(var t=ae(),e=[],n=vt;n--;)if(n>=t-1&&n<=t+dt)for(var i=ut[n].querySelectorAll("img"),a=i.length;a--;)e.push(i[a]);0===e.length?E():A(e)}function I(t){if(!Ut){var e=Bt+t*Ot,n=Math.abs(t*Ot);Bt=Nt?e:Math.max(0,Math.min(e,ft-dt)),M(n)}}function H(){I(-1)}function q(){I(St&&Bt===ft-dt?(dt-ft)/Ot:1)}function z(e){if(!Ut){for(var n,i=e.target||e.srcElement;gn.indexOf(it,i)===-1;)i=i.parentNode;zt=n=Number(i.getAttribute("data-slide"));var a,r;a=t.navContainer?n:n*dt,a=Nt?a:Math.min(a,ft-dt),r=Math.abs(a-Bt),Bt=a,M(r)}}function B(){Kt=setInterval(function(){I(Ct)},Tt),Yt.setAttribute("data-action","stop"),Yt.innerHTML="<span hidden>Stop Animation</span>"+Pt[1],Vt=!0}function G(){clearInterval(Kt),Yt.setAttribute("data-action","start"),Yt.innerHTML="<span hidden>Stop Animation</span>"+Pt[0],Vt=!1}function j(){Vt?G():B()}function R(){Vt&&G()}function F(t){t=t||window.event,t.keyCode===l.LEFT?I(-1):t.keyCode===l.RIGHT&&I(St&&Bt===ft-dt?(dt-ft)/Ot:1)}function U(t,e){"object"==typeof t&&"object"==typeof e&&t===document.activeElement&&(t.blur(),e.focus())}function X(t){t=t||window.event;var e=t.keyCode,n=document.activeElement;switch(e){case l.LEFT:case l.UP:case l.HOME:case l.PAGEUP:n!==et&&et.disabled!==!0&&U(n,et);break;case l.RIGHT:case l.DOWN:case l.END:case l.PAGEDOWN:n!==nt&&nt.disabled!==!0&&U(n,nt);break;case l.ENTER:case l.SPACE:n===nt?q():H()}}function K(t){t=t||window.event;var e=t.keyCode,n=document.activeElement,i=n.getAttribute("data-slide");switch(e){case l.LEFT:case l.PAGEUP:i>0&&U(n,n.previousElementSibling);break;case l.UP:case l.HOME:0!==i&&U(n,it[0]);break;case l.RIGHT:case l.PAGEDOWN:i<rt-1&&U(n,n.nextElementSibling);break;case l.DOWN:case l.END:i<rt-1&&U(n,it[rt-1]);break;case l.ENTER:case l.SPACE:z(t)}}function Y(){lt.style[s]="0s",lt.style.transform="translate3d(-"+-lt.scrollLeft()+"px,0,0)"}function V(t){var e=t.changedTouches[0];$t=parseInt(e.clientX),Jt=parseInt(e.clientY)}function $(t){var e=t.changedTouches[0];Zt=parseInt(e.clientX)-$t,_t=parseInt(e.clientY)-Jt;var a=n(Math.atan2(_t,Zt)),r=i(a,15);if("horizontal"===r&&Ut===!1&&(te=!0),te){s&&(lt.style[s]="0s");var o=Nt?-(ft+qt-dt)*tt:-(ft-dt)*tt,l=Nt?qt*tt:0;!Nt&&yt&&(o=-(ft*tt-ct.clientWidth)),Qt=-Bt*tt+Zt,Qt=Math.max(o,Math.min(Qt,l)),d?lt.style[d]="translate3d("+Qt+"px, 0, 0)":lt.style.left=Qt+"px",t.preventDefault()}}function J(t){var e=t.changedTouches[0];if(Zt=parseInt(e.clientX)-$t,te&&0!==Zt){t.preventDefault(),te=!1,Qt=-Bt*tt+Zt;var n,i=Nt?-qt:0,a=Nt?ft+qt-dt:ft-dt;n=-(Qt/tt),n=Zt<0?Math.ceil(n):Math.floor(n),n=Math.max(i,Math.min(n,a)),Bt=n,M(1)}}function Q(){clearTimeout(ot),ot=setTimeout(function(){L()},100)}function Z(){Xt||window.requestAnimationFrame(function(){It&&W(),Xt=!1}),Xt=!0}if(t=gn.extend({container:document.querySelector(".slider"),transform:"horizontal",items:1,gutter:0,gutterPosition:"right",edgePadding:0,fixedWidth:!1,slideByPage:!1,slideBy:1,controls:!0,controlsText:["prev","next"],controlsContainer:!1,nav:!0,navContainer:!1,arrowKeys:!1,speed:250,autoplay:!1,autoplayTimeout:5e3,autoplayDirection:"forward",autoplayText:["start","stop"],loop:!0,autoHeight:!1,responsive:!1,lazyload:!1,touch:!0,rewind:!1},t||{}),"object"!=typeof t.container||null===t.container)return{init:function(){},destory:function(){}};var _,tt,et,nt,it,at,rt,ot,st=t.transform,dt=t.items,lt=t.container,ct=document.createElement("div"),ut=lt.children,ft=ut.length,vt=ut.length,ht=t.gutter,bt="right"===t.gutterPosition?"marginRight":"marginLeft",pt=t.edgePadding,yt=t.fixedWidth,mt=t.controls,gt=t.controlsText,At=!!t.controlsContainer&&t.controlsContainer,Et=t.nav,xt=!!t.navContainer&&t.navContainer,wt=t.arrowKeys,Lt=s?t.speed:0,Mt=t.autoplay,Tt=t.autoplayTimeout,Ct="forward"===t.autoplayDirection?1:-1,Pt=t.autoplayText,St=t.rewind,Nt=!t.rewind&&t.loop,kt=t.autoHeight,Dt=!yt&&t.responsive,Wt=t.slideByPage,Ot=Wt||"page"===t.slideBy?dt:t.slideBy,It=t.lazyload,Ht=t.touch,qt=Nt?ft:pt?1:0,zt=-1,Bt=0,Gt=!1,jt=!1,Rt=!1,Ft=!1,Ut=!1,Xt=!1;if(Mt)var Kt,Yt,Vt=!1;if(Ht)var $t=0,Jt=0,Qt=0,Zt=0,_t=0,te=!1;var ee=function(){return yt?function(){return Math.max(1,Math.min(ft,Math.floor(ct.clientWidth/yt)))}:function(){var e=t.items,n=document.documentElement.clientWidth,i="object"==typeof Dt&&Object.keys(Dt);if(i)for(var a=0;a<i.length;a++)n>=i[a]&&(e=Dt[i[a]]);return Math.max(1,Math.min(ft,e))}}(),ne=function(){return yt?function(){return yt+ht}:function(){return(ct.clientWidth+ht-2*pt)/dt}}(),ie=function(){return t.navContainer?function(){return ft}:function(){return Math.ceil(ft/dt)}}(),ae=function(){return Bt+qt};return{init:function(){c(),u(),f(),v(),L(),wt&&document.addEventListener("keydown",F,!1),window.addEventListener("resize",Q,!1),window.addEventListener("scroll",Z,!1)},destory:function(){if(gn.unwrap(ct),ct=null,lt.classList.remove("tiny-content",st),r(lt,["id","style"]),Nt)for(var e=qt;e--;)ut[0].remove(),ut[ut.length-1].remove();r(ut,["id","style","aria-hidden"]),_=ft=null,mt&&(t.controlsContainer?(r(At,["aria-label"]),r(At.children,["aria-controls","tabindex"]),o(At)):(At.remove(),At=et=nt=null)),Et&&(t.navContainer?(r(xt,["aria-label"]),r(it,["aria-selected","aria-controls","tabindex"]),o(xt)):(xt.remove(),xt=null),it=at=null),Mt&&(t.navContainer||null===xt?o(Yt):(xt.remove(),xt=null)),Ht&&o(lt),wt&&document.removeEventListener("keydown",wt,!1),window.removeEventListener("resize",Q,!1),window.removeEventListener("scroll",Z,!1)}}}function e(){return void 0===window.tinySliderNumber?window.tinySliderNumber=1:window.tinySliderNumber++,"tinySlider"+window.tinySliderNumber}function n(t){return t*(180/Math.PI)}function i(t,e){return Math.abs(90-Math.abs(t))>=90-e?"horizontal":Math.abs(90-Math.abs(t))<=e&&"vertical"}function a(t,e){if(t=gn.isNodeList(t)?t:[t],"[object Object]"===Object.prototype.toString.call(e))for(var n=t.length;n--;)for(var i in e)t[n].setAttribute(i,e[i])}function r(t,e){t=gn.isNodeList(t)?t:[t],e=e instanceof Array?e:[e];for(var n=e.length,i=t.length;i--;)for(var a=n;a--;)t[i].removeAttribute(e[a])}function o(t){var e=t.cloneNode(!0),n=t.parentNode;n.insertBefore(e,t),t.remove(),t=null}var s=gn.getSupportedProp(["transitionDuration","WebkitTransitionDuration","MozTransitionDuration","OTransitionDuration"]),d=gn.getSupportedProp(["transform","WebkitTransform","MozTransform","OTransform"]),l={ENTER:13,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40};return t}();
//# sourceMappingURL=../sourcemaps/tiny-slider.native.js.map
