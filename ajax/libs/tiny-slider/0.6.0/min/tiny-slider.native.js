var tinySlider=function(){"use strict";function t(t){function u(){ut.className="tiny-slider",gn.wrap(st,ut),st.classList.add("tiny-content",dt),Ht&&(st.addEventListener("touchstart",V,!1),st.addEventListener("touchmove",$,!1),st.addEventListener("touchend",J,!1),st.addEventListener("touchcancel",J,!1))}function c(){navigator.msMaxTouchPoints&&(ut.classList.add("ms-touch"),ut.addEventListener("scroll",Y,!1))}function f(){""===st.id?st.id=_=e():_=st.id;for(var t=0;t<ft;t++)ct[t].id=_+"item"+t}function v(){if(Nt||pt){for(var t=document.createDocumentFragment(),e=document.createDocumentFragment(),n=qt;n--;){var i=ct[n].cloneNode(!0),a=ct[ft-1-n].cloneNode(!0);i.id="",a.id="",t.insertBefore(i,t.firstChild),e.appendChild(a)}st.appendChild(t),st.insertBefore(e,st.firstChild),vt=st.children.length,ct=st.children}}function h(){lt=ee(),tt=ne(),rt=ie(),It=Wt||"page"===t.slideBy?lt:t.slideBy,ft<=lt?Et=yt=Mt=Nt=St=!1:(Et=t.nav,yt=t.controls,Mt=t.autoplay,Nt=!t.rewind&&t.loop,St=t.rewind)}function b(){if(Et)if(Gt)xt.hasAttribute("hidden")&&r(xt,"hidden");else{if(!t.navContainer){for(var e="",n=0;n<ft;n++)e+='<button data-slide="'+n+'" tabindex="-1" aria-selected="false" aria-controls="'+_+"item"+n+'" type="button"></button>';Mt&&(e+='<button data-action="stop" type="button"><span hidden>Stop Animation</span>'+Pt[0]+"</button>"),e='<div class="tiny-nav" aria-label="Carousel Pagination">'+e+"</div>",gn.append(ut,e),xt=ut.querySelector(".tiny-nav")}it=xt.querySelectorAll("[data-slide]"),at=it.length,xt.hasAttribute("aria-label")||(a(xt,{"aria-label":"Carousel Pagination"}),a(it,{tabindex:"-1","aria-selected":"false","aria-controls":_+"item"+i}));for(var i=0;i<at;i++)it[i].addEventListener("click",z,!1),it[i].addEventListener("keydown",K,!1);Gt=!0}else Gt&&!xt.hasAttribute("hidden")&&a(xt,{hidden:"true"})}function p(){yt?jt?At.hasAttribute("hidden")&&r(At,"hidden"):(t.controlsContainer||(gn.append(ut,'<div class="tiny-controls" aria-label="Carousel Navigation"><button data-controls="prev" tabindex="-1" aria-controls="'+_+'" type="button">'+gt[0]+'</button><button data-controls="next" tabindex="0" aria-controls="'+_+'" type="button">'+gt[1]+"</button></div>"),At=ut.querySelector(".tiny-controls")),et=At.querySelector('[data-controls="prev"]'),nt=At.querySelector('[data-controls="next"]'),At.hasAttribute("tabindex")||(a(At,{"aria-label":"Carousel Navigation"}),a(At.children,{"aria-controls":_,tabindex:"-1"}),a(nt,{tabindex:"0"})),Nt||D(),et.addEventListener("click",H,!1),nt.addEventListener("click",q,!1),et.addEventListener("keydown",X,!1),nt.addEventListener("keydown",X,!1),jt=!0):jt&&!At.hasAttribute("hidden")&&a(At,{hidden:"true"})}function m(){if(Mt)if(Rt)Yt.hasAttribute("hidden")&&r(Yt,"hidden");else{if(xt||(gn.append(ut,'<div class="tiny-nav" aria-label="Carousel Pagination"><button data-action="stop" type="button"><span hidden>Stop Animation</span>'+Pt[0]+"</button></div>"),xt=ut.querySelector(".tiny-nav")),Yt=xt.querySelector("[data-action]"),B(),Yt.addEventListener("click",j,!1),yt&&(et.addEventListener("click",R,!1),nt.addEventListener("click",R,!1)),Et)for(var t=0;t<at;t++)it[t].addEventListener("click",R,!1);Rt=!0}else Rt&&!Yt.hasAttribute("hidden")&&a(Yt,{hidden:"true"})}function y(){if(Ft&&!Dt||(st.style.width=tt*vt+"px"),pt){var t=pt;if(mt){var e=ut.clientWidth;t=(e-tt*Math.floor(e/tt)+ht)/2}Ft&&!mt||(st.style.paddingLeft=t+"px")}var n=qt*tt,i="marginLeft"===bt?ht:0,a=n+i;0!==a&&(st.style.marginLeft=-a+"px");for(var r=vt;r--;)Ft&&mt||(ct[r].style.width=tt-ht+"px"),Ft||0===ht||(ct[r].style[bt]=ht+"px");Ft=!0}function g(t){return"boolean"==typeof t.complete?t.complete:"number"==typeof t.naturalWidth?0!==t.naturalWidth:void 0}function A(t){for(var e=t.length;e--;)g(t[e])&&t.splice(e,1);0===t.length?E():setTimeout(function(){A(t)},16)}function E(){for(var t,e=ae(),n=[],i=pt?1:0,a=vt;a--;)a>=e-i&&a<e+lt&&n.push(ct[a].offsetHeight);t=Math.max.apply(null,n),d&&(st.style[d]=Lt/1e3+"s"),st.style.height=t+"px",Ut=!0,setTimeout(function(){d&&(st.style[d]="0s"),Ut=!1},Lt)}function x(){navigator.msMaxTouchPoints&&(ut.style.msScrollSnapPointsX="snapInterval(0%, "+tt+")")}function w(){if(Et&&!t.navContainer)for(var e=at;e--;){var n=it[e];e<rt?n.hasAttribute("hidden")&&n.removeAttribute("hidden"):n.hasAttribute("hidden")||n.setAttribute("hidden","")}}function L(){h(),y(),b(),w(),p(),m(),x(),P(),T()}function M(t){st.setAttribute("aria-busy","true"),C(t),P(),setTimeout(function(){Nt&&S(),T(),Ut=!1,st.setAttribute("aria-busy","false")},Lt*t)}function T(){N(),Et&&k(),yt&&!Nt&&D(),Ot&&W(),kt&&I()}function C(t){d&&(st.style[d]=Lt*t/1e3+"s",Ut=!0)}function P(){Qt=-tt*Bt,l?st.style[l]="translate3d("+Qt+"px, 0, 0)":st.style.left=Qt+"px"}function S(){var t=pt?1:0,e=It-qt+t,n=ft+qt-lt-It-1;(Bt<e||Bt>n)&&(Bt-ft>=e&&Bt-ft<=n?Bt-=ft:Bt+=ft,d&&(st.style[d]="0s"),P())}function N(){for(var t=vt;t--;){var e=ae(),n=ct[t];t>=e&&t<e+lt?n.hasAttribute("aria-hidden")&&"true"!==n.getAttribute("aria-hidden")||n.setAttribute("aria-hidden","false"):n.hasAttribute("aria-hidden")&&"false"!==n.getAttribute("aria-hidden")||n.setAttribute("aria-hidden","true")}}function k(){var e;if(zt===-1){var n=Bt<0?Bt+ft:Bt>=ft?Bt-ft:Bt;if(e=t.navContainer?n:Math.floor(n/lt),!Nt&&!t.navContainer){var i=/^-?[0-9]+$/,a=i.test(ft/lt);a||Bt!==ft-lt||(e+=1)}}else e=zt,zt=-1;for(var r=rt;r--;){var o=it[r];r===e?"false"===o.getAttribute("aria-selected")&&(o.setAttribute("tabindex","0"),o.setAttribute("aria-selected","true")):"true"===o.getAttribute("aria-selected")&&(o.setAttribute("tabindex","-1"),o.setAttribute("aria-selected","false"))}}function D(){ft>lt?(0===Bt?(et.disabled=!0,U(et,nt)):et.disabled=!1,St||Bt!==ft-lt?nt.disabled=!1:(nt.disabled=!0,U(nt,et))):(0!==Bt&&(Bt=0,P()),et.disabled=!0,nt.disabled=!0,et.setAttribute("tabindex","-1"),nt.setAttribute("tabindex","-1"),et===document.activeElement&&et.blur(),nt===document.activeElement&&nt.blur())}function W(){if(gn.isInViewport(st)){for(var t=[],e=vt;e--;){var n=Bt+qt-1;if(e>=n&&e<=n+lt+1){for(var i=ct[e].querySelectorAll(".tiny-lazy"),a=i.length;a--;t.unshift(i[a]));t.unshift()}}for(var r=t.length;r--;){var o=t[r];o.classList.contains("loaded")||(o.src=o.getAttribute("data-src"),o.classList.add("loaded"))}}}function I(){for(var t=ae(),e=[],n=vt;n--;)if(n>=t-1&&n<=t+lt)for(var i=ct[n].querySelectorAll("img"),a=i.length;a--;)e.push(i[a]);0===e.length?E():A(e)}function O(t){if(!Ut){var e=Bt+t*It,n=Math.abs(t*It);Bt=Nt?e:Math.max(0,Math.min(e,ft-lt)),M(n)}}function H(){O(-1)}function q(){O(St&&Bt===ft-lt?(lt-ft)/It:1)}function z(e){if(!Ut){for(var n,i=e.target||e.srcElement;gn.indexOf(it,i)===-1;)i=i.parentNode;zt=n=Number(i.getAttribute("data-slide"));var a,r;a=t.navContainer?n:n*lt,a=Nt?a:Math.min(a,ft-lt),r=Math.abs(a-Bt),Bt=a,M(r)}}function B(){Kt=setInterval(function(){O(Ct)},Tt),Yt.setAttribute("data-action","stop"),Yt.innerHTML="<span hidden>Stop Animation</span>"+Pt[1],Vt=!0}function G(){clearInterval(Kt),Yt.setAttribute("data-action","start"),Yt.innerHTML="<span hidden>Stop Animation</span>"+Pt[0],Vt=!1}function j(){Vt?G():B()}function R(){Vt&&G()}function F(t){t=t||window.event,t.keyCode===s.LEFT?O(-1):t.keyCode===s.RIGHT&&O(St&&Bt===ft-lt?(lt-ft)/It:1)}function U(t,e){"object"==typeof t&&"object"==typeof e&&t===document.activeElement&&(t.blur(),e.focus())}function X(t){t=t||window.event;var e=t.keyCode,n=document.activeElement;e!==s.LEFT&&e!==s.UP&&e!==s.HOME&&e!==s.PAGEUP||n!==et&&et.disabled!==!0&&U(n,et),e!==s.RIGHT&&e!==s.DOWN&&e!==s.END&&e!==s.PAGEDOWN||n!==nt&&nt.disabled!==!0&&U(n,nt),e!==s.ENTER&&e!==s.SPACE||(n===nt?q():H())}function K(t){t=t||window.event;var e=t.keyCode,n=document.activeElement;e!==s.LEFT&&e!==s.PAGEUP||n.getAttribute("data-slide")>0&&U(n,n.previousElementSibling),e!==s.UP&&e!==s.HOME||0!==n.getAttribute("data-slide")&&U(n,it[0]),e!==s.RIGHT&&e!==s.PAGEDOWN||n.getAttribute("data-slide")<rt-1&&U(n,n.nextElementSibling),e!==s.DOWN&&e!==s.END||n.getAttribute("data-slide")<rt-1&&U(n,it[rt-1]),e!==s.ENTER&&e!==s.SPACE||z(t)}function Y(){st.style[d]="0s",st.style.transform="translate3d(-"+-st.scrollLeft()+"px,0,0)"}function V(t){var e=t.changedTouches[0];$t=parseInt(e.clientX),Jt=parseInt(e.clientY)}function $(t){var e=t.changedTouches[0];Zt=parseInt(e.clientX)-$t,_t=parseInt(e.clientY)-Jt;var a=n(Math.atan2(_t,Zt)),r=i(a,15);if("horizontal"===r&&Ut===!1&&(te=!0),te){d&&(st.style[d]="0s");var o=Nt?-(ft+qt-lt)*tt:-(ft-lt)*tt,s=Nt?qt*tt:0;!Nt&&mt&&(o=-(ft*tt-ut.clientWidth)),Qt=-Bt*tt+Zt,Qt=Math.max(o,Math.min(Qt,s)),l?st.style[l]="translate3d("+Qt+"px, 0, 0)":st.style.left=Qt+"px",t.preventDefault()}}function J(t){var e=t.changedTouches[0];if(Zt=parseInt(e.clientX)-$t,te&&0!==Zt){t.preventDefault(),te=!1,Qt=-Bt*tt+Zt;var n,i=Nt?-qt:0,a=Nt?ft+qt-lt:ft-lt;n=-(Qt/tt),n=Zt<0?Math.ceil(n):Math.floor(n),n=Math.max(i,Math.min(n,a)),Bt=n,M(1)}}function Q(){clearTimeout(ot),ot=setTimeout(function(){L()},100)}function Z(){Xt||window.requestAnimationFrame(function(){Ot&&W(),Xt=!1}),Xt=!0}if(t=gn.extend({container:document.querySelector(".slider"),transform:"horizontal",items:1,gutter:0,gutterPosition:"right",edgePadding:0,fixedWidth:!1,slideByPage:!1,slideBy:1,controls:!0,controlsText:["prev","next"],controlsContainer:!1,nav:!0,navContainer:!1,arrowKeys:!1,speed:250,autoplay:!1,autoplayTimeout:5e3,autoplayDirection:"forward",autoplayText:["start","stop"],loop:!0,autoHeight:!1,responsive:!1,lazyload:!1,touch:!0,rewind:!1},t||{}),"object"!=typeof t.container||null===t.container)return{init:function(){},destory:function(){}};var _,tt,et,nt,it,at,rt,ot,dt=t.transform,lt=t.items,st=t.container,ut=document.createElement("div"),ct=st.children,ft=ct.length,vt=ct.length,ht=t.gutter,bt="right"===t.gutterPosition?"marginRight":"marginLeft",pt=t.edgePadding,mt=t.fixedWidth,yt=t.controls,gt=t.controlsText,At=!!t.controlsContainer&&t.controlsContainer,Et=t.nav,xt=!!t.navContainer&&t.navContainer,wt=t.arrowKeys,Lt=d?t.speed:0,Mt=t.autoplay,Tt=t.autoplayTimeout,Ct="forward"===t.autoplayDirection?1:-1,Pt=t.autoplayText,St=t.rewind,Nt=!t.rewind&&t.loop,kt=t.autoHeight,Dt=!mt&&t.responsive,Wt=t.slideByPage,It=Wt||"page"===t.slideBy?lt:t.slideBy,Ot=t.lazyload,Ht=t.touch,qt=Nt?ft:pt?1:0,zt=-1,Bt=0,Gt=!1,jt=!1,Rt=!1,Ft=!1,Ut=!1,Xt=!1;if(Mt)var Kt,Yt,Vt=!1;if(Ht)var $t=0,Jt=0,Qt=0,Zt=0,_t=0,te=!1;var ee=function(){return mt?function(){return Math.max(1,Math.min(ft,Math.floor(ut.clientWidth/mt)))}:function(){var e=t.items,n=document.documentElement.clientWidth,i="object"==typeof Dt&&Object.keys(Dt);if(i)for(var a=0;a<i.length;a++)n>=i[a]&&(e=Dt[i[a]]);return Math.max(1,Math.min(ft,e))}}(),ne=function(){return mt?function(){return mt+ht}:function(){return(ut.clientWidth+ht-2*pt)/lt}}(),ie=function(){return t.navContainer?function(){return ft}:function(){return Math.ceil(ft/lt)}}(),ae=function(){return Bt+qt};return{init:function(){u(),c(),f(),v(),L(),wt&&document.addEventListener("keydown",F,!1),window.addEventListener("resize",Q,!1),window.addEventListener("scroll",Z,!1)},destory:function(){if(gn.unwrap(ut),ut=null,st.classList.remove("tiny-content",dt),r(st,["id","style"]),Nt)for(var e=qt;e--;)ct[0].remove(),ct[ct.length-1].remove();r(ct,["id","style","aria-hidden"]),_=ft=null,yt&&(t.controlsContainer?(r(At,["aria-label"]),r(At.children,["aria-controls","tabindex"]),o(At)):(At.remove(),At=et=nt=null)),Et&&(t.navContainer?(r(xt,["aria-label"]),r(it,["aria-selected","aria-controls","tabindex"]),o(xt)):(xt.remove(),xt=null),it=at=null),Mt&&(t.navContainer||null===xt?o(Yt):(xt.remove(),xt=null)),Ht&&o(st),wt&&document.removeEventListener("keydown",wt,!1),window.removeEventListener("resize",Q,!1),window.removeEventListener("scroll",Z,!1)}}}function e(){return void 0===window.tinySliderNumber?window.tinySliderNumber=1:window.tinySliderNumber++,"tinySlider"+window.tinySliderNumber}function n(t){return t*(180/Math.PI)}function i(t,e){return Math.abs(90-Math.abs(t))>=90-e?"horizontal":Math.abs(90-Math.abs(t))<=e&&"vertical"}function a(t,e){if(t=gn.isNodeList(t)?t:[t],"[object object]"===Object.prototype.toString.call(e))for(var n=t.length;n--;)for(var i in e)t[n].setAttribute(i,e[i])}function r(t,e){t=gn.isNodeList(t)?t:[t],e=e instanceof Array?e:[e];for(var n=e.length,i=t.length;i--;)for(var a=n;a--;)t[i].removeAttribute(e[a])}function o(t){var e=t.cloneNode(!0),n=t.parentNode;n.insertBefore(e,t),t.remove(),t=null}var d=gn.getSupportedProp(["transitionDuration","WebkitTransitionDuration","MozTransitionDuration","OTransitionDuration"]),l=gn.getSupportedProp(["transform","WebkitTransform","MozTransform","OTransform"]),s={ENTER:13,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40};return t}();
//# sourceMappingURL=../sourcemaps/tiny-slider.native.js.map
