var tinySlider=function(){"use strict";function t(t){function f(){Et.className="tiny-slider",gn.wrap(gt,Et),pt=Et.clientWidth}function y(){bt=vn(),vt=Jt-bt-St,ct=hn(),ft=pn(),Xt=Ut||"page"===t.slideBy?bt:t.slideBy}function b(){var t=-Lt;Pt&&(Ct?t=D():t+=Pt+Mt),gt.classList.add("tiny-content",mt,yt),gt.style.cssText+="width: "+(ct+1)*Jt+"px; margin-left: "+t+"px; "+h+": translate3d("+-tn*ct+"px, 0px, 0px);"}function g(){navigator.msMaxTouchPoints&&(Et.classList.add("ms-touch"),Et.addEventListener("scroll",nt,!1))}function E(){""===gt.id?gt.id=dt=n():dt=gt.id;for(var t=0;t<wt;t++)xt[t].id=dt+"item"+t}function x(){if(jt||Pt){for(var t=document.createDocumentFragment(),n=document.createDocumentFragment(),e=Yt;e--;){var i=e%wt,a=xt[i].cloneNode(!0),r=xt[wt-1-i].cloneNode(!0);d(a,"id"),d(r,"id"),t.insertBefore(a,t.firstChild),n.appendChild(r)}gt.appendChild(t),gt.insertBefore(n,gt.firstChild),xt=gt.children}o(xt,{style:"width: "+(ct-Mt)+"px; "+Tt+": "+Mt+"px","aria-hidden":"true"})}function w(){Nt&&(t.controlsContainer||(gn.append(Et,'<div class="tiny-controls" aria-label="Carousel Navigation"><button data-controls="prev" tabindex="-1" aria-controls="'+dt+'" type="button">'+kt[0]+'</button><button data-controls="next" tabindex="0" aria-controls="'+dt+'" type="button">'+kt[1]+"</button></div>"),At=Et.querySelector(".tiny-controls")),st=At.querySelector('[data-controls="prev"]'),lt=At.querySelector('[data-controls="next"]'),a(At,"tabindex")||(o(At,{"aria-label":"Carousel Navigation"}),o(At.children,{"aria-controls":dt,tabindex:"-1"})))}function M(){if(Dt){if(!t.navContainer){for(var n="",e=0;e<wt;e++)n+='<button data-slide="'+e+'" tabindex="-1" aria-selected="false" aria-controls="'+dt+"item"+e+'" type="button"></button>';Ht&&(n+='<button data-action="stop" type="button"><span hidden>Stop Animation</span>'+Bt[0]+"</button>"),n='<div class="tiny-nav" aria-label="Carousel Pagination">'+n+"</div>",gn.append(Et,n),Ot=Et.querySelector(".tiny-nav")}if(ut=Ot.querySelectorAll("[data-slide]"),!a(Ot,"aria-label")){o(Ot,{"aria-label":"Carousel Pagination"});for(var i=0;i<wt;i++)o(ut[i],{tabindex:"-1","aria-selected":"false","aria-controls":dt+"item"+i})}for(var r=ft;r<wt;r++)o(ut[r],{hidden:""});Qt=ft}}function T(){Ht&&(Ot||(gn.append(Et,'<div class="tiny-nav" aria-label="Carousel Pagination"><button data-action="stop" type="button"><span hidden>Stop Animation</span>'+Bt[0]+"</button></div>"),Ot=Et.querySelector(".tiny-nav")),rn=Ot.querySelector("[data-action]"),V())}function L(){for(var t=tn;t<tn+bt;t++)o(xt[t],{"aria-hidden":"false"});Nt&&(o(lt,{tabindex:"0"}),(tn===St&&!jt||Gt)&&(st.disabled=!0)),Dt&&o(ut[0],{tabindex:"0","aria-selected":"true"})}function P(){if(p&&gt.addEventListener(p,F,!1),Vt&&(gt.addEventListener("touchstart",et,!1),gt.addEventListener("touchmove",it,!1),gt.addEventListener("touchend",at,!1),gt.addEventListener("touchcancel",at,!1)),Dt)for(var t=0;t<wt;t++)ut[t].addEventListener("click",K,!1),ut[t].addEventListener("keydown",tt,!1);if(Nt&&(st.addEventListener("click",U,!1),lt.addEventListener("click",X,!1),st.addEventListener("keydown",_,!1),lt.addEventListener("keydown",_,!1)),Ht&&(rn.addEventListener("click",J,!1),Nt&&(st.addEventListener("click",Q,!1),lt.addEventListener("click",Q,!1)),Dt))for(var n=0;n<wt;n++)ut[n].addEventListener("click",Q,!1);Wt&&document.addEventListener("keydown",Z,!1),window.addEventListener("resize",rt,!1),window.addEventListener("scroll",ot,!1)}function S(){if(Kt&&gn.isInViewport(gt)){for(var t=[],n=tn-1;n<tn+bt+1;n++){for(var e=xt[n].querySelectorAll(".tiny-lazy"),i=e.length;i--;t.unshift(e[i]));t.unshift()}for(var a=t.length;a--;){var o=t[a];o.classList.contains("loaded")||(o.src=r(o,"data-src"),o.classList.add("loaded"))}}}function C(){if(Ft){for(var t=[],n=tn-1;n<tn+bt;n++)for(var e=xt[n].querySelectorAll("img"),i=e.length;i--;)t.push(e[i]);0===t.length?O():N(t)}}function N(t){for(var n=t.length;n--;)u(t[n])&&t.splice(n,1);0===t.length?O():setTimeout(function(){N(t)},16)}function k(){f(),y(),b(),g(),E(),x(),w(),M(),T(),L(),P(),A(),S(),C()}function A(){wt<=bt?(Dt=Nt=Ht=jt=Gt=!1,tn=Yt,Ot&&s(Ot),At&&s(At),rn&&s(rn)):(Dt=t.nav,Nt=t.controls,Ht=t.autoplay,jt=!t.rewind&&t.loop,Gt=t.rewind,Dt&&l(Ot),Nt&&l(At),Ht&&l(rn))}function D(){return(pt-ct*Math.floor(pt/ct)+Mt)/2}function O(){for(var t,n=[],e=tn-St;e<tn+bt;e++)n.push(xt[e].offsetHeight);t=Math.max.apply(null,n),yn(1),gt.style.height=t+"px"}function W(){Et.style.msScrollSnapPointsX="snapInterval(0%, "+ct+")"}function I(){var t,n,e,i;tn!==nn&&(tn>nn?(t=nn,n=Math.min(nn+bt,tn),e=Math.max(nn+bt,tn),i=tn+bt):(t=Math.max(tn+bt,nn),n=nn+bt,e=tn,i=Math.min(tn+bt,nn))),nn=tn,Xt%1!==0&&(t=Math.round(t),n=Math.round(n),e=Math.round(e),i=Math.round(i));for(var a=t;a<n;a++)o(xt[a],{"aria-hidden":"true"});for(var r=e;r<i;r++)o(xt[r],{"aria-hidden":"false"})}function H(){if(ft!==Qt)if(ft>Qt)for(var t=Qt;t<ft;t++)d(ut[t],"hidden");else for(var n=ft;n<Qt;n++)o(ut[n],{hidden:""});Qt=ft}function q(){if(Dt){if(Zt===-1){var n=tn<Yt?tn+wt:(tn-Yt)%wt;t.navContainer?$t=n:($t=Math.floor(n/bt),jt||wt%bt===0||tn!==vt||($t+=1))}else $t=Zt,Zt=-1;$t!==_t&&(o(ut[_t],{tabindex:"-1","aria-selected":"false"}),o(ut[$t],{tabindex:"0","aria-selected":"true"}),_t=$t)}}function z(){if(Nt&&!jt)if(tn===St||!Gt&&tn===vt){var t=tn===St?st:lt,n=tn===St?lt:st;$(t,n),t.disabled=!0,o(t,{tabindex:"-1"}),n.disabled=!1,o(n,{tabindex:"0"})}else st.disabled=!1,lt.disabled=!1}function B(t,n){v&&yn(t),bn(n)}function G(){var t=Xt+St,n=Jt-bt-Xt-1;(tn<t||tn>n)&&(tn-wt>=t&&tn-wt<=n?tn-=wt:tn+=wt,B(0))}function j(t){o(gt,{"aria-busy":"true"}),B(t),p||F()}function F(t){p&&"height"===t.propertyName||(jt&&G(),I(),q(),z(),S(),C(),d(gt,"aria-busy"))}function R(t){if("true"!==r(gt,"aria-busy")){var n=tn+t*Xt,e=Math.abs(t*Xt);tn=jt?n:Math.max(St,Math.min(n,vt)),j(e)}}function U(){R(-1)}function X(){R(Gt&&tn===wt-bt?(bt-wt)/Xt:1)}function K(n){if("true"!==r(gt,"aria-busy")){for(var e,i,a=n.target||n.srcElement;gn.indexOf(ut,a)===-1;)a=a.parentNode;e=Zt=Number(r(a,"data-slide")),tn=t.navContainer?e+Yt:e*bt+Yt,tn=jt?tn:Math.min(tn,vt),i=Math.abs(tn-nn),j(i)}}function V(){an=setInterval(function(){R(zt)},qt),rn.setAttribute("data-action","stop"),rn.innerHTML="<span hidden>Stop Animation</span>"+Bt[1],on=!0}function Y(){clearInterval(an),rn.setAttribute("data-action","start"),rn.innerHTML="<span hidden>Stop Animation</span>"+Bt[0],on=!1}function J(){on?Y():V()}function Q(){on&&Y()}function Z(t){t=t||window.event,t.keyCode===m.LEFT?R(-1):t.keyCode===m.RIGHT&&R(Gt&&tn===wt-bt?(bt-wt)/Xt:1)}function $(t,n){"object"==typeof t&&"object"==typeof n&&t===document.activeElement&&(t.blur(),n.focus())}function _(t){t=t||window.event;var n=t.keyCode,e=document.activeElement;switch(n){case m.LEFT:case m.UP:case m.HOME:case m.PAGEUP:e!==st&&st.disabled!==!0&&$(e,st);break;case m.RIGHT:case m.DOWN:case m.END:case m.PAGEDOWN:e!==lt&&lt.disabled!==!0&&$(e,lt);break;case m.ENTER:case m.SPACE:e===lt?X():U()}}function tt(t){t=t||window.event;var n=t.keyCode,e=document.activeElement,i=r(e,"data-slide");switch(n){case m.LEFT:case m.PAGEUP:i>0&&$(e,e.previousElementSibling);break;case m.UP:case m.HOME:0!==i&&$(e,ut[0]);break;case m.RIGHT:case m.PAGEDOWN:i<ft-1&&$(e,e.nextElementSibling);break;case m.DOWN:case m.END:i<ft-1&&$(e,ut[ft-1]);break;case m.ENTER:case m.SPACE:K(t)}}function nt(){B(0,gt.scrollLeft())}function et(t){var n=t.changedTouches[0];un=parseInt(n.clientX),fn=parseInt(n.clientY),dn=Number(gt.style[h].slice(12,-13))}function it(t){var n=t.changedTouches[0];cn=parseInt(n.clientX)-un,sn=parseInt(n.clientY)-fn,"horizontal"===i(e(sn,cn),15)&&(ln=!0,t.preventDefault(),B(0,dn+cn))}function at(t){var n=t.changedTouches[0];if(cn=parseInt(n.clientX)-un,ln&&0!==cn){ln=!1,t.preventDefault();var e=-(dn+cn)/ct;e=cn>0?Math.floor(e):Math.ceil(e),tn=Math.max(St,Math.min(e,vt));var i=-tn*ct;jt||Pt||!Ct||(i=Math.max(-(ct*wt-pt),i)),B(1,i),p||F()}}function rt(){clearTimeout(ht),ht=setTimeout(function(){Et.clientWidth!==pt&&(pt=Et.clientWidth,y(),A(),mn(),H(),navigator.msMaxTouchPoints&&W(),B(0),p||F())},100)}function ot(){en||window.requestAnimationFrame(function(){S(),en=!1}),en=!0}if(t=gn.extend({container:document.querySelector(".slider"),mode:"carousel",direction:"horizontal",items:1,gutter:0,gutterPosition:"right",edgePadding:0,fixedWidth:!1,slideByPage:!1,slideBy:1,controls:!0,controlsText:["prev","next"],controlsContainer:!1,nav:!0,navContainer:!1,arrowKeys:!1,speed:250,autoplay:!1,autoplayTimeout:5e3,autoplayDirection:"forward",autoplayText:["start","stop"],loop:!0,autoHeight:!1,responsive:!1,lazyload:!1,touch:!0,rewind:!1},t||{}),"object"!=typeof t.container||null===t.container)return{init:function(){},destory:function(){}};var dt,ct,st,lt,ut,ft,vt,ht,pt,mt=t.mode,yt=t.direction,bt=t.items,gt=t.container,Et=document.createElement("div"),xt=gt.children,wt=xt.length,Mt=t.gutter,Tt="right"===t.gutterPosition?"margin-right":"margin-left",Lt="left"===t.gutterPosition?Mt:0,Pt=t.edgePadding,St=Pt?1:0,Ct=t.fixedWidth,Nt=t.controls,kt=t.controlsText,At=!!t.controlsContainer&&t.controlsContainer,Dt=t.nav,Ot=!!t.navContainer&&t.navContainer,Wt=t.arrowKeys,It=v?t.speed:0,Ht=t.autoplay,qt=t.autoplayTimeout,zt="forward"===t.autoplayDirection?1:-1,Bt=t.autoplayText,Gt=t.rewind,jt=!t.rewind&&t.loop,Ft=t.autoHeight,Rt=!Ct&&t.responsive,Ut=t.slideByPage,Xt=Ut||"page"===t.slideBy?bt:t.slideBy,Kt=t.lazyload,Vt=t.touch,Yt=jt?Math.ceil(1.5*wt):Pt?1:0,Jt=wt+2*Yt,Qt=wt,Zt=-1,$t=0,_t=0,tn=Yt,nn=tn,en=!1;if(Ht)var an,rn,on=!1;if(Vt)var dn,cn,sn,ln,un=0,fn=0;var vn=function(){return Ct?function(){return Math.max(1,Math.min(wt,Math.floor(pt/Ct)))}:function(){var n=t.items,e=document.documentElement.clientWidth,i="object"==typeof Rt&&Object.keys(Rt);if(i)for(var a=0;a<i.length;a++)e>=i[a]&&(n=Rt[i[a]]);return Math.max(1,Math.min(wt,n))}}(),hn=function(){return Ct?function(){return Ct+Mt}:navigator.appVersion.indexOf("MSIE 8")>0?Pt?function(){return Math.round((pt-Mt-2*Pt)/bt)}:function(){return Math.round((pt+Mt)/bt)}:Pt?function(){return(pt-Mt-2*Pt)/bt}:function(){return(pt+Mt)/bt}}(),pn=function(){return t.navContainer?function(){return wt}:function(){return Math.ceil(wt/bt)}}(),mn=function(){return Ct?Pt?function(){gt.style.marginLeft=D()+"px"}:void 0:function(){gt.style.width=(ct+1)*Jt+"px";for(var t=Jt;t--;)xt[t].style.width=ct-Mt+"px"}}(),yn=function(){return v?function(t){gt.style[v]=It*t/1e3+"s"}:function(){}}(),bn=function(){return h?function(t){var n=t||-ct*tn;gt.style[h]="translate3d("+n+"px, 0, 0)"}:function(t){var n=t||-ct*tn;gt.style.left=n+"px"}}();return{init:k,destory:function(){if(gn.unwrap(Et),Et=null,gt.classList.remove("tiny-content",mt,yt),d(gt,["id","style"]),jt)for(var n=Yt;n--;)xt[0].remove(),xt[xt.length-1].remove();d(xt,["id","style","aria-hidden"]),dt=wt=null,Nt&&(t.controlsContainer?(d(At,["aria-label"]),d(At.children,["aria-controls","tabindex"]),c(At)):(At.remove(),At=st=lt=null)),Dt&&(t.navContainer?(d(Ot,["aria-label"]),d(ut,["aria-selected","aria-controls","tabindex"]),c(Ot)):(Ot.remove(),Ot=null),ut=null),Ht&&(t.navContainer||null===Ot?c(rn):(Ot.remove(),Ot=null)),c(gt),Wt&&document.removeEventListener("keydown",Z,!1),window.removeEventListener("resize",rt,!1),window.removeEventListener("scroll",ot,!1)},getIndex:function(){return tn}}}function n(){return void 0===window.tinySliderNumber?window.tinySliderNumber=1:window.tinySliderNumber++,"tinySlider"+window.tinySliderNumber}function e(t,n){return Math.atan2(t,n)*(180/Math.PI)}function i(t,n){return Math.abs(90-Math.abs(t))>=90-n?"horizontal":Math.abs(90-Math.abs(t))<=n&&"vertical"}function a(t,n){return t.hasAttribute(n)}function r(t,n){return t.getAttribute(n)}function o(t,n){if(t=gn.isNodeList(t)||t instanceof Array?t:[t],"[object Object]"===Object.prototype.toString.call(n))for(var e=t.length;e--;)for(var i in n)t[e].setAttribute(i,n[i])}function d(t,n){t=gn.isNodeList(t)||t instanceof Array?t:[t],n=n instanceof Array?n:[n];for(var e=n.length,i=t.length;i--;)for(var a=e;a--;)t[i].removeAttribute(n[a])}function c(t){var n=t.cloneNode(!0),e=t.parentNode;e.insertBefore(n,t),t.remove(),t=null}function s(t){a(t,"hidden")||o(t,{hidden:""})}function l(t){a(t,"hidden")&&d(t,"hidden")}function u(t){return"boolean"==typeof t.complete?t.complete:"number"==typeof t.naturalWidth?0!==t.naturalWidth:void 0}function f(){var t,n=document.createElement("fakeelement"),e={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in e)if(void 0!==n.style[t])return e[t];return!1}var v=gn.getSupportedProp(["transitionDuration","WebkitTransitionDuration","MozTransitionDuration","OTransitionDuration"]),h=gn.getSupportedProp(["transform","WebkitTransform","MozTransform","OTransform"]),p=f(),m={ENTER:13,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40};return t}();
//# sourceMappingURL=../sourcemaps/tiny-slider.native.js.map
