var tinySlider=function(){"use strict";function t(t){function f(){ft.className="tiny-slider",gn.wrap(ut,ft),ut.classList.add("tiny-content",lt),Gt&&(ut.addEventListener("touchstart",J,!1),ut.addEventListener("touchmove",Q,!1),ut.addEventListener("touchend",Z,!1),ut.addEventListener("touchcancel",Z,!1))}function v(){navigator.msMaxTouchPoints&&(ft.classList.add("ms-touch"),ft.addEventListener("scroll",V,!1))}function h(){""===ut.id?ut.id=tt=e():tt=ut.id;for(var t=0;t<ht;t++)vt[t].id=tt+"item"+t}function p(){if(Ot||gt){for(var t=document.createDocumentFragment(),e=document.createDocumentFragment(),n=jt;n--;){var i=vt[n].cloneNode(!0),a=vt[ht-1-n].cloneNode(!0);d(i,"id"),d(a,"id"),t.insertBefore(i,t.firstChild),e.appendChild(a)}ut.appendChild(t),ut.insertBefore(e,ut.firstChild),pt=ut.children.length,vt=ut.children}}function m(){st=le(),et=se(),ot=ue(),zt=qt||"page"===t.slideBy?st:t.slideBy,ht<=st?(Tt=xt=Nt=Ot=Wt=!1,Kt=0):(Tt=t.nav,xt=t.controls,Nt=t.autoplay,Ot=!t.rewind&&t.loop,Wt=t.rewind)}function y(){if(Tt)if(Vt)Ct&&a(Ct,"hidden")&&d(Ct,"hidden");else{if(!t.navContainer){for(var e="",n=0;n<ht;n++)e+='<button data-slide="'+n+'" tabindex="-1" aria-selected="false" aria-controls="'+tt+"item"+n+'" type="button"></button>';Nt&&(e+='<button data-action="stop" type="button"><span hidden>Stop Animation</span>'+Dt[0]+"</button>"),e='<div class="tiny-nav" aria-label="Carousel Pagination">'+e+"</div>",gn.append(ft,e),Ct=ft.querySelector(".tiny-nav")}at=Ct.querySelectorAll("[data-slide]"),rt=at.length,a(Ct,"aria-label")||(o(Ct,{"aria-label":"Carousel Pagination"}),o(at,{tabindex:"-1","aria-selected":"false","aria-controls":tt+"item"+i})),o(at[0],{tabindex:"0","aria-selected":"true"});for(var i=0;i<rt;i++)at[i].addEventListener("click",B,!1),at[i].addEventListener("keydown",Y,!1);Vt=!0}else Vt&&Ct&&!a(Ct,"hidden")&&o(Ct,{hidden:"true"})}function b(){xt?Jt?a(Mt,"hidden")&&d(Mt,"hidden"):(t.controlsContainer||(gn.append(ft,'<div class="tiny-controls" aria-label="Carousel Navigation"><button data-controls="prev" tabindex="-1" aria-controls="'+tt+'" type="button">'+Lt[0]+'</button><button data-controls="next" tabindex="0" aria-controls="'+tt+'" type="button">'+Lt[1]+"</button></div>"),Mt=ft.querySelector(".tiny-controls")),nt=Mt.querySelector('[data-controls="prev"]'),it=Mt.querySelector('[data-controls="next"]'),a(Mt,"tabindex")||(o(Mt,{"aria-label":"Carousel Navigation"}),o(Mt.children,{"aria-controls":tt,tabindex:"-1"}),o(it,{tabindex:"0"})),Ot||k(),nt.addEventListener("click",q,!1),it.addEventListener("click",z,!1),nt.addEventListener("keydown",K,!1),it.addEventListener("keydown",K,!1),Jt=!0):Jt&&!a(Mt,"hidden")&&o(Mt,{hidden:"true"})}function g(){if(Nt)if(Qt)a(ee,"hidden")&&d(ee,"hidden");else{if(Ct||(gn.append(ft,'<div class="tiny-nav" aria-label="Carousel Pagination"><button data-action="stop" type="button"><span hidden>Stop Animation</span>'+Dt[0]+"</button></div>"),Ct=ft.querySelector(".tiny-nav")),ee=Ct.querySelector("[data-action]"),G(),ee.addEventListener("click",R,!1),xt&&(nt.addEventListener("click",F,!1),it.addEventListener("click",F,!1)),Tt)for(var t=0;t<rt;t++)at[t].addEventListener("click",F,!1);Qt=!0}else Qt&&!a(ee,"hidden")&&o(ee,{hidden:"true"})}function E(){if(!Zt||!wt){ut.style.width=(et+1)*pt+"px";var t=jt*et+bt;ut.style.marginLeft=-t+"px";for(var e=pt;e--;)vt[e].style.width=et-mt+"px"}if(gt&&!Zt||wt){var n=gt;if(wt){var i=ft.clientWidth;n=(i-et*Math.floor(i/et)+mt)/2}ut.style.paddingLeft=n+"px"}if(!Zt&&0!==mt)for(var a=pt;a--;)vt[a].style[yt]=mt+"px";Zt=!0}function w(){var t,e=[];dt=fe();for(var n=dt-Et;n<dt+st;n++)e.push(vt[n].offsetHeight);t=Math.max.apply(null,e),ve(1),ut.style.height=t+"px",$t=!0,setTimeout(function(){$t=!1},St)}function x(){ft.style.msScrollSnapPointsX="snapInterval(0%, "+et+")"}function L(){if(ot!==Rt)if(ot>Rt)for(var t=Rt;t<ot;t++)d(at[t],"hidden");else for(var t=ot;t<Rt;t++)o(at[t],{hidden:""});Rt=ot}function M(){m(),E(),y(),L(),b(),g(),navigator.msMaxTouchPoints&&x(),ve(0),he(),C()}function T(t){ut.setAttribute("aria-busy","true"),$t=!0,ve(t),he(),setTimeout(function(){Ot&&P(),C(),$t=!1,ut.setAttribute("aria-busy","false")},St*t)}function C(){S(),Tt&&A(),xt&&!Ot&&k(),Bt&&D(),It&&W()}function P(){var t=zt-jt+Et,e=ht+jt-st-zt-1;(Kt<t||Kt>e)&&(Kt-ht>=t&&Kt-ht<=e?Kt-=ht:Kt+=ht,$t=!0,ve(0),he(),$t=!1)}function S(){dt=fe();for(var t=pt;t--;){var e=vt[t];t>=dt&&t<dt+st?a(e,"aria-hidden")&&"true"!==r(e,"aria-hidden")||o(e,{"aria-hidden":"false"}):a(e,"aria-hidden")&&"false"!==r(e,"aria-hidden")||o(e,{"aria-hidden":"true"})}Yt=dt}function N(){var e;if(Ft===-1){var n=Kt<0?Kt+ht:Kt>=ht?Kt-ht:Kt;e=t.navContainer?n:Math.floor(n/st),Ot||t.navContainer||ht/st%1===0||Kt!==ht-st||(e+=1)}else e=Ft,Ft=-1;return e}function A(){Ut=N(),Ut!==Xt&&(o(at[Xt],{tabindex:"-1","aria-selected":"false"}),o(at[Ut],{tabindex:"0","aria-selected":"true"}),Xt=Ut)}function k(){if(0===Kt||!Wt&&Kt===ht-st){var t=0===Kt?nt:it,e=0===Kt?it:nt;X(t,e),t.disabled=!0,o(t,{tabindex:"-1"}),e.disabled=!1,o(e,{tabindex:"0"})}else nt.disabled=!1,it.disabled=!1}function D(){if(gn.isInViewport(ut)){for(var t=[],e=Kt+jt,n=e-1;n<e+st+1;n++){for(var i=vt[n].querySelectorAll(".tiny-lazy"),a=i.length;a--;t.unshift(i[a]));t.unshift()}for(var o=t.length;o--;){var d=t[o];d.classList.contains("loaded")||(d.src=r(d,"data-src"),d.classList.add("loaded"))}}}function W(){var t=[];dt=fe();for(var e=dt-1;e<dt+st;e++)for(var n=vt[e].querySelectorAll("img"),i=n.length;i--;)t.push(n[i]);0===t.length?w():I(t)}function O(t){return"boolean"==typeof t.complete?t.complete:"number"==typeof t.naturalWidth?0!==t.naturalWidth:void 0}function I(t){for(var e=t.length;e--;)O(t[e])&&t.splice(e,1);0===t.length?w():setTimeout(function(){I(t)},16)}function H(t){if(!$t){var e=Kt+t*zt,n=Math.abs(t*zt);Kt=Ot?e:Math.max(0,Math.min(e,ht-st)),T(n)}}function q(){H(-1)}function z(){H(Wt&&Kt===ht-st?(st-ht)/zt:1)}function B(e){if(!$t){for(var n,i=e.target||e.srcElement;gn.indexOf(at,i)===-1;)i=i.parentNode;Ft=n=Number(r(i,"data-slide"));var a,o;a=t.navContainer?n:n*st,a=Ot?a:Math.min(a,ht-st),o=Math.abs(a-Kt),Kt=a,T(o)}}function G(){te=setInterval(function(){H(kt)},At),ee.setAttribute("data-action","stop"),ee.innerHTML="<span hidden>Stop Animation</span>"+Dt[1],ne=!0}function j(){clearInterval(te),ee.setAttribute("data-action","start"),ee.innerHTML="<span hidden>Stop Animation</span>"+Dt[0],ne=!1}function R(){ne?j():G()}function F(){ne&&j()}function U(t){t=t||window.event,t.keyCode===u.LEFT?H(-1):t.keyCode===u.RIGHT&&H(Wt&&Kt===ht-st?(st-ht)/zt:1)}function X(t,e){"object"==typeof t&&"object"==typeof e&&t===document.activeElement&&(t.blur(),e.focus())}function K(t){t=t||window.event;var e=t.keyCode,n=document.activeElement;switch(e){case u.LEFT:case u.UP:case u.HOME:case u.PAGEUP:n!==nt&&nt.disabled!==!0&&X(n,nt);break;case u.RIGHT:case u.DOWN:case u.END:case u.PAGEDOWN:n!==it&&it.disabled!==!0&&X(n,it);break;case u.ENTER:case u.SPACE:n===it?z():q()}}function Y(t){t=t||window.event;var e=t.keyCode,n=document.activeElement,i=r(n,"data-slide");switch(e){case u.LEFT:case u.PAGEUP:i>0&&X(n,n.previousElementSibling);break;case u.UP:case u.HOME:0!==i&&X(n,at[0]);break;case u.RIGHT:case u.PAGEDOWN:i<ot-1&&X(n,n.nextElementSibling);break;case u.DOWN:case u.END:i<ot-1&&X(n,at[ot-1]);break;case u.ENTER:case u.SPACE:B(t)}}function V(){ve(0),he(ut.scrollLeft())}function J(t){var e=t.changedTouches[0];ie=parseInt(e.clientX),ae=parseInt(e.clientY)}function Q(t){var e=t.changedTouches[0];oe=parseInt(e.clientX)-ie,de=parseInt(e.clientY)-ae;var a=n(Math.atan2(de,oe)),r=i(a,15);if("horizontal"===r&&$t===!1&&(ce=!0),ce){var o=Ot?-(ht+jt-st)*et:-(ht-st)*et,d=Ot?jt*et:0;!Ot&&wt&&(o=-(ht*et-ft.clientWidth)),re=-Kt*et+oe,re=Math.max(o,Math.min(re,d)),ve(0),he(re),t.preventDefault()}}function Z(t){var e=t.changedTouches[0];if(oe=parseInt(e.clientX)-ie,ce&&0!==oe){t.preventDefault(),ce=!1,re=-Kt*et+oe;var n,i=Ot?-jt:0,a=Ot?ht+jt-st:ht-st;n=-(re/et),n=oe<0?Math.ceil(n):Math.floor(n),n=Math.max(i,Math.min(n,a)),Kt=n,T(1)}}function $(){clearTimeout(ct),ct=setTimeout(function(){M()},100)}function _(){_t||window.requestAnimationFrame(function(){Bt&&D(),_t=!1}),_t=!0}if(t=gn.extend({container:document.querySelector(".slider"),transform:"horizontal",items:1,gutter:0,gutterPosition:"right",edgePadding:0,fixedWidth:!1,slideByPage:!1,slideBy:1,controls:!0,controlsText:["prev","next"],controlsContainer:!1,nav:!0,navContainer:!1,arrowKeys:!1,speed:250,autoplay:!1,autoplayTimeout:5e3,autoplayDirection:"forward",autoplayText:["start","stop"],loop:!0,autoHeight:!1,responsive:!1,lazyload:!1,touch:!0,rewind:!1},t||{}),"object"!=typeof t.container||null===t.container)return{init:function(){},destory:function(){}};var tt,et,nt,it,at,rt,ot,dt,ct,lt=t.transform,st=t.items,ut=t.container,ft=document.createElement("div"),vt=ut.children,ht=vt.length,pt=vt.length,mt=t.gutter,yt="right"===t.gutterPosition?"marginRight":"marginLeft",bt="marginLeft"===yt?mt:0,gt=t.edgePadding,Et=gt?1:0,wt=t.fixedWidth,xt=t.controls,Lt=t.controlsText,Mt=!!t.controlsContainer&&t.controlsContainer,Tt=t.nav,Ct=!!t.navContainer&&t.navContainer,Pt=t.arrowKeys,St=l?t.speed:0,Nt=t.autoplay,At=t.autoplayTimeout,kt="forward"===t.autoplayDirection?1:-1,Dt=t.autoplayText,Wt=t.rewind,Ot=!t.rewind&&t.loop,It=t.autoHeight,Ht=!wt&&t.responsive,qt=t.slideByPage,zt=qt||"page"===t.slideBy?st:t.slideBy,Bt=t.lazyload,Gt=t.touch,jt=Ot?ht:gt?1:0,Rt=ht,Ft=-1,Ut=0,Xt=0,Kt=0,Yt=jt+Kt,Vt=!1,Jt=!1,Qt=!1,Zt=!1,$t=!1,_t=!1;if(Nt)var te,ee,ne=!1;if(Gt)var ie=0,ae=0,re=0,oe=0,de=0,ce=!1;var le=function(){return wt?function(){return Math.max(1,Math.min(ht,Math.floor(ft.clientWidth/wt)))}:function(){var e=t.items,n=document.documentElement.clientWidth,i="object"==typeof Ht&&Object.keys(Ht);if(i)for(var a=0;a<i.length;a++)n>=i[a]&&(e=Ht[i[a]]);return Math.max(1,Math.min(ht,e))}}(),se=function(){return wt?function(){return wt+mt}:function(){return(ft.clientWidth+mt-2*gt)/st}}(),ue=function(){return t.navContainer?function(){return ht}:function(){return Math.ceil(ht/st)}}(),fe=function(){return jt+Kt},ve=function(){return l?function(t){ut.style[l]=St*t/1e3+"s"}:function(){}}(),he=function(){return s?function(t){var e=t||-et*Kt;ut.style[s]="translate3d("+e+"px, 0, 0)"}:function(t){var e=t||-et*Kt;ut.style.left=e+"px"}}();return{init:function(){f(),v(),h(),p(),M(),Pt&&document.addEventListener("keydown",U,!1),window.addEventListener("resize",$,!1),window.addEventListener("scroll",_,!1)},destory:function(){if(gn.unwrap(ft),ft=null,ut.classList.remove("tiny-content",lt),d(ut,["id","style"]),Ot)for(var e=jt;e--;)vt[0].remove(),vt[vt.length-1].remove();d(vt,["id","style","aria-hidden"]),tt=ht=null,xt&&(t.controlsContainer?(d(Mt,["aria-label"]),d(Mt.children,["aria-controls","tabindex"]),c(Mt)):(Mt.remove(),Mt=nt=it=null)),Tt&&(t.navContainer?(d(Ct,["aria-label"]),d(at,["aria-selected","aria-controls","tabindex"]),c(Ct)):(Ct.remove(),Ct=null),at=rt=null),Nt&&(t.navContainer||null===Ct?c(ee):(Ct.remove(),Ct=null)),Gt&&c(ut),Pt&&document.removeEventListener("keydown",Pt,!1),window.removeEventListener("resize",$,!1),window.removeEventListener("scroll",_,!1)}}}function e(){return void 0===window.tinySliderNumber?window.tinySliderNumber=1:window.tinySliderNumber++,"tinySlider"+window.tinySliderNumber}function n(t){return t*(180/Math.PI)}function i(t,e){return Math.abs(90-Math.abs(t))>=90-e?"horizontal":Math.abs(90-Math.abs(t))<=e&&"vertical"}function a(t,e){return t.hasAttribute(e)}function r(t,e){return t.getAttribute(e)}function o(t,e){if(t=gn.isNodeList(t)?t:[t],"[object Object]"===Object.prototype.toString.call(e))for(var n=t.length;n--;)for(var i in e)t[n].setAttribute(i,e[i])}function d(t,e){t=gn.isNodeList(t)?t:[t],e=e instanceof Array?e:[e];for(var n=e.length,i=t.length;i--;)for(var a=n;a--;)t[i].removeAttribute(e[a])}function c(t){var e=t.cloneNode(!0),n=t.parentNode;n.insertBefore(e,t),t.remove(),t=null}var l=gn.getSupportedProp(["transitionDuration","WebkitTransitionDuration","MozTransitionDuration","OTransitionDuration"]),s=gn.getSupportedProp(["transform","WebkitTransform","MozTransform","OTransform"]),u={ENTER:13,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40};return t}();
//# sourceMappingURL=../sourcemaps/tiny-slider.native.js.map
