var tinySlider=function(){"use strict";function t(t){function l(){Z.style.width=U*nt+"px",bt&&(Z.style.marginLeft=-(B*U)+"px");for(var t=nt;t--;)tt[t].style.width=U-it+"px",tt[t].style.marginRight=it+"px"}function d(t){return"boolean"==typeof t.complete?t.complete:"number"==typeof t.naturalWidth?0!==t.naturalWidth:void 0}function u(t){for(var e=t.length;e--;)d(t[e])&&t.splice(e,1);0===t.length?v():setTimeout(function(){u(t)},16)}function c(){for(var t=jt(),e=[],n=nt;n--;)if(n>=t&&n<t+X)for(var i=tt[n].querySelectorAll("img"),r=i.length;r--;)e.push(i[r]);0===e.length?v():u(e)}function v(){for(var t,e=jt(),n=[],i=nt;i--;)i>=e&&i<e+X&&n.push(tt[i].offsetHeight);t=Math.max.apply(null,n),a&&(Z.style[a]=ct/1e3+"s"),Z.style.height=t+"px",Lt=!0,setTimeout(function(){a&&(Z.style[a]="0s"),Lt=!1},ct)}function f(t){a&&(Z.style[a]=ct*t/1e3+"s",Lt=!0)}function h(){navigator.msMaxTouchPoints&&(Z.parentNode.style.msScrollSnapPointsX="snapInterval(0%, "+U+")")}function m(){for(var t=nt;t--;){var e=jt(),n=tt[t];t>=e&&t<e+X?n.hasAttribute("aria-hidden")&&"true"!==n.getAttribute("aria-hidden")||n.setAttribute("aria-hidden","false"):n.hasAttribute("aria-hidden")&&"false"!==n.getAttribute("aria-hidden")||n.setAttribute("aria-hidden","true")}}function b(){bt||(et>X?(0===xt?(K.disabled=!0,W(K,Y)):K.disabled=!1,xt===et-X?(Y.disabled=!0,W(Y,K)):Y.disabled=!1):(0!==xt&&(xt=0,g()),K.disabled=!0,Y.disabled=!0,K.setAttribute("tabindex","-1"),Y.setAttribute("tabindex","-1"),K===document.activeElement&&K.blur(),Y===document.activeElement&&Y.blur()))}function p(){if(lt&&!t.navContainer)for(var e=$;e--;){var n=V[e];e<J?n.hasAttribute("hidden")&&n.removeAttribute("hidden"):n.hasAttribute("hidden")||n.setAttribute("hidden","")}}function y(){if(lt){var e;if(At===-1){var n=xt<0?xt+et:xt>=et?xt-et:xt;if(e=t.navContainer?n:Math.floor(n/X),!bt&&!t.navContainer){var i=/^-?[0-9]+$/,r=i.test(et/X);r||xt!==et-X||(e+=1)}}else e=At,At=-1;for(var a=J;a--;){var o=V[a];a===e?"false"===o.getAttribute("aria-selected")&&(o.setAttribute("tabindex","0"),o.setAttribute("aria-selected","true")):"true"===o.getAttribute("aria-selected")&&(o.setAttribute("tabindex","-1"),o.setAttribute("aria-selected","false"))}}}function g(){var t=Z.parentNode.offsetWidth;Nt=-U*xt,rt&&!bt&&(Nt=Math.max(Nt,-Math.abs(et*U-it-t))),o?Z.style[o]="translate3d("+Nt+"px, 0, 0)":Z.style.left=Nt+"px"}function E(){l(),h(),g(),p(),y(),m(),b(),pt&&c(),gt&&O()}function A(){if(bt){var t=yt?xt<X-B:xt<=-B,e=yt?xt>et+B-2*X-1:xt>=et+B-X;rt&&B&&!yt&&(e=xt>=et+B-X-1),t&&(xt+=et),e&&(xt-=et),a&&(Z.style[a]="0s"),g()}}function x(t){Z.setAttribute("aria-busy","true"),f(t),g(),setTimeout(function(){A(),m(),b(),y(),O(),pt&&c(),Lt=!1,Z.setAttribute("aria-busy","false")},ct*t)}function L(t){if(!Lt){t=yt?t*X:t;var e=Math.abs(t);xt=bt?xt+t:Math.max(0,Math.min(xt+t,et-X)),x(e)}}function w(){L(-1)}function M(){L(1)}function C(e){if(!Lt){for(var n,i=e.target||e.srcElement;gn.indexOf(V,i)===-1;)i=i.parentNode;At=n=Number(i.getAttribute("data-slide"));var r,a;r=t.navContainer?n:n*X,r=bt?r:Math.min(r,et-X),a=Math.abs(r-xt),xt=r,x(a)}}function T(){Mt=setInterval(function(){L(ht)},ft),Ct.setAttribute("data-action","stop"),Ct.innerHTML="<span hidden>Stop Animation</span>"+mt[1],Tt=!0}function k(){clearInterval(Mt),Ct.setAttribute("data-action","start"),Ct.innerHTML="<span hidden>Stop Animation</span>"+mt[0],Tt=!1}function S(){Tt?k():T()}function N(){Tt&&k()}function P(t){t=t||window.event,t.keyCode===s.LEFT?L(-1):t.keyCode===s.RIGHT&&L(1)}function W(t,e){"object"==typeof t&&"object"==typeof e&&t===document.activeElement&&(t.blur(),e.focus())}function D(t){t=t||window.event;var e=t.keyCode,n=document.activeElement;e!==s.LEFT&&e!==s.UP&&e!==s.HOME&&e!==s.PAGEUP||n!==K&&K.disabled!==!0&&W(n,K),e!==s.RIGHT&&e!==s.DOWN&&e!==s.END&&e!==s.PAGEDOWN||n!==Y&&Y.disabled!==!0&&W(n,Y),e!==s.ENTER&&e!==s.SPACE||(n===Y?M():w())}function I(t){t=t||window.event;var e=t.keyCode,n=document.activeElement;e!==s.LEFT&&e!==s.PAGEUP||n.getAttribute("data-slide")>0&&W(n,n.previousElementSibling),e!==s.UP&&e!==s.HOME||0!==n.getAttribute("data-slide")&&W(n,V[0]),e!==s.RIGHT&&e!==s.PAGEDOWN||n.getAttribute("data-slide")<J-1&&W(n,n.nextElementSibling),e!==s.DOWN&&e!==s.END||n.getAttribute("data-slide")<J-1&&W(n,V[J-1]),e!==s.ENTER&&e!==s.SPACE||C(t)}function O(){if(gn.isInViewport(Z)){var t=Z.querySelectorAll('[aria-hidden="false"] .tiny-lazy');if(0!==t.length)for(var e=0,n=t.length;e<n;e++)t[e].classList.contains("loaded")||(t[e].src=t[e].getAttribute("data-src"),t[e].classList.add("loaded"))}}function H(){Z.style[a]="0s",Z.style.transform="translate3d(-"+-Z.scrollLeft()+"px,0,0)"}function q(t){var e=t.changedTouches[0];kt=parseInt(e.clientX),St=parseInt(e.clientY)}function G(t){var e=t.changedTouches[0];Pt=parseInt(e.clientX)-kt,Wt=parseInt(e.clientY)-St;var r=n(Math.atan2(Wt,Pt)),s=i(r,15);if("horizontal"===s&&Lt===!1&&(Dt=!0),Dt){a&&(Z.style[a]="0s");var l=bt?-(et+B-X)*U:-(et-X)*U,d=bt?B*U:0;!bt&&rt&&(l=-(et*U-Z.parentNode.offsetWidth)),Nt=-xt*U+Pt,Nt=Math.max(l,Math.min(Nt,d)),o?Z.style[o]="translate3d("+Nt+"px, 0, 0)":Z.style.left=Nt+"px",t.preventDefault()}}function z(t){var e=t.changedTouches[0];if(Pt=parseInt(e.clientX)-kt,Dt&&0!==Pt){t.preventDefault(),Dt=!1,Nt=-xt*U+Pt;var n,i=bt?-B:0,r=bt?et+B-X:et-X;n=-(Nt/U),n=Pt<0?Math.ceil(n):Math.floor(n),n=Math.max(i,Math.min(n,r)),xt=n,x(1)}}function R(){clearTimeout(Q),Q=setTimeout(function(){X=qt(),U=zt(),J=Rt(),E()},100)}function j(){wt||window.requestAnimationFrame(function(){gt&&O(),wt=!1}),wt=!0}if(t=gn.extend({container:document.querySelector(".slider"),items:1,gutter:0,fixedWidth:!1,maxContainerWidth:!1,slideByPage:!1,controls:!0,controlsText:["prev","next"],controlsContainer:!1,nav:!0,navContainer:!1,arrowKeys:!1,speed:250,autoplay:!1,autoplayTimeout:5e3,autoplayDirection:"forward",autoplayText:["start","stop"],loop:!0,autoHeight:!1,responsive:!1,lazyload:!1,touch:!0},t||{}),"object"!=typeof t.container||null===t.container)return{init:function(){},destory:function(){}};var F,U,B,X,K,Y,V,$,J,Q,Z=t.container,_=document.createElement("div"),tt=Z.children,et=tt.length,nt=tt.length,it=t.gutter,rt=t.fixedWidth,at=t.controls,ot=t.controlsText,st=!!t.controlsContainer&&t.controlsContainer,lt=t.nav,dt=!!t.navContainer&&t.navContainer,ut=t.arrowKeys,ct=a?t.speed:0,vt=t.autoplay,ft=t.autoplayTimeout,ht="forward"===t.autoplayDirection?1:-1,mt=t.autoplayText,bt=!(rt&&!t.maxContainerWidth)&&t.loop,pt=t.autoHeight,yt=t.slideByPage,gt=t.lazyload,Et=t.touch,At=-1,xt=0,Lt=!1,wt=!1;if(vt)var Mt,Ct,Tt=!1;if(Et)var kt=0,St=0,Nt=0,Pt=0,Wt=0,Dt=!1;var It=!rt&&t.responsive,Ot="object"==typeof It&&Object.keys(It),Ht=r(It),qt=function(){return rt?function(){return Math.max(Math.min(et,Math.floor(Z.parentNode.offsetWidth/rt)),1)}:function(){var e,n=document.documentElement.clientWidth;if(void 0!==Ot.length&&void 0!==Ht&&Ot.length===Ht.length)if(n<Ot[0])e=t.items;else if(n>=Ot[Ot.length-1])e=Ht[Ht.length-1];else for(var i=0;i<Ot.length-1;i++)n>=Ot[i]&&n<=Ot[i+1]&&(e=Ht[i]);else e=t.items;return Math.max(Math.min(et,e),1)}}(),Gt=function(){var e;return e=rt?!!t.maxContainerWidth&&Math.ceil(t.maxContainerWidth/rt):void 0!==Ht.length?Math.max.apply(Math,Ht):t.items,e?Math.min(et,e):e},zt=function(){return rt?function(){return rt+it}:function(){return(Z.parentNode.offsetWidth+it)/X}}(),Rt=function(){return t.navContainer?function(){return et}:function(){return Math.ceil(et/X)}}(),jt=function(){return bt?function(){return xt+B}:function(){return xt}}();return X=qt(),B=Gt(),U=zt(),J=Rt(),{init:function(){Z.classList.add("tiny-content"),0===Z.id.length?Z.id=F=e():F=Z.id,_.className="tiny-slider",gn.wrap(Z,_),navigator.msMaxTouchPoints&&(_.classList.add("ms-touch"),_.addEventListener("scroll",H,!1));for(var n=0;n<et;n++)tt[n].id=F+"item"+n;if(bt){for(var i=document.createDocumentFragment(),r=document.createDocumentFragment(),a=B;a--;){var o=tt[a].cloneNode(!0),s=tt[et-1-a].cloneNode(!0);o.id="",s.id="",i.insertBefore(o,i.firstChild),r.appendChild(s)}Z.appendChild(i),Z.insertBefore(r,Z.firstChild),nt=Z.children.length,tt=Z.children}if(lt){if(!t.navContainer){for(var l="",d=0;d<et;d++)l+='<button data-slide="'+d+'" tabindex="-1" aria-selected="false" aria-controls="'+F+"item"+d+'" type="button"></button>';vt&&(l+='<button data-action="stop" type="button"><span hidden>Stop Animation</span>'+mt[0]+"</button>"),l='<div class="tiny-nav" aria-label="Carousel Pagination">'+l+"</div>",gn.append(_,l),dt=_.querySelector(".tiny-nav")}if(V=dt.querySelectorAll("[data-slide]"),$=V.length,!dt.hasAttribute("aria-label")){dt.setAttribute("aria-label","Carousel Pagination");for(var u=0;u<$;u++){var c=V[u];c.setAttribute("tabindex","-1"),c.setAttribute("aria-selected","false"),c.setAttribute("aria-controls",F+"item"+u)}}}if(at&&(t.controlsContainer||(gn.append(_,'<div class="tiny-controls" aria-label="Carousel Navigation"><button data-controls="prev" tabindex="-1" aria-controls="'+F+'" type="button">'+ot[0]+'</button><button data-controls="next" tabindex="0" aria-controls="'+F+'" type="button">'+ot[1]+"</button></div>"),st=_.querySelector(".tiny-controls")),K=st.querySelector('[data-controls="prev"]'),Y=st.querySelector('[data-controls="next"]'),st.hasAttribute("tabindex")||(st.setAttribute("aria-label","Carousel Navigation"),K.setAttribute("aria-controls",F),Y.setAttribute("aria-controls",F),K.setAttribute("tabindex","-1"),Y.setAttribute("tabindex","0"))),vt&&(dt||(gn.append(_,'<div class="tiny-nav" aria-label="Carousel Pagination"><button data-action="stop" type="button"><span hidden>Stop Animation</span>'+mt[0]+"</button></div>"),dt=_.querySelector(".tiny-nav")),Ct=dt.querySelector("[data-action]")),E(),Et&&(Z.addEventListener("touchstart",q,!1),Z.addEventListener("touchmove",G,!1),Z.addEventListener("touchend",z,!1),Z.addEventListener("touchcancel",z,!1)),at&&(b(),K.addEventListener("click",w,!1),Y.addEventListener("click",M,!1),K.addEventListener("keydown",D,!1),Y.addEventListener("keydown",D,!1)),lt)for(var v=V.length;v--;)V[v].addEventListener("click",C,!1),V[v].addEventListener("keydown",I,!1);if(vt&&(T(),Ct.addEventListener("click",S,!1),at&&(K.addEventListener("click",N,!1),Y.addEventListener("click",N,!1)),lt))for(var f=0;f<$;f++)V[f].addEventListener("click",N,!1);ut&&document.addEventListener("keydown",P,!1),window.addEventListener("resize",R,!1),window.addEventListener("scroll",j,!1)},destory:function(){if(Z.classList.remove("tiny-content"),Z.style.width="",Z.style[a]="",Z.style.transform="",Z.style.marginLeft="",Z.style.left="",gn.unwrap(_),bt)for(var e=B;e--;)tt[0].remove(),tt[tt.length-1].remove();if(void 0!==F){F=null,Z.removeAttribute("id");for(var n=et;n--;)tt[n].removeAttribute("id"),tt[n].removeAttribute("aria-hidden"),tt[n].style.width=""}if(Et&&(Z.removeEventListener("touchstart",q,!1),Z.removeEventListener("touchmove",G,!1),Z.removeEventListener("touchend",z,!1),Z.removeEventListener("touchcancel",z,!1)),at&&(t.controlsContainer?(st.removeAttribute("aria-label"),K.removeAttribute("aria-controls"),K.removeAttribute("tabindex"),K.removeEventListener("click",w,!1),K.removeEventListener("keydown",D,!1),Y.removeAttribute("aria-controls"),Y.removeAttribute("tabindex"),Y.removeEventListener("click",M,!1),Y.removeEventListener("keydown",D,!1)):(st.remove(),st=null,K=null,Y=null)),lt){if(t.navContainer){dt.removeAttribute("aria-label");for(var i=V.length;i--;)V[i].removeAttribute("aria-selected"),V[i].removeAttribute("aria-controls"),V[i].removeEventListener("click",C,!1),V[i].removeEventListener("keydown",I,!1)}else dt.remove(),dt=null;V=null,$=null}if(vt)if(t.navContainer||null===dt){if(Ct.removeEventListener("click",S,!1),Ct=null,at&&t.controlsContainer&&(K.removeEventListener("click",N,!1),Y.removeEventListener("click",N,!1)),lt&&t.navContainer)for(var r=0;r<$;r++)V[r].removeEventListener("click",N,!1)}else dt.remove(),dt=null;ut&&document.removeEventListener("keydown",ut,!1),window.removeEventListener("resize",R,!1),window.removeEventListener("scroll",j,!1)}}}function e(){return void 0===window.tinySliderNumber?window.tinySliderNumber=1:window.tinySliderNumber++,"tinySlider"+window.tinySliderNumber}function n(t){return t*(180/Math.PI)}function i(t,e){return Math.abs(90-Math.abs(t))>=90-e?"horizontal":Math.abs(90-Math.abs(t))<=e&&"vertical"}function r(t){if("object"==typeof t){for(var e=[],n=Object.keys(t),i=0,r=n.length;i<r;i++){var a=n[i];e.push(t[a])}return e}return!1}var a=gn.getSupportedProp(["transitionDuration","WebkitTransitionDuration","MozTransitionDuration","OTransitionDuration"]),o=gn.getSupportedProp(["transform","WebkitTransform","MozTransform","OTransform"]),s={ENTER:13,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40};return t}();
//# sourceMappingURL=../sourcemaps/tiny-slider.native.js.map
