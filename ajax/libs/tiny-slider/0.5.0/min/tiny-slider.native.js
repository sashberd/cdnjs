var tinySlider=function(){"use strict";function t(t){function l(){Z.style.width=U*nt+"px";var t;t=0!==it&&"marginLeft"===rt?yt?B*U+it:it:B*U,Z.style.marginLeft=-t+"px";for(var e=nt;e--;)tt[e].style.width=U-it+"px",0!==it&&(tt[e].style[rt]=it+"px")}function d(t){return"boolean"==typeof t.complete?t.complete:"number"==typeof t.naturalWidth?0!==t.naturalWidth:void 0}function u(t){for(var e=t.length;e--;)d(t[e])&&t.splice(e,1);0===t.length?v():setTimeout(function(){u(t)},16)}function c(){for(var t=Ut(),e=[],n=nt;n--;)if(n>=t&&n<t+X)for(var i=tt[n].querySelectorAll("img"),r=i.length;r--;)e.push(i[r]);0===e.length?v():u(e)}function v(){for(var t,e=Ut(),n=[],i=nt;i--;)i>=e&&i<e+X&&n.push(tt[i].offsetHeight);t=Math.max.apply(null,n),a&&(Z.style[a]=vt/1e3+"s"),Z.style.height=t+"px",Mt=!0,setTimeout(function(){a&&(Z.style[a]="0s"),Mt=!1},vt)}function f(t){a&&(Z.style[a]=vt*t/1e3+"s",Mt=!0)}function h(){navigator.msMaxTouchPoints&&(Z.parentNode.style.msScrollSnapPointsX="snapInterval(0%, "+U+")")}function m(){for(var t=nt;t--;){var e=Ut(),n=tt[t];t>=e&&t<e+X?n.hasAttribute("aria-hidden")&&"true"!==n.getAttribute("aria-hidden")||n.setAttribute("aria-hidden","false"):n.hasAttribute("aria-hidden")&&"false"!==n.getAttribute("aria-hidden")||n.setAttribute("aria-hidden","true")}}function b(){yt||(et>X?(0===wt?(K.disabled=!0,W(K,Y)):K.disabled=!1,wt!==et-X||pt?Y.disabled=!1:(Y.disabled=!0,W(Y,K))):(0!==wt&&(wt=0,g()),K.disabled=!0,Y.disabled=!0,K.setAttribute("tabindex","-1"),Y.setAttribute("tabindex","-1"),K===document.activeElement&&K.blur(),Y===document.activeElement&&Y.blur()))}function p(){if(dt&&!t.navContainer)for(var e=$;e--;){var n=V[e];e<J?n.hasAttribute("hidden")&&n.removeAttribute("hidden"):n.hasAttribute("hidden")||n.setAttribute("hidden","")}}function y(){if(dt){var e;if(xt===-1){var n=wt<0?wt+et:wt>=et?wt-et:wt;if(e=t.navContainer?n:Math.floor(n/X),!yt&&!t.navContainer){var i=/^-?[0-9]+$/,r=i.test(et/X);r||wt!==et-X||(e+=1)}}else e=xt,xt=-1;for(var a=J;a--;){var o=V[a];a===e?"false"===o.getAttribute("aria-selected")&&(o.setAttribute("tabindex","0"),o.setAttribute("aria-selected","true")):"true"===o.getAttribute("aria-selected")&&(o.setAttribute("tabindex","-1"),o.setAttribute("aria-selected","false"))}}}function g(){var t=Z.parentNode.offsetWidth;Wt=-U*wt,at&&!yt&&(Wt=Math.max(Wt,-Math.abs(et*U-it-t))),o?Z.style[o]="translate3d("+Wt+"px, 0, 0)":Z.style.left=Wt+"px"}function E(){l(),h(),g(),p(),y(),m(),b(),gt&&c(),At&&O()}function A(){if(yt){var t=Et?wt<X-B:wt<=-B,e=Et?wt>et+B-2*X-1:wt>=et+B-X;at&&B&&!Et&&(e=wt>=et+B-X-1),t&&(wt+=et),e&&(wt-=et),a&&(Z.style[a]="0s"),g()}}function L(t){Z.setAttribute("aria-busy","true"),f(t),g(),setTimeout(function(){A(),m(),b(),y(),O(),gt&&c(),Mt=!1,Z.setAttribute("aria-busy","false")},vt*t)}function x(t){if(!Mt){t=Et?t*X:t;var e=Math.abs(t);wt=yt?wt+t:Math.max(0,Math.min(wt+t,et-X)),L(e)}}function w(){x(-1)}function M(){x(wt===et-X&&pt?-et+X:1)}function C(e){if(!Mt){for(var n,i=e.target||e.srcElement;gn.indexOf(V,i)===-1;)i=i.parentNode;xt=n=Number(i.getAttribute("data-slide"));var r,a;r=t.navContainer?n:n*X,r=yt?r:Math.min(r,et-X),a=Math.abs(r-wt),wt=r,L(a)}}function T(){Tt=setInterval(function(){x(mt)},ht),kt.setAttribute("data-action","stop"),kt.innerHTML="<span hidden>Stop Animation</span>"+bt[1],St=!0}function k(){clearInterval(Tt),kt.setAttribute("data-action","start"),kt.innerHTML="<span hidden>Stop Animation</span>"+bt[0],St=!1}function S(){St?k():T()}function N(){St&&k()}function P(t){t=t||window.event,t.keyCode===s.LEFT?x(-1):t.keyCode===s.RIGHT&&x(1)}function W(t,e){"object"==typeof t&&"object"==typeof e&&t===document.activeElement&&(t.blur(),e.focus())}function D(t){t=t||window.event;var e=t.keyCode,n=document.activeElement;e!==s.LEFT&&e!==s.UP&&e!==s.HOME&&e!==s.PAGEUP||n!==K&&K.disabled!==!0&&W(n,K),e!==s.RIGHT&&e!==s.DOWN&&e!==s.END&&e!==s.PAGEDOWN||n!==Y&&Y.disabled!==!0&&W(n,Y),e!==s.ENTER&&e!==s.SPACE||(n===Y?M():w())}function I(t){t=t||window.event;var e=t.keyCode,n=document.activeElement;e!==s.LEFT&&e!==s.PAGEUP||n.getAttribute("data-slide")>0&&W(n,n.previousElementSibling),e!==s.UP&&e!==s.HOME||0!==n.getAttribute("data-slide")&&W(n,V[0]),e!==s.RIGHT&&e!==s.PAGEDOWN||n.getAttribute("data-slide")<J-1&&W(n,n.nextElementSibling),e!==s.DOWN&&e!==s.END||n.getAttribute("data-slide")<J-1&&W(n,V[J-1]),e!==s.ENTER&&e!==s.SPACE||C(t)}function O(){if(gn.isInViewport(Z)){var t=Z.querySelectorAll('[aria-hidden="false"] .tiny-lazy');if(0!==t.length)for(var e=0,n=t.length;e<n;e++)t[e].classList.contains("loaded")||(t[e].src=t[e].getAttribute("data-src"),t[e].classList.add("loaded"))}}function H(){Z.style[a]="0s",Z.style.transform="translate3d(-"+-Z.scrollLeft()+"px,0,0)"}function q(t){var e=t.changedTouches[0];Nt=parseInt(e.clientX),Pt=parseInt(e.clientY)}function G(t){var e=t.changedTouches[0];Dt=parseInt(e.clientX)-Nt,It=parseInt(e.clientY)-Pt;var r=n(Math.atan2(It,Dt)),s=i(r,15);if("horizontal"===s&&Mt===!1&&(Ot=!0),Ot){a&&(Z.style[a]="0s");var l=yt?-(et+B-X)*U:-(et-X)*U,d=yt?B*U:0;!yt&&at&&(l=-(et*U-Z.parentNode.offsetWidth)),Wt=-wt*U+Dt,Wt=Math.max(l,Math.min(Wt,d)),o?Z.style[o]="translate3d("+Wt+"px, 0, 0)":Z.style.left=Wt+"px",t.preventDefault()}}function z(t){var e=t.changedTouches[0];if(Dt=parseInt(e.clientX)-Nt,Ot&&0!==Dt){t.preventDefault(),Ot=!1,Wt=-wt*U+Dt;var n,i=yt?-B:0,r=yt?et+B-X:et-X;n=-(Wt/U),n=Dt<0?Math.ceil(n):Math.floor(n),n=Math.max(i,Math.min(n,r)),wt=n,L(1)}}function R(){clearTimeout(Q),Q=setTimeout(function(){X=zt(),U=jt(),J=Ft(),E()},100)}function j(){Ct||window.requestAnimationFrame(function(){At&&O(),Ct=!1}),Ct=!0}if(t=gn.extend({container:document.querySelector(".slider"),items:1,gutter:0,gutterPosition:"right",fixedWidth:!1,maxContainerWidth:!1,slideByPage:!1,controls:!0,controlsText:["prev","next"],controlsContainer:!1,nav:!0,navContainer:!1,arrowKeys:!1,speed:250,autoplay:!1,autoplayTimeout:5e3,autoplayDirection:"forward",autoplayText:["start","stop"],loop:!0,autoHeight:!1,responsive:!1,lazyload:!1,touch:!0,rewind:!1},t||{}),"object"!=typeof t.container||null===t.container)return{init:function(){},destory:function(){}};var F,U,B,X,K,Y,V,$,J,Q,Z=t.container,_=document.createElement("div"),tt=Z.children,et=tt.length,nt=tt.length,it=t.gutter,rt="right"===t.gutterPosition?"marginRight":"marginLeft",at=t.fixedWidth,ot=t.controls,st=t.controlsText,lt=!!t.controlsContainer&&t.controlsContainer,dt=t.nav,ut=!!t.navContainer&&t.navContainer,ct=t.arrowKeys,vt=a?t.speed:0,ft=t.autoplay,ht=t.autoplayTimeout,mt="forward"===t.autoplayDirection?1:-1,bt=t.autoplayText,pt=t.rewind,yt=!(pt||at&&!t.maxContainerWidth)&&t.loop,gt=t.autoHeight,Et=t.slideByPage,At=t.lazyload,Lt=t.touch,xt=-1,wt=0,Mt=!1,Ct=!1;if(ft)var Tt,kt,St=!1;if(Lt)var Nt=0,Pt=0,Wt=0,Dt=0,It=0,Ot=!1;var Ht=!at&&t.responsive,qt="object"==typeof Ht&&Object.keys(Ht),Gt=r(Ht),zt=function(){return at?function(){return Math.max(Math.min(et,Math.floor(Z.parentNode.offsetWidth/at)),1)}:function(){var e,n=document.documentElement.clientWidth;if(void 0!==qt.length&&void 0!==Gt&&qt.length===Gt.length)if(n<qt[0])e=t.items;else if(n>=qt[qt.length-1])e=Gt[Gt.length-1];else for(var i=0;i<qt.length-1;i++)n>=qt[i]&&n<=qt[i+1]&&(e=Gt[i]);else e=t.items;return Math.max(Math.min(et,e),1)}}(),Rt=function(){var e;return e=at?!!t.maxContainerWidth&&Math.ceil(t.maxContainerWidth/at):void 0!==Gt.length?Math.max.apply(Math,Gt):t.items,e?Math.min(et,e):e},jt=function(){return at?function(){return at+it}:function(){return(gn.getWidth(Z.parentNode)+it)/X}}(),Ft=function(){return t.navContainer?function(){return et}:function(){return Math.ceil(et/X)}}(),Ut=function(){return yt?function(){return wt+B}:function(){return wt}}();return X=zt(),B=Rt(),U=jt(),J=Ft(),{init:function(){Z.classList.add("tiny-content"),0===Z.id.length?Z.id=F=e():F=Z.id,_.className="tiny-slider",gn.wrap(Z,_),navigator.msMaxTouchPoints&&(_.classList.add("ms-touch"),_.addEventListener("scroll",H,!1));for(var n=0;n<et;n++)tt[n].id=F+"item"+n;if(yt){for(var i=document.createDocumentFragment(),r=document.createDocumentFragment(),a=B;a--;){var o=tt[a].cloneNode(!0),s=tt[et-1-a].cloneNode(!0);o.id="",s.id="",i.insertBefore(o,i.firstChild),r.appendChild(s)}Z.appendChild(i),Z.insertBefore(r,Z.firstChild),nt=Z.children.length,tt=Z.children}if(dt){if(!t.navContainer){for(var l="",d=0;d<et;d++)l+='<button data-slide="'+d+'" tabindex="-1" aria-selected="false" aria-controls="'+F+"item"+d+'" type="button"></button>';ft&&(l+='<button data-action="stop" type="button"><span hidden>Stop Animation</span>'+bt[0]+"</button>"),l='<div class="tiny-nav" aria-label="Carousel Pagination">'+l+"</div>",gn.append(_,l),ut=_.querySelector(".tiny-nav")}if(V=ut.querySelectorAll("[data-slide]"),$=V.length,!ut.hasAttribute("aria-label")){ut.setAttribute("aria-label","Carousel Pagination");for(var u=0;u<$;u++){var c=V[u];c.setAttribute("tabindex","-1"),c.setAttribute("aria-selected","false"),c.setAttribute("aria-controls",F+"item"+u)}}}if(ot&&(t.controlsContainer||(gn.append(_,'<div class="tiny-controls" aria-label="Carousel Navigation"><button data-controls="prev" tabindex="-1" aria-controls="'+F+'" type="button">'+st[0]+'</button><button data-controls="next" tabindex="0" aria-controls="'+F+'" type="button">'+st[1]+"</button></div>"),lt=_.querySelector(".tiny-controls")),K=lt.querySelector('[data-controls="prev"]'),Y=lt.querySelector('[data-controls="next"]'),lt.hasAttribute("tabindex")||(lt.setAttribute("aria-label","Carousel Navigation"),K.setAttribute("aria-controls",F),Y.setAttribute("aria-controls",F),K.setAttribute("tabindex","-1"),Y.setAttribute("tabindex","0"))),ft&&(ut||(gn.append(_,'<div class="tiny-nav" aria-label="Carousel Pagination"><button data-action="stop" type="button"><span hidden>Stop Animation</span>'+bt[0]+"</button></div>"),ut=_.querySelector(".tiny-nav")),kt=ut.querySelector("[data-action]")),E(),Lt&&(Z.addEventListener("touchstart",q,!1),Z.addEventListener("touchmove",G,!1),Z.addEventListener("touchend",z,!1),Z.addEventListener("touchcancel",z,!1)),ot&&(b(),K.addEventListener("click",w,!1),Y.addEventListener("click",M,!1),K.addEventListener("keydown",D,!1),Y.addEventListener("keydown",D,!1)),dt)for(var v=V.length;v--;)V[v].addEventListener("click",C,!1),V[v].addEventListener("keydown",I,!1);if(ft&&(T(),kt.addEventListener("click",S,!1),ot&&(K.addEventListener("click",N,!1),Y.addEventListener("click",N,!1)),dt))for(var f=0;f<$;f++)V[f].addEventListener("click",N,!1);ct&&document.addEventListener("keydown",P,!1),window.addEventListener("resize",R,!1),window.addEventListener("scroll",j,!1)},destory:function(){if(Z.classList.remove("tiny-content"),Z.style.width="",Z.style[a]="",Z.style.transform="",Z.style.marginLeft="",Z.style.left="",gn.unwrap(_),yt)for(var e=B;e--;)tt[0].remove(),tt[tt.length-1].remove();if(void 0!==F){F=null,Z.removeAttribute("id");for(var n=et;n--;)tt[n].removeAttribute("id"),tt[n].removeAttribute("aria-hidden"),tt[n].style.width=""}if(Lt&&(Z.removeEventListener("touchstart",q,!1),Z.removeEventListener("touchmove",G,!1),Z.removeEventListener("touchend",z,!1),Z.removeEventListener("touchcancel",z,!1)),ot&&(t.controlsContainer?(lt.removeAttribute("aria-label"),K.removeAttribute("aria-controls"),K.removeAttribute("tabindex"),K.removeEventListener("click",w,!1),K.removeEventListener("keydown",D,!1),Y.removeAttribute("aria-controls"),Y.removeAttribute("tabindex"),Y.removeEventListener("click",M,!1),Y.removeEventListener("keydown",D,!1)):(lt.remove(),lt=null,K=null,Y=null)),dt){if(t.navContainer){ut.removeAttribute("aria-label");for(var i=V.length;i--;)V[i].removeAttribute("aria-selected"),V[i].removeAttribute("aria-controls"),V[i].removeEventListener("click",C,!1),V[i].removeEventListener("keydown",I,!1)}else ut.remove(),ut=null;V=null,$=null}if(ft)if(t.navContainer||null===ut){if(kt.removeEventListener("click",S,!1),kt=null,ot&&t.controlsContainer&&(K.removeEventListener("click",N,!1),Y.removeEventListener("click",N,!1)),dt&&t.navContainer)for(var r=0;r<$;r++)V[r].removeEventListener("click",N,!1)}else ut.remove(),ut=null;ct&&document.removeEventListener("keydown",ct,!1),window.removeEventListener("resize",R,!1),window.removeEventListener("scroll",j,!1)}}}function e(){return void 0===window.tinySliderNumber?window.tinySliderNumber=1:window.tinySliderNumber++,"tinySlider"+window.tinySliderNumber}function n(t){return t*(180/Math.PI)}function i(t,e){return Math.abs(90-Math.abs(t))>=90-e?"horizontal":Math.abs(90-Math.abs(t))<=e&&"vertical"}function r(t){if("object"==typeof t){for(var e=[],n=Object.keys(t),i=0,r=n.length;i<r;i++){var a=n[i];e.push(t[a])}return e}return!1}var a=gn.getSupportedProp(["transitionDuration","WebkitTransitionDuration","MozTransitionDuration","OTransitionDuration"]),o=gn.getSupportedProp(["transform","WebkitTransform","MozTransform","OTransform"]),s={ENTER:13,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40};return t}();
//# sourceMappingURL=../sourcemaps/tiny-slider.native.js.map
