!function(e){e.extend(!0,window,{Slick:{CheckboxSelectColumn:function(t){function o(e,t){var o,n,c=s.getSelectedRows(),i={};for(n=0;n<c.length;n++)i[o=c[n]]=!0,i[o]!==u[o]&&(s.invalidateRow(o),delete u[o]);for(n in u)s.invalidateRow(n);u=i,s.render(),c.length&&c.length==s.getDataLength()?s.updateColumnHeader(g.columnId,"<input type='checkbox' checked='checked'>",g.toolTip):s.updateColumnHeader(g.columnId,"<input type='checkbox'>",g.toolTip)}function n(e,t){32==e.which&&s.getColumns()[t.cell].id===g.columnId&&(s.getEditorLock().isActive()&&!s.getEditorLock().commitCurrentEdit()||i(t.row),e.preventDefault(),e.stopImmediatePropagation())}function c(t,o){if(s.getColumns()[o.cell].id===g.columnId&&e(t.target).is(":checkbox")){if(s.getEditorLock().isActive()&&!s.getEditorLock().commitCurrentEdit())return t.preventDefault(),void t.stopImmediatePropagation();i(o.row),t.stopPropagation(),t.stopImmediatePropagation()}}function i(t){u[t]?s.setSelectedRows(e.grep(s.getSelectedRows(),function(e){return e!=t})):s.setSelectedRows(s.getSelectedRows().concat(t))}function l(t,o){if(o.column.id==g.columnId&&e(t.target).is(":checkbox")){if(s.getEditorLock().isActive()&&!s.getEditorLock().commitCurrentEdit())return t.preventDefault(),void t.stopImmediatePropagation();if(e(t.target).is(":checked")){for(var n=[],c=0;c<s.getDataLength();c++)n.push(c);s.setSelectedRows(n)}else s.setSelectedRows([]);t.stopPropagation(),t.stopImmediatePropagation()}}function r(e,t,o,n,c){return c?u[e]?"<input type='checkbox' checked='checked'>":"<input type='checkbox'>":null}var s,d=new Slick.EventHandler,u={},a={columnId:"_checkbox_selector",cssClass:null,toolTip:"Select/Deselect All",width:30},g=e.extend(!0,{},a,t);e.extend(this,{init:function(e){s=e,d.subscribe(s.onSelectedRowsChanged,o).subscribe(s.onClick,c).subscribe(s.onHeaderClick,l).subscribe(s.onKeyDown,n)},destroy:function(){d.unsubscribeAll()},deSelectRows:function(t){var o,n=t.length,c=[];for(o=0;o<n;o++)u[t[o]]&&(c[c.length]=t[o]);s.setSelectedRows(e.grep(s.getSelectedRows(),function(e){return c.indexOf(e)<0}))},selectRows:function(e){var t,o=e.length,n=[];for(t=0;t<o;t++)u[e[t]]||(n[n.length]=e[t]);s.setSelectedRows(s.getSelectedRows().concat(n))},getColumnDefinition:function(){return{id:g.columnId,name:"<input type='checkbox'>",toolTip:g.toolTip,field:"sel",width:g.width,resizable:!1,sortable:!1,cssClass:g.cssClass,formatter:r}}})}}})}(jQuery);