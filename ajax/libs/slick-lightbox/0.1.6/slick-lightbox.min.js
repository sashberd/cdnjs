"use strict";var SlickLightbox,defaults;SlickLightbox=function(){function i(i,t){var n;this.options=t,this.element=$(i),this.didInit=!1,n=this,this.element.on("click.slickLightbox",this.options.itemSelector,function(i){return i.preventDefault(),n.init(n.element.find(n.options.itemSelector).index($(this)))})}return i.prototype.init=function(i){return this.didInit=!0,this.createModal(i),this.bindEvents(),this.initSlick(),this.open()},i.prototype.createModalItems=function(i){var t,n,o;return this.options.images?o=$.map(this.options.images,function(i){return'<div class="slick-lightbox-slick-item"><div class="slick-lightbox-slick-item-inner"><img class="slick-lightbox-slick-img" src="'+i+'" /></div></div>'}):(n=function(i){return function(t){var n;return n=i.getElementCaption(t),'<div class="slick-lightbox-slick-item"><div class="slick-lightbox-slick-item-inner"><img class="slick-lightbox-slick-img" src="'+t.href+'" />'+n+"</div></div>"}}(this),t=this.element.find(this.options.itemSelector),0===i||-1===i?o=$.map(t,n):(o=$.map(t.slice(i),n),$.each(t.slice(0,i),function(i,t){return o.push(n(t))}))),o},i.prototype.createModal=function(i){var t,n;return n=this.createModalItems(i),t='<div class="slick-lightbox slick-hide-init" style="background: '+this.options.background+';">\n\t<div class="slick-lightbox-inner">\n\t\t<div class="slick-lightbox-slick slick-caption-'+this.options.captionPosition+'">'+n.join("")+'</div>\n\t\t<button type="button" class="slick-lightbox-close"></button>\n\t<div>\n<div>',this.modalElement=$(t),$("body").append(this.modalElement)},i.prototype.initSlick=function(i){return null!=this.options.slick?"function"==typeof this.options.slick?this.options.slick(this.modalElement):this.slick=this.modalElement.find(".slick-lightbox-slick").slick(this.options.slick):this.slick=this.modalElement.find(".slick-lightbox-slick").slick(),this.modalElement.trigger("init.slickLightbox")},i.prototype.open=function(){return this.modalElement.removeClass("slick-hide-init")},i.prototype.close=function(){return this.modalElement.addClass("slick-hide"),this.destroy()},i.prototype.bindEvents=function(){var i;if(i=function(i){return function(){var t;return t=i.modalElement.find(".slick-lightbox-inner").height(),i.modalElement.find(".slick-lightbox-slick-item").height(t),i.modalElement.find(".slick-lightbox-slick-img").css("max-height",Math.round(.9*t))}}(this),$(window).on("orientationchange.slickLightbox resize.slickLightbox",i),this.modalElement.on("init.slickLightbox",i),this.modalElement.on("destroy.slickLightbox",function(i){return function(){return i.destroy()}}(this)),this.modalElement.on("click.slickLightbox touchstart.slickLightbox",".slick-lightbox-close",function(i){return function(t){return t.preventDefault(),i.close()}}(this)),this.options.closeOnEscape||this.options.navigateByKeyboard)return $(document).on("keydown.slickLightbox",function(i){return function(t){var n;if(n=t.keyCode?t.keyCode:t.which,i.options.navigateByKeyboard&&(37===n?i.slideSlick("left"):39===n&&i.slideSlick("right")),i.options.closeOnEscape&&27===n)return i.close()}}(this))},i.prototype.slideSlick=function(i){return"left"===i?this.slick.slickPrev():this.slick.slickNext()},i.prototype.getElementCaption=function(i){return this.options.caption?'<span class="slick-lightbox-slick-caption">'+function(){switch(typeof this.options.caption){case"function":return this.options.caption(i);case"string":return $(i).data(this.options.caption)}}.call(this)+"</span>":""},i.prototype.unbindEvents=function(){return $(window).off(".slickLightbox"),$(document).off(".slickLightbox"),this.modalElement.off(".slickLightbox")},i.prototype.destroy=function(i){if(null==i&&(i=!1),this.didInit&&(this.unbindEvents(),setTimeout(function(i){return function(){return i.modalElement.remove()}}(this),this.options.destroyTimeout)),i)return this.element.off(".slickLightbox",this.options.itemSelector)},i.prototype.destroyPrevious=function(){return $("body").children(".slick-lightbox").trigger("destroy.slickLightbox")},i}(),defaults={background:"rgba(0,0,0,.8)",closeOnEscape:!0,destroyTimeout:500,itemSelector:"a",navigateByKeyboard:!0,caption:!1,captionPosition:"dynamic",images:!1,slick:{}},$.fn.slickLightbox=function(i){return i=$.extend({},defaults,i),this.slickLightbox=new SlickLightbox(this,i)},$.fn.unslickLightbox=function(){return this.slickLightbox.destroy(!0)};