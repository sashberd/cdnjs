!(function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("inferno"),require("inferno-create-element")):"function"==typeof define&&define.amd?define(["exports","inferno","inferno-create-element"],t):t((e.Inferno=e.Inferno||{},e.Inferno.TestUtils=e.Inferno.TestUtils||{}),e.Inferno,e.Inferno.createElement)})(this,(function(e,t,n){"use strict";function o(e){var t=typeof e;return"string"===t||"number"===t}function r(e){return c(e)||a(e)}function i(e){return a(e)||e===!1||f(e)||c(e)}function d(e){return"function"==typeof e}function s(e){return"string"==typeof e}function u(e){return"number"==typeof e}function a(e){return null===e}function f(e){return e===!0}function c(e){return void 0===e}function p(e){return"object"==typeof e}function l(e){throw e||(e=G),new Error("Inferno Error: "+e)}function h(e,t){var n,o={};if(e)for(n in e)o[n]=e[n];if(t)for(n in t)o[n]=t[n];return o}function _(){this.listeners=[]}function m(e,t){if(28&e.flags){var n=e.parentVNode;n&&(n.dom=t,m(n,t))}}function y(e,t,n){var o=H.get(e);o||(o=[],H.set(e,o),K.then((function(){H.delete(e),e._updating=!0,S(e,t,(function(){for(var e=0,t=o.length;e<t;e++)o[e]()})),e._updating=!1}))),n&&o.push(n)}function g(e,t,n,o){d(t)&&(t=t(e.state,e.props,e.context));for(var r in t)e._pendingState[r]=t[r];if(e._pendingSetState||!$||o&&e._blockRender){var i=e._pendingState,s=e.state;for(var u in i)s[u]=i[u];e._pendingState={}}else!o&&!e._blockRender||e._updating?y(e,!1,n):(e._pendingSetState=!0,e._updating=!0,S(e,!1,n),e._updating=!1)}function S(e,n,d){if(e._deferSetState&&!n||e._blockRender||e._unmounted)r(d)||(e._blockRender&&(e.state=e._pendingState,e._pendingState={}),d());else{e._pendingSetState=!1;var s=e._pendingState,u=e.state,a=h(u,s),f=e.props,p=e.context;e._pendingState={};var y=e._updateComponent(u,a,f,f,p,n,!0),g=!0;i(y)?y=t.createVNode(4096):y===q?(y=e._lastInput,g=!1):o(y)?y=t.createVNode(1,null,null,y):z(y)&&l();var S=e._lastInput,N=e._vNode,T=S.dom&&S.dom.parentNode||(S.dom=N.dom);if(e._lastInput=y,g){var O,v=e._lifecycle;v?v.listeners=[]:v=new _,e._lifecycle=v,c(e.getChildContext)||(O=e.getChildContext()),O=r(O)?e._childContext:h(p,O),e._patch(S,y,T,v,O,e._isSVG,!1),v.trigger(),c(e.componentDidUpdate)||e.componentDidUpdate(f,u,p),t.options.afterUpdate&&t.options.afterUpdate(N)}var V=N.dom=y.dom,R=e._componentToDOMNodeMap;R&&R.set(e,y.dom),m(N,V),r(d)||d()}}function N(e){return Boolean(e)&&p(e)&&u(e.flags)&&e.flags>0}function T(e,t){return N(e)&&e.type===t}function O(e){return N(e)&&s(e.type)}function v(e,t){return O(e)&&e.type===t}function V(e){return N(e)&&Boolean(8&e.flags)}function R(e,t){return V(e)&&e.type===t}function C(e){return N(e)&&Boolean(4&e.flags)}function M(e,t){return C(e)&&e.type===t}function b(e){return Boolean(e)&&p(e)&&1===e.nodeType&&s(e.tagName)}function D(e,t){return b(e)&&s(t)&&e.tagName.toLowerCase()===t.toLowerCase()}function I(e){return Boolean(e)&&p(e)&&N(e._vNode)&&d(e.render)&&d(e.setState)}function E(e,t){return I(e)&&d(t)&&e._vNode.type===t}function W(e){var o=n(X,null,e),r=document.createElement("div");return document.body.appendChild(r),t.render(o,r)}function x(e,t){if(I(e))return k(e._lastInput,t);l("findAllInRenderedTree(renderedTree, predicate) renderedTree must be a rendered class component")}function k(e,t){if(N(e)){var n=t(e)?[e]:[],o=e.children;return I(o)?n=n.concat(k(o._lastInput,t)):N(o)?n=n.concat(k(o,t)):z(o)&&o.forEach((function(e){n=n.concat(k(e,t))})),n}l("findAllInVNodeTree(vNodeTree, predicate) vNodeTree must be a VNode instance")}function U(e){return z(e)?e:s(e)?e.trim().split(/\s+/):[]}function w(e,t,n,o){var r=o(e,t);if(!(r.length>1))return r[0];l("Did not find exactly one match (found "+r.length+") for "+n+": "+t)}function A(e,t){return x(e,(function(e){if(O(e)){var n=e.dom.className;s(n)||(n=e.dom.getAttribute("class")||"");var o=U(n);return U(t).every((function(e){return o.indexOf(e)!==-1}))}return!1})).map((function(e){return e.dom}))}function B(e,t){return x(e,(function(e){return v(e,t)})).map((function(e){return e.dom}))}function P(e,t){return x(e,(function(e){return T(e,t)}))}function j(e,t){return k(e,(function(e){return T(e,t)}))}function F(e,t){return w(e,t,"class",A)}function J(e,t){return w(e,t,"tag",B)}function Y(e,t){return w(e,t,"component",P)}function L(e,t){return w(e,t,"VNode",j)}n="default"in n?n.default:n;var q="$NO_OP",G="a runtime error occured! Use Inferno in development environment to find the error.",$=!("undefined"==typeof window||!window.document),z=Array.isArray;_.prototype.addListener=function(e){this.listeners.push(e)},_.prototype.trigger=function(){for(var e=this.listeners,t=0,n=e.length;t<n;t++)e[t]()};var H=new Map,K=Promise.resolve(),Q=function(e,n){this.state={},this._blockRender=!1,this._ignoreSetState=!1,this._blockSetState=!1,this._deferSetState=!1,this._pendingSetState=!1,this._pendingState={},this._lastInput=null,this._vNode=null,this._unmounted=!1,this._lifecycle=null,this._childContext=null,this._patch=null,this._isSVG=!1,this._componentToDOMNodeMap=null,this._updating=!1,this.props=e||t.EMPTY_OBJ,this.context=n||t.EMPTY_OBJ};Q.prototype.render=function(e,t,n){},Q.prototype.forceUpdate=function(e){this._unmounted||$&&S(this,!0,e)},Q.prototype.setState=function(e,t){this._unmounted||(this._blockSetState?l():this._ignoreSetState||g(this,e,t,!1))},Q.prototype.setStateSync=function(e){this._unmounted||(this._blockSetState?l():this._ignoreSetState||g(this,e,null,!0))},Q.prototype._updateComponent=function(e,n,o,r,i,d,s){if(this._unmounted===!0&&l(),o!==r||r===t.EMPTY_OBJ||e!==n||d){if(o===r&&r!==t.EMPTY_OBJ||(c(this.componentWillReceiveProps)||s||(this._blockRender=!0,this.componentWillReceiveProps(r,i),this._blockRender=!1),this._pendingSetState&&(n=h(n,this._pendingState),this._pendingSetState=!1,this._pendingState={})),c(this.shouldComponentUpdate)||this.shouldComponentUpdate(r,n,i)||d){c(this.componentWillUpdate)||(this._blockSetState=!0,this.componentWillUpdate(r,n,i),this._blockSetState=!1),this.props=r,this.state=n,this.context=i,t.options.beforeRender&&t.options.beforeRender(this);var u=this.render(r,n,i);return t.options.afterRender&&t.options.afterRender(this),u}this.props=r,this.state=n,this.context=i}return q};var X=(function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(){return this.props.children},t})(Q),Z={isVNode:N,isVNodeOfType:T,isDOMVNode:O,isDOMVNodeOfType:v,isFunctionalVNode:V,isFunctionalVNodeOfType:R,isClassVNode:C,isClassVNodeOfType:M,isDOMElement:b,isDOMElementOfType:D,isRenderedClassComponent:I,isRenderedClassComponentOfType:E,renderIntoDocument:W,findAllInRenderedTree:x,findAllInVNodeTree:k,scryRenderedDOMElementsWithClass:A,findRenderedDOMElementWithClass:F,scryRenderedDOMElementsWithTag:B,findRenderedDOMElementWithTag:J,scryRenderedVNodesWithType:P,findRenderedVNodeWithType:Y,scryVNodesWithType:j,findVNodeWithType:L};e.isVNode=N,e.isVNodeOfType=T,e.isDOMVNode=O,e.isDOMVNodeOfType=v,e.isFunctionalVNode=V,e.isFunctionalVNodeOfType=R,e.isClassVNode=C,e.isClassVNodeOfType=M,e.isDOMElement=b,e.isDOMElementOfType=D,e.isRenderedClassComponent=I,e.isRenderedClassComponentOfType=E,e.renderIntoDocument=W,e.findAllInRenderedTree=x,e.findAllInVNodeTree=k,e.scryRenderedDOMElementsWithClass=A,e.scryRenderedDOMElementsWithTag=B,e.scryRenderedVNodesWithType=P,e.scryVNodesWithType=j,e.findRenderedDOMElementWithClass=F,e.findRenderedDOMElementWithTag=J,e.findRenderedVNodeWithType=Y,e.findVNodeWithType=L,e.default=Z,Object.defineProperty(e,"__esModule",{value:!0})}));
