!(function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("inferno-create-element"),require("inferno-component"),require("inferno"),require("path-to-regexp")):"function"==typeof define&&define.amd?define(["exports","inferno-create-element","inferno-component","inferno","path-to-regexp"],e):e((t.Inferno=t.Inferno||{},t.Inferno.Router=t.Inferno.Router||{}),t.Inferno.createElement,t.Inferno.Component,t.Inferno)})(this,(function(t,e,n,r){"use strict";function o(t){return H(t)?t:t?[t]:t}function i(t){return"string"==typeof t}function p(t,e){var n={};if(t)for(var r in t)n[r]=t[r];if(e)for(var o in e)n[o]=e[o];return n}function u(t){return"string"!=typeof t?t:decodeURIComponent(t)}function c(t){return!t||!(H(t)?t:Object.keys(t)).length}function a(t){var e=[];return g(t,e),e}function s(t){return i(t)?t:t.pathname+t.search}function l(t){if(""===t)return{};for(var e=Object.create(null),n=t.split("&"),r=0,o=n.length;r<o;r++){var i=n[r].split("=").map(v).map(decodeURIComponent),p=i[0],u=i[1];e[p]?(e[p]=H(e[p])?e[p]:[e[p]],e[p].push(u)):e[p]=u}return e}function f(t,e){return 0===t.indexOf(e)?t.substr(e.length):t}function h(t,e){var n={};for(var r in t)e.indexOf(r)<0&&(n[r]=t[r]);return n}function d(t,e){var n=t.props||J,r=e.props||J;return y(r.path)-y(n.path)||(r.path&&n.path?r.path.length-n.path.length:0)}function v(t,e){return decodeURIComponent(0|e?t:t.replace("[]",""))}function m(t){return t.replace(/(^\/+|\/+$)/g,"")}function y(t){return void 0===t&&(t=""),(m(t).match(/\/+/g)||"").length}function g(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n];H(o)?g(o,e):e.push(o)}}function x(t){if(t.indexRoute&&!t.childRoutes)return e(D,t);var n={};for(var r in t)n[r]=t[r];if(n.children=[],n.indexRoute&&(n.children.push(B(n.indexRoute)),delete n.indexRoute),n.childRoutes){var o=H(n.childRoutes)?n.childRoutes:[n.childRoutes];(i=n.children).push.apply(i,Q(o)),delete n.childRoutes}return 1===n.children.length&&(n.children=n.children[0]),(H(n.children)&&0===n.children.length||!H(n.children)&&0===Object.keys(n.children).length)&&delete n.children,e(D,n);var i}function R(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]]);return n}function b(t,e,n){return r.createVNode(2,"a",t,e,n)}function C(t,e){var n,r=e.router,o=t.activeClassName,i=t.activeStyle,u=t.className,c=t.onClick,a=t.children,s=t.to,l=R(t,["activeClassName","activeStyle","className","onClick","children","to"]);return u&&(n=u),r?(l.href=V?r.createHref({pathname:s}):r.location.baseUrl?r.location.baseUrl+s:s,r.location.pathname===s&&(o&&(n=(u?u+" ":"")+o),i&&(l.style=p(t.style,i))),l.onclick=function(t){0!==t.button||t.ctrlKey||t.altKey||t.metaKey||t.shiftKey||(t.preventDefault(),"function"==typeof c&&c(t),r.push(s,t.target.textContent))},b(n,a,l)):(l.href=s,l.onClick=c,b(n,a,l))}function E(t){return t.to="/",r.createVNode(8,C,null,null,t)}function _(t,e){for(var n,r=[],o=0,i=0,p="",u=e&&e.delimiter||"/";null!=(n=it.exec(t));){var c=n[0],a=n[1],s=n.index;if(p+=t.slice(i,s),i=s+c.length,a)p+=a[1];else{var l=t[i],f=n[2],h=n[3],d=n[4],v=n[5],m=n[6],y=n[7];p&&(r.push(p),p="");var g=null!=f&&null!=l&&l!==f,x="+"===m||"*"===m,R="?"===m||"*"===m,b=n[2]||u,C=d||v;r.push({name:h||o++,prefix:f||"",delimiter:b,optional:R,repeat:x,partial:g,asterisk:!!y,pattern:C?U(C):y?".*":"[^"+I(b)+"]+?"})}}return i<t.length&&(p+=t.substr(i)),p&&r.push(p),r}function w(t,e){return j(_(t,e))}function O(t){return encodeURI(t).replace(/[\/?#]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}))}function k(t){return encodeURI(t).replace(/[?#]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}))}function j(t){for(var e=new Array(t.length),n=0;n<t.length;n++)"object"==typeof t[n]&&(e[n]=new RegExp("^(?:"+t[n].pattern+")$"));return function(n,r){for(var o="",i=n||{},p=(r||{}).pretty?O:encodeURIComponent,u=0;u<t.length;u++){var c=t[u];if("string"!=typeof c){var a,s=i[c.name];if(null==s){if(c.optional){c.partial&&(o+=c.prefix);continue}throw new TypeError('Expected "'+c.name+'" to be defined')}if(Z(s)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but received `'+JSON.stringify(s)+"`");if(0===s.length){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var l=0;l<s.length;l++){if(a=p(s[l]),!e[u].test(a))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'", but received `'+JSON.stringify(a)+"`");o+=(0===l?c.prefix:c.delimiter)+a}}else{if(a=c.asterisk?k(s):p(s),!e[u].test(a))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but received "'+a+'"');o+=c.prefix+a}}else o+=c}return o}}function I(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function U(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function T(t,e){return t.keys=e,t}function S(t){return t.sensitive?"":"i"}function N(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return T(t,e)}function A(t,e,n){for(var r=[],o=0;o<t.length;o++)r.push(P(t[o],e,n).source);return T(new RegExp("(?:"+r.join("|")+")",S(n)),e)}function $(t,e,n){return L(_(t,n),e,n)}function L(t,e,n){Z(e)||(n=e||n,e=[]);for(var r=(n=n||{}).strict,o=!1!==n.end,i="",p=0;p<t.length;p++){var u=t[p];if("string"==typeof u)i+=I(u);else{var c=I(u.prefix),a="(?:"+u.pattern+")";e.push(u),u.repeat&&(a+="(?:"+c+a+")*"),i+=a=u.optional?u.partial?c+"("+a+")?":"(?:"+c+"("+a+"))?":c+"("+a+")"}}var s=I(n.delimiter||"/"),l=i.slice(-s.length)===s;return r||(i=(l?i.slice(0,-s.length):i)+"(?:"+s+"(?=$))?"),i+=o?"$":r&&l?"":"(?="+s+"|$)",T(new RegExp("^"+i,S(n)),e)}function P(t,e,n){return Z(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?N(t,e):Z(t)?A(t,e,n):$(t,e,n)}function W(t,e){var n=s(e);return q(o(t),encodeURI(n),"/")}function q(t,e,n,r){void 0===e&&(e="/"),void 0===n&&(n="/"),void 0===r&&(r=!1);var i=H(t)?a(t):o(t),u=e.split("?"),s=u[0];void 0===s&&(s="/");var h=u[1];void 0===h&&(h="");var v=l(h);i.sort(d);for(var m=0,y=i.length;m<y;m++){var g=i[m],x=g.props||J,R=n+f(x.from||x.path||"/",n).replace(/\/\//g,"/"),b=F(c(x.children),R,s);if(b){var C=x.children;if(x.from&&(r=x.to),C){var E=q(C,e,R,r);if(E){if(E.redirect)return{location:R,redirect:E.redirect};var _=(C=E.matched).props.params;for(var w in _)v[w]=_[w]}else C=null}return{location:R,matched:M.cloneVNode(g,{children:C,params:p(v,b.params)}),redirect:r}}}}function F(t,e,n){var r=e+"|"+t,o=at.get(r);if(void 0===o){var i=[];o={pattern:ct(e,i,{end:t}),keys:i},at.set(r,o)}var p=o.pattern.exec(n);if(!p)return null;for(var c=p[0],a=Object.create(null),s=1,l=p.length;s<l;s+=1)a[o.keys[s-1].name]=u(p[s]);return{params:a,path:""===c?"/":c}}function K(t){if(!t)throw new TypeError('Inferno: Error "inferno-router" requires a history prop passed');return{createHref:t.createHref,listen:t.listen,push:t.push,replace:t.replace,isActive:function(t){return F(!0,t,this.url)},get location(){return"blank"!==t.location.pathname?t.location:{pathname:"/",search:""}},get url(){return this.location.pathname+this.location.search}}}e="default"in e?e.default:e,n="default"in n?n.default:n;var M="default"in r?r.default:r,V=!("undefined"==typeof window||!window.document),H=Array.isArray,J={},z=Promise.resolve(),D=(function(t){function n(e,n){var r=this;t.call(this,e,n),this._onComponentResolved=function(t,e){r.setState({asyncComponent:e})},this.state={asyncComponent:null}}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.componentWillMount=function(){var t=this,e=this.props.onEnter,n=this.context.router;e&&z.then((function(){e({props:t.props,router:n})}));var r=this.props.getComponent;r&&z.then((function(){r({props:t.props,router:n},t._onComponentResolved)}))},n.prototype.onLeave=function(t){void 0===t&&(t=!1);var e=this.props.onLeave,n=this.context.router;e&&t&&e({props:this.props,router:n})},n.prototype.onEnter=function(t){var e=t.onEnter,n=this.context.router;this.props.path!==t.path&&e&&e({props:t,router:n})},n.prototype.getComponent=function(t){var e=t.getComponent,n=this.context.router;this.props.path!==t.path&&e&&e({props:t,router:n},this._onComponentResolved)},n.prototype.componentWillUnmount=function(){this.onLeave(!0)},n.prototype.componentWillReceiveProps=function(t){this.getComponent(t),this.onEnter(t),this.onLeave(this.props.path!==t.path)},n.prototype.render=function(t){var n=t.component,r=t.children,o=h(t,["component","children","path","getComponent"]),i=this.state.asyncComponent,p=n||i;return p?e(p,o,r):H(r)?null:r},n})(n),B=function(t){return e(D,t)},G=function(t){return x(t)},Q=function(t){return t.map(G)},X=function(t){return t.map(x)},Y=(function(t){function e(e,n){t.call(this,e,n),e.path="/"}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e})(D),Z=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)},tt=P,et=_,nt=w,rt=j,ot=L,it=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");tt.parse=et,tt.compile=nt,tt.tokensToFunction=rt,tt.tokensToRegExp=ot;var pt=Object.freeze({default:tt,__moduleExports:tt,parse:et,compile:nt,tokensToFunction:rt,tokensToRegExp:ot}),ut=pt&&tt||pt,ct=(function(t,e){return e={exports:{}},t(e,e.exports),e.exports})((function(t){t.exports=ut,t.exports.parse=ut.parse,t.exports.compile=ut.compile,t.exports.tokensToFunction=ut.tokensToFunction,t.exports.tokensToRegExp=ut.tokensToRegExp,t.exports.default=t.exports})),at=new Map,st=(function(t){function e(e,n){t.call(this,e,n),e.to||(e.to="/")}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e})(D),lt=(function(t){function e(e,n){t.call(this,e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getChildContext=function(){return{router:this.props.router||{location:{baseUrl:this.props.baseUrl,pathname:this.props.location}}}},e.prototype.render=function(t){return t.matched},e})(n),ft=(function(t){function e(e,n){t.call(this,e,n),this.router=K(e.history),this.state={url:e.url||this.router.url}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.componentWillMount=function(){var t=this;this.router&&(this.unlisten=this.router.listen((function(){t.routeTo(t.router.url)})))},e.prototype.componentWillReceiveProps=function(t){var e=this;this.setState({url:t.url},this.props.onUpdate?function(){return e.props.onUpdate()}:void 0)},e.prototype.componentWillUnmount=function(){this.unlisten&&this.unlisten()},e.prototype.routeTo=function(t){var e=this;this.setState({url:t},this.props.onUpdate?function(){return e.props.onUpdate()}:void 0)},e.prototype.render=function(t){var e=this,n=W(t.children,this.state.url);return n.redirect?(setTimeout((function(){e.router.replace(n.redirect)}),0),null):r.createVNode(4,lt,null,null,{location:this.state.url,matched:n.matched,router:this.router})},e})(n),ht={IndexLink:E,IndexRedirect:st,IndexRoute:Y,Link:C,Redirect:st,Route:D,Router:ft,RouterContext:lt,createRoutes:X,match:W};t.IndexLink=E,t.IndexRedirect=st,t.IndexRoute=Y,t.Link=C,t.Redirect=st,t.Route=D,t.Router=ft,t.RouterContext=lt,t.createRoutes=X,t.match=W,t.default=ht,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjpudWxsLCJzb3VyY2VzIjpbbnVsbF0sInNvdXJjZXNDb250ZW50IjpbbnVsbF0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLENBQUMsQ0FBQSx1YkFBdWIsQ0FBQSxNQUFNLENBQUEsNG5HQUE0bkcsQ0FBQSxpRUFBaUUsQ0FBQSxvREFBb0QsQ0FBQSxpRUFBaUUsQ0FBQSxzakhBQXNqSCxDQUFBLHlXQUF5VyxDQUFBLHVDQUF1QyxDQUFBLDBDQUEwQyxDQUFBLDhEQUE4RCxDQUFBLHd4QkFBd3hCLENBQUEsNEhBQTRILENBQUEsd0pBQXdKLENBQUEsOGNBQThjLENBQUEsNkRBQTZELENBQUEsQ0FBQyxDQUFBLHFNQUFxTSxDQUFBLGdCQUFnQixDQUFBLDhKQUE4SixDQUFBLE9BQU8sQ0FBQSw2VUFBNlUsQ0FBQSxPQUFPLENBQUEsZ1RBQWdULENBQUEsbUNBQW1DLENBQUEscWRBQXFkLENBQUEsd0NBQXdDLENBQUEsMEdBQTBHLENBQUEseVVBQXlVLENBQUEifQ==
