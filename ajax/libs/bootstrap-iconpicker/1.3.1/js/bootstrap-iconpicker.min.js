/* ========================================================================
 * Bootstrap: bootstrap-iconpicker.js v1.0.1 by @recktoner
 * https://victor-valencia.github.com/bootstrap-iconpicker
 * ========================================================================
 * Copyright 2014 Victor Valencia Rico.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ======================================================================== */
+function(e){"use strict";var t=function(n,o){this.$element=e(n),this.options=e.extend({},t.DEFAULTS,this.$element.data()),this.options=e.extend({},this.options,o)};t.ICONSET={glyphicon:["adjust","align-center","align-justify","align-left","align-right","arrow-down","arrow-left","arrow-right","arrow-up","asterisk","backward","ban-circle","barcode","bell","bold","book","bookmark","briefcase","bullhorn","calendar","camera","certificate","check","chevron-down","chevron-left","chevron-right","chevron-up","circle-arrow-down","circle-arrow-left","circle-arrow-right","circle-arrow-up","cloud","cloud-download","cloud-upload","cog","collapse-down","collapse-up","comment","compressed","copyright-mark","credit-card","cutlery","dashboard","download","download-alt","earphone","edit","eject","envelope","euro","exclamation-sign","expand","export","eye-close","eye-open","facetime-video","fast-backward","fast-forward","file","film","filter","fire","flag","flash","floppy-disk","floppy-open","floppy-remove","floppy-save","floppy-saved","folder-close","folder-open","font","forward","fullscreen","gbp","gift","glass","globe","hand-down","hand-left","hand-right","hand-up","hd-video","hdd","header","headphones","heart","heart-empty","home","import","inbox","indent-left","indent-right","info-sign","italic","leaf","link","list","list-alt","lock","log-in","log-out","magnet","map-marker","minus","minus-sign","move","music","new-window","off","ok","ok-circle","ok-sign","open","paperclip","pause","pencil","phone","phone-alt","picture","plane","play","play-circle","plus","plus-sign","print","pushpin","qrcode","question-sign","random","record","refresh","registration-mark","remove","remove-circle","remove-sign","repeat","resize-full","resize-horizontal","resize-small","resize-vertical","retweet","road","save","saved","screenshot","sd-video","search","send","share","share-alt","shopping-cart","signal","sort","sort-by-alphabet","sort-by-alphabet-alt","sort-by-attributes","sort-by-attributes-alt","sort-by-order","sort-by-order-alt","sound-5-1","sound-6-1","sound-7-1","sound-dolby","sound-stereo","star","star-empty","stats","step-backward","step-forward","stop","subtitles","tag","tags","tasks","text-height","text-width","th","th-large","th-list","thumbs-down","thumbs-up","time","tint","tower","transfer","trash","tree-conifer","tree-deciduous","unchecked","upload","usd","user","volume-down","volume-off","volume-up","warning-sign","wrench","zoom-in","zoom-out"],fa:e.fontawesome||[]},t.DEFAULTS={iconset:"glyphicon",icon:"",rows:4,cols:4,placement:"right"},t.prototype.createButtonBar=function(){for(var t=this.options,n=e("<tr></tr>"),o=0;o<t.cols;o++){var a=e('<button class="btn btn-primary"><span class="glyphicon"></span></button>'),i=e('<td class="text-center"></td>');0==o||o==t.cols-1?(a.val(0==o?-1:1),a.addClass(0==o?"btn-previous":"btn-next"),a.find("span").addClass(0==o?"glyphicon-arrow-left":"glyphicon-arrow-right"),i.append(a),n.append(i)):0==n.find(".page-count").length&&(i.attr("colspan",t.cols-2).append('<span class="page-count"></span>'),n.append(i))}t.table.find("thead").append(n)},t.prototype.updateButtonBar=function(e){var t=this.options,n=Math.ceil(t.icons.length/(t.cols*t.rows));t.table.find(".page-count").html(e+" / "+n);var o=t.table.find(".btn-previous"),a=t.table.find(".btn-next");1==e?o.addClass("disabled"):o.removeClass("disabled"),e==n?a.addClass("disabled"):a.removeClass("disabled")},t.prototype.bindEvents=function(){var t=this.options,n=this;t.table.find(".btn-previous, .btn-next").off("click").on("click",function(){var o=parseInt(e(this).val());n.changeList(t.page+o)}),t.table.find(".btn-icon").off("click").on("click",function(){n.select(e(this).val()),n.$element.popover("destroy")})},t.prototype.select=function(t){var n=this.options,o=this.$element;n.selected=e.inArray(t.replace(n.iconClassFix,""),n.icons),-1==n.selected&&(n.selected=0,t=n.iconClassFix+n.icons[n.selected]),""!=t&&n.selected>=0&&(n.icon=t,o.find("input").val(t),o.find("i").attr("class","").addClass(n.iconClass).addClass(t),o.trigger({type:"change",icon:t}),n.table.find("button.btn-warning").removeClass("btn-warning"))},t.prototype.switchPage=function(t){var n=this.options;if(n.selected=e.inArray(t.replace(n.iconClassFix,""),n.icons),""!=t&&n.selected>=0){var o=Math.ceil((n.selected+1)/(n.cols*n.rows));this.changeList(o)}n.table.find("."+t).parent().addClass("btn-warning")},t.prototype.changeList=function(t){var n=this.options;this.updateButtonBar(t);for(var o=n.table.find("tbody").empty(),a=(t-1)*n.rows*n.cols,i=0;i<n.rows;i++){for(var s=e("<tr></tr>"),r=0;r<n.cols;r++){var c=a+i*n.cols+r,l=e('<button class="btn btn-default btn-icon"></button>').hide();if(c<n.icons.length){var p=n.iconClassFix+n.icons[c];l=e('<button class="btn btn-default btn-icon" value="'+p+'" title="'+p+'"><i class="'+n.iconClass+" "+p+'"></i></button>')}var d=e("<td></td>").append(l);s.append(d)}o.append(s)}n.page=t,this.bindEvents()},t.prototype.setIcon=function(e){this.select(e)};var n=e.fn.iconpicker;e.fn.iconpicker=function(n,o){return this.each(function(){var a=e(this),i=a.data("bs.iconpicker"),s="object"==typeof n&&n;if(i||a.data("bs.iconpicker",i=new t(this,s)),"string"==typeof n)i[n](o);else{var r=i.options,c="fontawesome"==r.iconset?"fa":"glyphicon";r=e.extend(r,{icons:t.ICONSET[c],iconClass:c,iconClassFix:c+"-",page:1,selected:-1,table:e('<table class="table-icons"><thead></thead><tbody></tbody></table>')});var l="undefined"!=typeof a.attr("name")?'name="'+a.attr("name")+'"':"";a.empty().append("<i></i>").append('<input type="hidden" '+l+"></input>").append('<span class="caret"></span>'),a.addClass("iconpicker"),i.createButtonBar(),i.changeList(1),a.on("click",function(e){e.preventDefault(),a.popover({animation:!1,trigger:"manual",html:!0,content:i.options.table,container:"body",placement:i.options.placement}).on("shown.bs.popover",function(){i.switchPage(r.icon),i.bindEvents()}),a.data("bs.popover").tip().addClass("iconpicker-popover"),a.popover("show")}),i.select(r.icon)}})},e.fn.iconpicker.Constructor=t,e.fn.iconpicker.noConflict=function(){return e.fn.iconpicker=n,this},e(document).on("click","body",function(t){e(".iconpicker").each(function(){e(this).is(t.target)||0!==e(this).has(t.target).length||0!==e(".popover").has(t.target).length||e(this).popover("destroy")})}),e('button[role="iconpicker"]').iconpicker()}(window.jQuery);
