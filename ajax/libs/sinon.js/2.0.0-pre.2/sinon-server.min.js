!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).sinon=e()}}(function(){var define,module,exports;return function e(t,r,n){function o(s,a){if(!r[s]){if(!t[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(i)return i(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=r[s]={exports:{}};t[s][0].call(l.exports,function(e){var r=t[s][1][e];return o(r||e)},l,l.exports,e,t,r,n)}return r[s].exports}for(var i="function"==typeof require&&require,s=0;s<n.length;s++)o(n[s]);return o}({1:[function(e,t,r){"use strict";t.exports=function(e){arguments.length>1&&(e=arguments);for(var t=1,r=e.length;t<r;t++)if(!e[t-1].calledBefore(e[t])||!e[t].called)return!1;return!0}},{}],2:[function(e,t,r){"use strict";var n=function(){};t.exports=function(e){return n.prototype=e,new n}},{}],3:[function(e,t,r){"use strict";function n(e){return e!==e}function o(e){var t=!1;try{e.appendChild(s),t=s.parentNode===e}catch(e){return!1}finally{try{e.removeChild(s)}catch(e){}}return t}function i(e){return s&&e&&1===e.nodeType&&o(e)}var s="undefined"!=typeof document&&document.createElement("div"),a=t.exports=function e(t,r){if("object"!=typeof t||"object"!=typeof r)return n(t)&&n(r)||t===r;if(i(t)||i(r))return t===r;if(t===r)return!0;if(null===t&&null!==r||null!==t&&null===r)return!1;if(t instanceof RegExp&&r instanceof RegExp)return t.source===r.source&&t.global===r.global&&t.ignoreCase===r.ignoreCase&&t.multiline===r.multiline;var o=Object.prototype.toString.call(t);if(o!==Object.prototype.toString.call(r))return!1;if("[object Date]"===o)return t.valueOf()===r.valueOf();var s,a=0,u=0;if("[object Array]"===o&&t.length!==r.length)return!1;for(s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(a+=1,!(s in r))return!1;if(!(arguments[2]||e)(t[s],r[s]))return!1}for(s in r)Object.prototype.hasOwnProperty.call(r,s)&&(u+=1);return a===u};a.use=function(e){return function t(r,n){return e.isMatcher(r)?r.test(n):a(r,n,t)}}},{}],4:[function(e,t,r){"use strict";t.exports={injectIntoThis:!0,injectInto:null,properties:["spy","stub","mock","clock","server","requests"],useFakeTimers:!0,useFakeServer:!0}},{}],5:[function(e,t,r){"use strict";var n=e("formatio").configure({quoteStrings:!1,limitChildrenCount:250});t.exports=function(){return n.ascii.apply(n,arguments)}},{formatio:22}],6:[function(e,t,r){"use strict";t.exports=function(e){var t,r=e.displayName||e.name;return!r&&(t=e.toString().match(/function ([^\s\(]+)/))&&(r=t[1]),r}},{}],7:[function(e,t,r){"use strict";t.exports=function(){var e,t,r;if(this.getCall&&this.callCount)for(e=this.callCount;e--;){r=this.getCall(e).thisValue;for(t in r)if(r[t]===this)return t}return this.displayName||"sinon fake"}},{}],8:[function(e,t,r){"use strict";var n=e("./default-config");t.exports=function(e){var t,r={};e=e||{};for(t in n)n.hasOwnProperty(t)&&(r[t]=e.hasOwnProperty(t)?e[t]:n[t]);return r}},{"./default-config":4}],9:[function(e,t,r){"use strict";t.exports=function(e,t){for(var r,n=e;n&&!(r=Object.getOwnPropertyDescriptor(n,t));)n=Object.getPrototypeOf(n);return r}},{}],10:[function(e,t,r){"use strict";r.wrapMethod=e("./wrap-method"),r.create=e("./create"),r.deepEqual=e("./deep-equal"),r.format=e("./format"),r.functionName=e("./function-name"),r.functionToString=e("./function-to-string"),r.objectKeys=e("./object-keys"),r.getPropertyDescriptor=e("./get-property-descriptor"),r.getConfig=e("./get-config"),r.defaultConfig=e("./default-config"),r.timesInWords=e("./times-in-words"),r.calledInOrder=e("./called-in-order"),r.orderByFirstCall=e("./order-by-first-call"),r.walk=e("./walk"),r.restore=e("./restore"),r.configureLogError=e("./log_error")},{"./called-in-order":1,"./create":2,"./deep-equal":3,"./default-config":4,"./format":5,"./function-name":6,"./function-to-string":7,"./get-config":8,"./get-property-descriptor":9,"./log_error":11,"./object-keys":12,"./order-by-first-call":13,"./restore":14,"./times-in-words":15,"./walk":17,"./wrap-method":18}],11:[function(e,t,r){"use strict";var n=setTimeout;t.exports=function(e){return(e=e||{}).hasOwnProperty("logger")||(e.logger=function(){}),e.hasOwnProperty("useImmediateExceptions")||(e.useImmediateExceptions=!0),e.hasOwnProperty("setTimeout")||(e.setTimeout=n),function(t,r){function n(){throw i.message=o+i.message,i}var o=t+" threw exception: ",i={name:r.name||t,message:r.message||r.toString(),stack:r.stack};e.logger(o+"["+i.name+"] "+i.message),i.stack&&e.logger(i.stack),e.useImmediateExceptions?n():e.setTimeout(n,0)}}},{}],12:[function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty;t.exports=function(e){if(e!==Object(e))throw new TypeError("sinon.objectKeys called on a non-object");var t,r=[];for(t in e)n.call(e,t)&&r.push(t);return r}},{}],13:[function(e,t,r){"use strict";t.exports=function(e){return e.sort(function(e,t){var r=e.getCall(0),n=t.getCall(0);return(r&&r.callId||-1)<(n&&n.callId||-1)?-1:1})}},{}],14:[function(e,t,r){"use strict";function n(e){return"function"==typeof e&&"function"==typeof e.restore&&e.restore.sinon}var o=e("./walk");t.exports=function(e){null!==e&&"object"==typeof e?o(e,function(t){n(e[t])&&e[t].restore()}):n(e)&&e.restore()}},{"./walk":17}],15:[function(e,t,r){"use strict";var n=[null,"once","twice","thrice"];t.exports=function(e){return n[e]||(e||0)+" times"}},{}],16:[function(e,t,r){"use strict";t.exports=function(e){return e&&e.toString?e.toString():String(e)}},{}],17:[function(e,t,r){"use strict";function n(e,t,r,o,i){var s,a;if("function"==typeof Object.getOwnPropertyNames)Object.getOwnPropertyNames(e).forEach(function(n){if(!i[n]){i[n]=!0;var s="function"==typeof Object.getOwnPropertyDescriptor(e,n).get?o:e;t.call(r,n,s)}}),(s=Object.getPrototypeOf(e))&&n(s,t,r,o,i);else for(a in e)t.call(r,e[a],a,e)}t.exports=function(e,t,r){return n(e,t,r,e,{})}},{}],18:[function(e,t,r){"use strict";function n(e){return"function"==typeof e||!!(e&&e.constructor&&e.call&&e.apply)}function o(e,t){for(var r in t)u.call(e,r)||(e[r]=t[r])}var i=e("./get-property-descriptor"),s=e("./object-keys"),a=e("./value-to-string"),u=Object.prototype.hasOwnProperty,c="keys"in Object;t.exports=function(e,t,r){function l(e){var r;if(n(e)){if(e.restore&&e.restore.sinon)r=new TypeError("Attempted to wrap "+a(t)+" which is already wrapped");else if(e.calledBefore){var o=e.returns?"stubbed":"spied on";r=new TypeError("Attempted to wrap "+a(t)+" which is already "+o)}}else r=new TypeError("Attempted to wrap "+typeof e+" property "+a(t)+" as function");if(r)throw e&&e.stackTrace&&(r.stack+="\n--------------\n"+e.stackTrace),r}if(!e)throw new TypeError("Should wrap property of object");if("function"!=typeof r&&"object"!=typeof r)throw new TypeError("Method wrapper should be a function or a property descriptor");var f,p,m,d=e.hasOwnProperty?e.hasOwnProperty(t):u.call(e,t);if(c){var h="function"==typeof r?{value:r}:r,g=i(e,t);if(g?g.restore&&g.restore.sinon&&(f=new TypeError("Attempted to wrap "+t+" which is already wrapped")):f=new TypeError("Attempted to wrap "+typeof p+" property "+t+" as function"),f)throw g&&g.stackTrace&&(f.stack+="\n--------------\n"+g.stackTrace),f;var y=s(h);for(m=0;m<y.length;m++)l(p=g[y[m]]);for(o(h,g),m=0;m<y.length;m++)o(h[y[m]],g[y[m]]);Object.defineProperty(e,t,h)}else l(p=e[t]),e[t]=r,r.displayName=t;return r.displayName=t,r.stackTrace=new Error("Stack Trace for original").stack,r.restore=function(){if(d)c&&Object.defineProperty(e,t,g);else try{delete e[t]}catch(e){}if(c){var n=i(e,t);n&&n.value===r&&(e[t]=p)}else e[t]===r&&(e[t]=p)},r.restore.sinon=!0,c||o(r,p),r}},{"./get-property-descriptor":9,"./object-keys":12,"./value-to-string":16}],19:[function(e,t,r){"use strict";function n(e){var t=e;if("[object Array]"!==Object.prototype.toString.call(e)&&(t=[200,{},e]),"string"!=typeof t[2])throw new TypeError("Fake server response body should be string, but was "+typeof t[2]);return t}function o(e,t,r){var n=e.method,o=!n||n.toLowerCase()===t.toLowerCase(),i=e.url,s=!i||i===r||"function"==typeof i.test&&i.test(r);return o&&s}function i(e,t){var r=t.url;if(/^https?:\/\//.test(r)&&!p.test(r)||(r=r.replace(p,"")),o(e,this.getHTTPMethod(t),r)){if("function"==typeof e.response){var n=e.url,i=[t].concat(n&&"function"==typeof n.exec?n.exec(r).slice(1):[]);return e.response.apply(e,i)}return!0}return!1}var s=[].push,a=e("./core"),u=e("./core/create"),c=e("./core/format"),l=e("./core/log_error"),f="undefined"!=typeof window?window.location:{host:"localhost",protocol:"http"},p=new RegExp("^"+f.protocol+"//"+f.host),m={create:function(e){var t=u(this);return t.configure(e),a.xhr.supportsCORS?this.xhr=a.useFakeXMLHttpRequest():this.xhr=a.useFakeXDomainRequest(),t.requests=[],this.xhr.onCreate=function(e){t.addRequest(e)},t},configure:function(e){var t,r={autoRespond:!0,autoRespondAfter:!0,respondImmediately:!0,fakeHTTPMethods:!0,logger:!0};e=e||{};for(t in e)r.hasOwnProperty(t)&&e.hasOwnProperty(t)&&(this[t]=e[t]);this.logError=l(e)},addRequest:function(e){var t=this;s.call(this.requests,e),e.onSend=function(){t.handleRequest(this),t.respondImmediately?t.respond():t.autoRespond&&!t.responding&&(setTimeout(function(){t.responding=!1,t.respond()},t.autoRespondAfter||10),t.responding=!0)}},getHTTPMethod:function(e){if(this.fakeHTTPMethods&&/post/i.test(e.method)){var t=(e.requestBody||"").match(/_method=([^\b;]+)/);return t?t[1]:e.method}return e.method},handleRequest:function(e){e.async?(this.queue||(this.queue=[]),s.call(this.queue,e)):this.processRequest(e)},logger:function(){},logError:l({}),log:function(e,t){var r;r="Request:\n"+c(t)+"\n\n",r+="Response:\n"+c(e)+"\n\n","function"==typeof this.logger&&this.logger(r)},respondWith:function(e,t,r){1!==arguments.length||"function"==typeof e?(this.responses||(this.responses=[]),1===arguments.length&&(r=e,t=e=null),2===arguments.length&&(r=t,t=e,e=null),s.call(this.responses,{method:e,url:t,response:"function"==typeof r?r:n(r)})):this.response=n(e)},respond:function(){arguments.length>0&&this.respondWith.apply(this,arguments);for(var e=this.queue||[],t=e.splice(0,e.length),r=0;r<t.length;r++)this.processRequest(t[r])},processRequest:function(e){try{if(e.aborted)return;var t=this.response||[404,{},""];if(this.responses)for(var r=this.responses.length-1;r>=0;r--)if(i.call(this,this.responses[r],e)){t=this.responses[r].response;break}4!==e.readyState&&(this.log(t,e),e.respond(t[0],t[1],t[2]))}catch(e){this.logError("Fake server request processing",e)}},restore:function(){return this.xhr.restore&&this.xhr.restore.apply(this.xhr,arguments)}};t.exports=m},{"./core":10,"./core/create":2,"./core/format":5,"./core/log_error":11}],20:[function(e,t,r){"use strict";function n(){}var o=e("./fake_server"),i=e("./fake_timers");n.prototype=o;var s=new n;s.addRequest=function(e){if(e.async&&("object"==typeof setTimeout.clock?this.clock=setTimeout.clock:(this.clock=i.useFakeTimers(),this.resetClock=!0),!this.longestTimeout)){var t=this.clock.setTimeout,r=this.clock.setInterval,n=this;this.clock.setTimeout=function(e,r){return n.longestTimeout=Math.max(r,n.longestTimeout||0),t.apply(this,arguments)},this.clock.setInterval=function(e,t){return n.longestTimeout=Math.max(t,n.longestTimeout||0),r.apply(this,arguments)}}return o.addRequest.call(this,e)},s.respond=function(){var e=o.respond.apply(this,arguments);return this.clock&&(this.clock.tick(this.longestTimeout||0),this.longestTimeout=0,this.resetClock&&(this.clock.restore(),this.resetClock=!1)),e},s.restore=function(){return this.clock&&this.clock.restore(),o.restore.apply(this,arguments)},t.exports=s},{"./fake_server":19,"./fake_timers":21}],21:[function(e,t,r){"use strict";var n=e("lolex");r.useFakeTimers=function(){var e,t=Array.prototype.slice.call(arguments);e="string"==typeof t[0]?0:t.shift();var r=n.install(e||0,t);return r.restore=r.uninstall,r},r.clock={create:function(e){return n.createClock(e)}},r.timers={setTimeout:setTimeout,clearTimeout:clearTimeout,setImmediate:"undefined"!=typeof setImmediate?setImmediate:void 0,clearImmediate:"undefined"!=typeof clearImmediate?clearImmediate:void 0,setInterval:setInterval,clearInterval:clearInterval,Date:Date}},{lolex:24}],22:[function(e,t,r){(function(r){("function"==typeof define&&define.amd&&function(e){define("formatio",["samsam"],e)}||"object"==typeof t&&function(r){t.exports=r(e("samsam"))}||function(e){this.formatio=e(this.samsam)})(function(e){"use strict";function t(e){if(!e)return"";if(e.displayName)return e.displayName;if(e.name)return e.name;var t=e.toString().match(/function\s+([^\(]+)/m);return t&&t[1]||""}function n(e,r){var n,o,i=t(r&&r.constructor),s=e.excludeConstructors||a.excludeConstructors||[];for(n=0,o=s.length;n<o;++n){if("string"==typeof s[n]&&s[n]===i)return"";if(s[n].test&&s[n].test(i))return""}return i}function o(e,t){if("object"!=typeof e)return!1;var r,n;for(r=0,n=t.length;r<n;++r)if(t[r]===e)return!0;return!1}function i(t,r,n,s){if("string"==typeof r){var a=t.quoteStrings,c="boolean"!=typeof a||a;return n||c?'"'+r+'"':r}if("function"==typeof r&&!(r instanceof RegExp))return i.func(r);if(n=n||[],o(r,n))return"[Circular]";if("[object Array]"===Object.prototype.toString.call(r))return i.array.call(t,r,n);if(!r)return String(1/r==-1/0?"-0":r);if(e.isElement(r))return i.element(r);if("function"==typeof r.toString&&r.toString!==Object.prototype.toString)return r.toString();var l,f;for(l=0,f=u.length;l<f;l++)if(r===u[l].object)return u[l].value;return i.object.call(t,r,n,s)}function s(e){for(var t in e)this[t]=e[t]}var a={excludeConstructors:["Object",/^.$/],quoteStrings:!0,limitChildrenCount:0},u=(Object.prototype.hasOwnProperty,[]);return void 0!==r&&u.push({object:r,value:"[object global]"}),"undefined"!=typeof document&&u.push({object:document,value:"[object HTMLDocument]"}),"undefined"!=typeof window&&u.push({object:window,value:"[object Window]"}),i.func=function(e){return"function "+t(e)+"() {}"},i.array=function(e,t){(t=t||[]).push(e);var r,n,o=[];for(n=this.limitChildrenCount>0?Math.min(this.limitChildrenCount,e.length):e.length,r=0;r<n;++r)o.push(i(this,e[r],t));return n<e.length&&o.push("[... "+(e.length-n)+" more elements]"),"["+o.join(", ")+"]"},i.object=function(t,r,s){(r=r||[]).push(t),s=s||0;var a,u,c,l,f,p,m=[],d=e.keys(t).sort(),h=3;for(p=this.limitChildrenCount>0?Math.min(this.limitChildrenCount,d.length):d.length,l=0;l<p;++l)u=o(c=t[a=d[l]],r)?"[Circular]":i(this,c,r,s+2),h+=(u=(/\s/.test(a)?'"'+a+'"':a)+": "+u).length,m.push(u);var g=n(this,t),y=g?"["+g+"] ":"",v="";for(l=0,f=s;l<f;++l)v+=" ";return p<d.length&&m.push("[... "+(d.length-p)+" more elements]"),h+s>80?y+"{\n  "+v+m.join(",\n  "+v)+"\n"+v+"}":y+"{ "+m.join(", ")+" }"},i.element=function(e){var t,r,n,o,i,s=e.tagName.toLowerCase(),a=e.attributes,u=[];for(n=0,o=a.length;n<o;++n)r=(t=a.item(n)).nodeName.toLowerCase().replace("html:",""),i=t.nodeValue,"contenteditable"===r&&"inherit"===i||i&&u.push(r+'="'+i+'"');var c="<"+s+(u.length>0?" ":""),l=e.innerHTML;return l.length>20&&(l=l.substr(0,20)+"[...]"),(c+u.join(" ")+">"+l+"</"+s+">").replace(/ contentEditable="inherit"/,"")},s.prototype={functionName:t,configure:function(e){return new s(e)},constructorName:function(e){return n(this,e)},ascii:function(e,t,r){return i(this,e,t,r)}}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{samsam:23}],23:[function(e,t,r){("function"==typeof define&&define.amd&&function(e){define("samsam",e)}||"object"==typeof t&&function(e){t.exports=e()}||function(e){this.samsam=e()})(function(){function e(e){var t=e;return"number"==typeof e&&e!==t}function t(e){return l.toString.call(e).split(/[ \]]/)[1]}function r(e){if("Arguments"===t(e))return!0;if("object"!=typeof e||"number"!=typeof e.length||"Array"===t(e))return!1;if("function"==typeof e.callee)return!0;try{e[e.length]=6,delete e[e.length]}catch(e){return!0}return!1}function n(e){if(!e||1!==e.nodeType||!f)return!1;try{e.appendChild(f),e.removeChild(f)}catch(e){return!1}return!0}function o(e){var t,r=[];for(t in e)l.hasOwnProperty.call(e,t)&&r.push(t);return r}function i(e){return"function"==typeof e.getTime&&e.getTime()==e.valueOf()}function s(e){return 0===e&&1/e==-1/0}function a(t,r){if(t===r||e(t)&&e(r))return 0!==t||s(t)===s(r)}function u(e,t){if(0===t.length)return!0;var r,n,o,i;for(r=0,n=e.length;r<n;++r)if(c(e[r],t[0])){for(o=0,i=t.length;o<i;++o)if(!c(e[r+o],t[o]))return!1;return!0}return!1}var c,l=Object.prototype,f="undefined"!=typeof document&&document.createElement("div");return c=function e(r,n){if(n&&"function"==typeof n.test)return n.test(r);if("function"==typeof n)return!0===n(r);if("string"==typeof n)return n=n.toLowerCase(),("string"==typeof r||!!r)&&String(r).toLowerCase().indexOf(n)>=0;if("number"==typeof n)return n===r;if("boolean"==typeof n)return n===r;if(void 0===n)return void 0===r;if(null===n)return null===r;if("Array"===t(r)&&"Array"===t(n))return u(r,n);if(n&&"object"==typeof n){if(n===r)return!0;var o;for(o in n){var i=r[o];if(void 0===i&&"function"==typeof r.getAttribute&&(i=r.getAttribute(o)),null===n[o]||void 0===n[o]){if(i!==n[o])return!1}else if(void 0===i||!e(i,n[o]))return!1}return!0}throw new Error("Matcher was not a string, a number, a function, a boolean or an object")},{isArguments:r,isElement:n,isDate:i,isNegZero:s,identical:a,deepEqual:function(s,u){function c(e){return!("object"!=typeof e||null===e||e instanceof Boolean||e instanceof Date||e instanceof Number||e instanceof RegExp||e instanceof String)}function f(e,t){var r;for(r=0;r<e.length;r++)if(e[r]===t)return r;return-1}var p=[],m=[],d=[],h=[],g={};return function s(u,y,v,w){var b=typeof u,T=typeof y;if(u===y||e(u)||e(y)||null==u||null==y||"object"!==b||"object"!==T)return a(u,y);if(n(u)||n(y))return!1;var k=i(u),O=i(y);if((k||O)&&(!k||!O||u.getTime()!==y.getTime()))return!1;if(u instanceof RegExp&&y instanceof RegExp&&u.toString()!==y.toString())return!1;var j=t(u),x=t(y),I=o(u),C=o(y);if(r(u)||r(y)){if(u.length!==y.length)return!1}else if(b!==T||j!==x||I.length!==C.length)return!1;var P,A,E,S,N,q,D,R,M,L,_;for(A=0,E=I.length;A<E;A++){if(P=I[A],!l.hasOwnProperty.call(y,P))return!1;if(S=u[P],N=y[P],q=c(S),D=c(N),R=q?f(p,S):-1,M=D?f(m,N):-1,L=-1!==R?d[R]:v+"["+JSON.stringify(P)+"]",_=-1!==M?h[M]:w+"["+JSON.stringify(P)+"]",g[L+_])return!0;if(-1===R&&q&&(p.push(S),d.push(L)),-1===M&&D&&(m.push(N),h.push(_)),q&&D&&(g[L+_]=!0),!s(S,N,L,_))return!1}return!0}(s,u,"$1","$2")},match:c,keys:o}})},{}],24:[function(require,module,exports){(function(global){!function(global){"use strict";function parseTime(e){if(!e)return 0;var t,r=e.split(":"),n=r.length,o=n,i=0;if(n>3||!/^(\d\d:){0,2}\d\d?$/.test(e))throw new Error("tick only understands numbers, 'm:s' and 'h:m:s'. Each part must be two digits");for(;o--;){if((t=parseInt(r[o],10))>=60)throw new Error("Invalid time "+e);i+=t*Math.pow(60,n-o-1)}return 1e3*i}function fixedFloor(e){return e>=0?Math.floor(e):Math.ceil(e)}function fixedModulo(e,t){return(e%t+t)%t}function getEpoch(e){if(!e)return 0;if("function"==typeof e.getTime)return e.getTime();if("number"==typeof e)return e;throw new TypeError("now should be milliseconds since UNIX epoch")}function inRange(e,t,r){return r&&r.callAt>=e&&r.callAt<=t}function mirrorDateProperties(e,t){var r;for(r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return t.now?e.now=function(){return e.clock.now}:delete e.now,t.toSource?e.toSource=function(){return t.toSource()}:delete e.toSource,e.toString=function(){return t.toString()},e.prototype=t.prototype,e.parse=t.parse,e.UTC=t.UTC,e.prototype.toUTCString=t.prototype.toUTCString,e}function createDate(){function e(t,r,n,o,i,s,a){switch(arguments.length){case 0:return new NativeDate(e.clock.now);case 1:return new NativeDate(t);case 2:return new NativeDate(t,r);case 3:return new NativeDate(t,r,n);case 4:return new NativeDate(t,r,n,o);case 5:return new NativeDate(t,r,n,o,i);case 6:return new NativeDate(t,r,n,o,i,s);default:return new NativeDate(t,r,n,o,i,s,a)}}return mirrorDateProperties(e,NativeDate)}function addTimer(e,t){if(void 0===t.func)throw new Error("Callback must be provided to timer calls");return e.timers||(e.timers={}),t.id=uniqueTimerId++,t.createdAt=e.now,t.callAt=e.now+(t.delay||(e.duringTick?1:0)),e.timers[t.id]=t,addTimerReturnsObject?{id:t.id,ref:NOOP,unref:NOOP}:t.id}function compareTimers(e,t){return e.callAt<t.callAt?-1:e.callAt>t.callAt?1:e.immediate&&!t.immediate?-1:!e.immediate&&t.immediate?1:e.createdAt<t.createdAt?-1:e.createdAt>t.createdAt?1:e.id<t.id?-1:e.id>t.id?1:void 0}function firstTimerInRange(e,t,r){var n,o=e.timers,i=null;for(n in o)o.hasOwnProperty(n)&&(!inRange(t,r,o[n])||i&&1!==compareTimers(i,o[n])||(i=o[n]));return i}function firstTimer(e){var t,r=e.timers,n=null;for(t in r)r.hasOwnProperty(t)&&(n&&1!==compareTimers(n,r[t])||(n=r[t]));return n}function lastTimer(e){var t,r=e.timers,n=null;for(t in r)r.hasOwnProperty(t)&&(n&&-1!==compareTimers(n,r[t])||(n=r[t]));return n}function callTimer(clock,timer){var exception;"number"==typeof timer.interval?clock.timers[timer.id].callAt+=timer.interval:delete clock.timers[timer.id];try{"function"==typeof timer.func?timer.func.apply(null,timer.args):eval(timer.func)}catch(e){exception=e}if(clock.timers[timer.id]){if(exception)throw exception}else if(exception)throw exception}function timerType(e){return e.immediate?"Immediate":void 0!==e.interval?"Interval":"Timeout"}function clearTimer(e,t,r){if(t&&(e.timers||(e.timers=[]),"object"==typeof t&&(t=t.id),e.timers.hasOwnProperty(t))){var n=e.timers[t];if(timerType(n)!==r)throw new Error("Cannot clear timer: timer created with set"+r+"() but cleared with clear"+timerType(n)+"()");delete e.timers[t]}}function uninstall(e,t){var r,n,o;for(n=0,o=e.methods.length;n<o;n++)if("hrtime"===(r=e.methods[n]))t.process.hrtime=e._hrtime;else if(t[r].hadOwnProperty)t[r]=e["_"+r];else try{delete t[r]}catch(e){}e.methods=[]}function hijackMethod(e,t,r){var n;if(r[t].hadOwnProperty=Object.prototype.hasOwnProperty.call(e,t),r["_"+t]=e[t],"Date"===t){var o=mirrorDateProperties(r[t],e[t]);e[t]=o}else{e[t]=function(){return r[t].apply(r,arguments)};for(n in r[t])r[t].hasOwnProperty(n)&&(e[t][n]=r[t][n])}e[t].clock=r}function createClock(e,t){t=t||1e3;var r={now:getEpoch(e),hrNow:0,timeouts:{},Date:createDate(),loopLimit:t};return r.Date.clock=r,r.setTimeout=function(e,t){return addTimer(r,{func:e,args:Array.prototype.slice.call(arguments,2),delay:t})},r.clearTimeout=function(e){return clearTimer(r,e,"Timeout")},r.setInterval=function(e,t){return addTimer(r,{func:e,args:Array.prototype.slice.call(arguments,2),delay:t,interval:t})},r.clearInterval=function(e){return clearTimer(r,e,"Interval")},r.setImmediate=function(e){return addTimer(r,{func:e,args:Array.prototype.slice.call(arguments,1),immediate:!0})},r.clearImmediate=function(e){return clearTimer(r,e,"Immediate")},r.tick=function(e){function t(e){r.hrNow+=e-r.now}e="number"==typeof e?e:parseTime(e);var n,o=r.now,i=r.now+e,s=r.now,a=firstTimerInRange(r,o,i);r.duringTick=!0;for(var u;a&&o<=i;){if(r.timers[a.id]){t(a.callAt),o=a.callAt,r.now=a.callAt;try{n=r.now,callTimer(r,a),n!==r.now&&(o+=r.now-n,i+=r.now-n,s+=r.now-n)}catch(e){u=u||e}}a=firstTimerInRange(r,s,i),s=o}if(r.duringTick=!1,t(i),r.now=i,u)throw u;return r.now},r.next=function(){var e=firstTimer(r);if(!e)return r.now;r.duringTick=!0;try{return r.now=e.callAt,callTimer(r,e),r.now}finally{r.duringTick=!1}},r.runAll=function(){var e;for(e=0;e<r.loopLimit;e++){if(0===Object.keys(r.timers).length)return r.now;r.next()}throw new Error("Aborting after running "+r.loopLimit+"timers, assuming an infinite loop!")},r.runToLast=function(){var e=lastTimer(r);return e?r.tick(e.callAt):r.now},r.reset=function(){r.timers={}},r.setSystemTime=function(e){var t,n,o=getEpoch(e),i=o-r.now;r.now=o;for(t in r.timers)r.timers.hasOwnProperty(t)&&((n=r.timers[t]).createdAt+=i,n.callAt+=i)},hrtimePresent&&(r.hrtime=function(e){if(Array.isArray(e)){var t=e[0]+e[1]/1e9,n=r.hrNow/1e3-t;return[fixedFloor(n),fixedModulo(1e9*n,1e9)]}return[fixedFloor(r.hrNow/1e3),fixedModulo(1e6*r.hrNow,1e9)]}),r}var glbl=global;global.setTimeout=glbl.setTimeout,global.clearTimeout=glbl.clearTimeout,global.setInterval=glbl.setInterval,global.clearInterval=glbl.clearInterval,global.Date=glbl.Date,void 0!==global.setImmediate&&(global.setImmediate=glbl.setImmediate,global.clearImmediate=glbl.clearImmediate);var NOOP=function(){},timeoutResult=setTimeout(NOOP,0),addTimerReturnsObject="object"==typeof timeoutResult,hrtimePresent=global.process&&"function"==typeof global.process.hrtime;clearTimeout(timeoutResult);var NativeDate=Date,uniqueTimerId=1,timers={setTimeout:setTimeout,clearTimeout:clearTimeout,setImmediate:global.setImmediate,clearImmediate:global.clearImmediate,setInterval:setInterval,clearInterval:clearInterval,Date:Date};hrtimePresent&&(timers.hrtime=global.process.hrtime);var keys=Object.keys||function(e){var t,r=[];for(t in e)e.hasOwnProperty(t)&&r.push(t);return r};exports.timers=timers,exports.createClock=createClock,exports.install=function(e,t,r,n){var o,i;"number"==typeof e&&(r=t,t=e,e=null),e||(e=global);var s=createClock(t,n);for(s.uninstall=function(){uninstall(s,e)},s.methods=r||[],0===s.methods.length&&(s.methods=keys(timers)),o=0,i=s.methods.length;o<i;o++)"hrtime"===s.methods[o]?e.process&&"function"==typeof e.process.hrtime&&hijackMethod(e.process,s.methods[o],s):hijackMethod(e,s.methods[o],s);return s}}(global||this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[20])(20)});