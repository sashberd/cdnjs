{"version":3,"file":"Tween.min.js","sources":["../src/shim.js","../src/dist/core.js","../src/dist/Easing.js","../node_modules/intertween/index.js","../src/dist/NodeCache.js","../src/dist/Event.js","../src/dist/Tween.js","../src/dist/PlaybackPosition.js","../src/dist/Timeline.js"],"sourcesContent":["/* global global */\r\nexport let root = typeof (window) !== 'undefined' ? window : typeof (global) !== 'undefined' ? global : this\r\n\r\nif (!Object.assign) {\r\n  Object.assign = (source, ...args) => {\r\n    for (let i = 0, len = args.length; i < len; i++) {\r\n      let arg = args[i]\r\n      for (let p in arg) {\r\n        source[p] = arg[p]\r\n      }\r\n    }\r\n    return source\r\n  }\r\n}\r\nif (!Object.create) {\r\n  Object.create = source => {\r\n    return Object.assign({}, source || {})\r\n  }\r\n}\r\nif (!Array.isArray) {\r\n  Array.isArray = source => source && source.push && source.splice\r\n}\r\nif (typeof (requestAnimationFrame) === 'undefined') {\r\n  root.requestAnimationFrame = fn => root.setTimeout(fn, 16)\r\n}\r\nif (typeof (cancelAnimationFrame) === 'undefined') {\r\n  root.cancelAnimationFrame = id => root.clearTimeout(id)\r\n}\n","/* global process */\nimport { root } from '../shim'\n\nlet _tweens = []\nlet isStarted = false\nlet _autoPlay = false\nlet _tick\nconst _ticker = root.requestAnimationFrame\nconst _stopTicker = root.cancelAnimationFrame\n\nconst add = tween => {\n  _tweens.push(tween)\n\n  if (_autoPlay && !isStarted) {\n    _tick = _ticker(update)\n    isStarted = true\n  }\n}\n\nconst getAll = () => _tweens\n\nconst autoPlay = (state) => {\n  _autoPlay = state\n}\n\nconst removeAll = () => {\n  _tweens.length = 0\n}\n\nconst get = tween => {\n  for (let i = 0; i < _tweens.length; i++) {\n    if (tween === _tweens[i]) {\n      return _tweens[i]\n    }\n  }\n\n  return null\n}\n\nconst has = tween => {\n  return get(tween) !== null\n}\n\nconst remove = tween => {\n  let i = _tweens.indexOf(tween)\n  if (i !== -1) {\n    _tweens.splice(i, 1)\n  }\n}\n\nlet now = (function () {\n  if (typeof (process) !== 'undefined' && process.hrtime !== undefined) {\n    return function () {\n      let time = process.hrtime()\n\n      // Convert [seconds, nanoseconds] to milliseconds.\n      return time[0] * 1000 + time[1] / 1000000\n    }\n  // In a browser, use window.performance.now if it is available.\n  } else if (root.performance !== undefined &&\n   root.performance.now !== undefined) {\n    // This must be bound, because directly assigning this function\n    // leads to an invocation exception in Chrome.\n    return root.performance.now.bind(root.performance)\n  // Use Date.now if it is available.\n  } else {\n    let offset = root.performance && root.performance.timing && root.performance.timing.navigationStart ? root.performance.timing.navigationStart : Date.now()\n    return function () {\n      return Date.now() - offset\n    }\n  }\n}())\n\nconst update = (time, preserve) => {\n  time = time !== undefined ? time : now()\n\n  _tick = _ticker(update)\n\n  if (_tweens.length === 0) {\n    _stopTicker(_tick)\n    isStarted = false\n    return false\n  }\n\n  let i = 0\n  while (i < _tweens.length) {\n    _tweens[i].update(time, preserve)\n    i++\n  }\n\n  return true\n}\n\nconst isRunning = () => isStarted\n\nconst Plugins = {}\n\n// Normalise time when visiblity is changed (if available) ...\nif (root.document && root.document.addEventListener) {\n  let doc = root.document\n  let timeDiff = 0\n  let timePause = 0\n  doc.addEventListener('visibilitychange', () => {\n    if (document.hidden) {\n      timePause = now()\n      _stopTicker(_tick)\n      isStarted = false\n    } else {\n      timeDiff = now() - timePause\n\n      for (let i = 0, length = _tweens.length; i < length; i++) {\n        _tweens[i]._startTime += timeDiff\n      }\n      _tick = _ticker(update)\n      isStarted = true\n    }\n\n    return true\n  })\n}\n\nexport { Plugins, get, has, getAll, removeAll, remove, add, now, update, autoPlay, isRunning }\n","const Easing = {\n\n  Linear: {\n\n    None (k) {\n      return k\n    }\n\n  },\n\n  Quadratic: {\n\n    In (k) {\n      return k * k\n    },\n\n    Out (k) {\n      return k * (2 - k)\n    },\n\n    InOut (k) {\n      if ((k *= 2) < 1) {\n        return 0.5 * k * k\n      }\n\n      return -0.5 * (--k * (k - 2) - 1)\n    }\n\n  },\n\n  Cubic: {\n\n    In (k) {\n      return k * k * k\n    },\n\n    Out (k) {\n      return --k * k * k + 1\n    },\n\n    InOut (k) {\n      if ((k *= 2) < 1) {\n        return 0.5 * k * k * k\n      }\n\n      return 0.5 * ((k -= 2) * k * k + 2)\n    }\n\n  },\n\n  Quartic: {\n\n    In (k) {\n      return k * k * k * k\n    },\n\n    Out (k) {\n      return 1 - (--k * k * k * k)\n    },\n\n    InOut (k) {\n      if ((k *= 2) < 1) {\n        return 0.5 * k * k * k * k\n      }\n\n      return -0.5 * ((k -= 2) * k * k * k - 2)\n    }\n\n  },\n\n  Quintic: {\n\n    In (k) {\n      return k * k * k * k * k\n    },\n\n    Out (k) {\n      return --k * k * k * k * k + 1\n    },\n\n    InOut (k) {\n      if ((k *= 2) < 1) {\n        return 0.5 * k * k * k * k * k\n      }\n\n      return 0.5 * ((k -= 2) * k * k * k * k + 2)\n    }\n\n  },\n\n  Sinusoidal: {\n\n    In (k) {\n      return 1 - Math.cos(k * Math.PI / 2)\n    },\n\n    Out (k) {\n      return Math.sin(k * Math.PI / 2)\n    },\n\n    InOut (k) {\n      return 0.5 * (1 - Math.cos(Math.PI * k))\n    }\n\n  },\n\n  Exponential: {\n\n    In (k) {\n      return k === 0 ? 0 : Math.pow(1024, k - 1)\n    },\n\n    Out (k) {\n      return k === 1 ? 1 : 1 - Math.pow(2, -10 * k)\n    },\n\n    InOut (k) {\n      if (k === 0) {\n        return 0\n      }\n\n      if (k === 1) {\n        return 1\n      }\n\n      if ((k *= 2) < 1) {\n        return 0.5 * Math.pow(1024, k - 1)\n      }\n\n      return 0.5 * (-Math.pow(2, -10 * (k - 1)) + 2)\n    }\n\n  },\n\n  Circular: {\n\n    In (k) {\n      return 1 - Math.sqrt(1 - k * k)\n    },\n\n    Out (k) {\n      return Math.sqrt(1 - (--k * k))\n    },\n\n    InOut (k) {\n      if ((k *= 2) < 1) {\n        return -0.5 * (Math.sqrt(1 - k * k) - 1)\n      }\n\n      return 0.5 * (Math.sqrt(1 - (k -= 2) * k) + 1)\n    }\n\n  },\n\n  Elastic: {\n\n    In (k) {\n      if (k === 0) {\n        return 0\n      }\n\n      if (k === 1) {\n        return 1\n      }\n\n      return -Math.pow(2, 10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI)\n    },\n\n    Out (k) {\n      if (k === 0) {\n        return 0\n      }\n\n      if (k === 1) {\n        return 1\n      }\n\n      return Math.pow(2, -10 * k) * Math.sin((k - 0.1) * 5 * Math.PI) + 1\n    },\n\n    InOut (k) {\n      if (k === 0) {\n        return 0\n      }\n\n      if (k === 1) {\n        return 1\n      }\n\n      k *= 2\n\n      if (k < 1) {\n        return -0.5 * Math.pow(2, 10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI)\n      }\n\n      return 0.5 * Math.pow(2, -10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI) + 1\n    }\n\n  },\n\n  Back: {\n\n    In (k) {\n      let s = 1.70158\n\n      return k * k * ((s + 1) * k - s)\n    },\n\n    Out (k) {\n      let s = 1.70158\n\n      return --k * k * ((s + 1) * k + s) + 1\n    },\n\n    InOut (k) {\n      let s = 1.70158 * 1.525\n\n      if ((k *= 2) < 1) {\n        return 0.5 * (k * k * ((s + 1) * k - s))\n      }\n\n      return 0.5 * ((k -= 2) * k * ((s + 1) * k + s) + 2)\n    }\n\n  },\n\n  Bounce: {\n\n    In (k) {\n      return 1 - Easing.Bounce.Out(1 - k)\n    },\n\n    Out (k) {\n      if (k < (1 / 2.75)) {\n        return 7.5625 * k * k\n      } else if (k < (2 / 2.75)) {\n        return 7.5625 * (k -= (1.5 / 2.75)) * k + 0.75\n      } else if (k < (2.5 / 2.75)) {\n        return 7.5625 * (k -= (2.25 / 2.75)) * k + 0.9375\n      } else {\n        return 7.5625 * (k -= (2.625 / 2.75)) * k + 0.984375\n      }\n    },\n\n    InOut (k) {\n      if (k < 0.5) {\n        return Easing.Bounce.In(k * 2) * 0.5\n      }\n\n      return Easing.Bounce.Out(k * 2 - 1) * 0.5 + 0.5\n    }\n\n  }\n\n}\n\nexport default Easing\n","/**\r\n * @name InterTween\r\n * @description The lightweight, fastest, smartest, effecient value interpolator with no-dependecy, zero-configuration and relative interpolation\r\n * @author dalisoft (https://github.com/dalisoft)\r\n * @license MIT-License\r\n * First Release at 20 August 2017, by @dalisoft\r\n */\r\n\r\n(function (root, factory) {\r\n    if (typeof define === 'function' && define.amd) {\r\n        define([], factory);\r\n    } else if (typeof module !== 'undefined' && module.exports) {\r\n        module.exports = factory();\r\n    } else {\r\n        root.InterTween = factory();\r\n    }\r\n}\r\n    (typeof(window) !== 'undefined' ? window : this, function () {\r\n\r\n        // RegExp variables\r\n        var colorMatch = /rgb/g;\r\n        var isIncrementReqForColor = /argb/g;\r\n        // This RegExp (numRegExp) is original from @jkroso string tweening and optimized by @dalisoft\r\n        var numRegExp =\r\n                /\\s+|([A-Za-z?().,{}:\"\"[\\]#]+)|([-+/*%]+=)?([-+*/%]+)?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g;\r\n        var hexColor = /^#([0-9a-f]{6}|[0-9a-f]{3})$/i;\r\n        var trimRegExp = /\\n|\\r|\\t/g;\r\n        var rgbMax = 255;\r\n\r\n        // Helpers\r\n        function s2f(val) {\r\n            var floatedVal = parseFloat(val);\r\n            return typeof floatedVal === \"number\" && !isNaN(floatedVal) ? floatedVal : val;\r\n        }\r\n        var isArray = Array.isArray;\r\n\r\n        function h2r_f(all, hex) {\r\n            var r;\r\n            var g;\r\n            var b;\r\n            if (hex.length === 3) {\r\n                r = hex[0];\r\n                g = hex[1];\r\n                b = hex[2];\r\n                hex = r + r + g + g + b + b;\r\n            }\r\n            var color = parseInt(hex, 16);\r\n            r = color >> 16 & rgbMax;\r\n            g = color >> 8 & rgbMax;\r\n            b = color & rgbMax;\r\n            return \"rgb(\" + r + \",\" + g + \",\" + b + \")\";\r\n        };\r\n\r\n        function trim(str) {\r\n            return typeof str === \"string\" ? str.replace(trimRegExp, \"\") : str;\r\n        };\r\n        var relativeModes = {\r\n            '+=': 1,\r\n            '-=': 1,\r\n            '*=': 2,\r\n            '/=': 3,\r\n            '%=': 4\r\n        };\r\n\r\n        function r2n(s, e) {\r\n            if (typeof e === 'number') {\r\n                return e;\r\n            } else {\r\n                var rv = relativeModes[e.substr(0, 2)],\r\n                v = e.substr(2);\r\n                if (rv === 1) {\r\n                    var e2 = e[0] + v;\r\n                    return s + parseFloat(e2);\r\n                } else if (rv === 2) {\r\n                    return s * +v;\r\n                } else if (rv === 3) {\r\n                    return s / +v;\r\n                } else if (rv === 4) {\r\n                    return s * (+v / 100);\r\n                }\r\n            }\r\n            return e;\r\n        }\r\n\r\n        var h2r = function (hex) {\r\n            return typeof hex !== 'string' ? hex : trim(hex)\r\n            .replace(hexColor, h2r_f);\r\n        }\r\n\r\n        function s2n(str) {\r\n            return h2r(str).match(numRegExp).map(s2f);\r\n        }\r\n\r\n        // Splitted functions\r\n        function stringTween(s, e, d) {\r\n            d = d !== undefined ? d : 10000;\r\n            if (!numRegExp.test(e))\r\n                return e;\r\n            var sv = s2n(s);\r\n            var ev = s2n(e);\r\n            var uv = unitTween(sv, ev, d);\r\n            if (uv) {\r\n                return uv;\r\n            }\r\n            uv = null;\r\n            var cm = null;\r\n            var cmls = null;\r\n            var rv = [];\r\n            for (var i = 0, len = ev.length; i < len; i++) {\r\n                var ve = ev[i],\r\n                vs = sv[i];\r\n                rv[i] = typeof ve === 'string' && ve.indexOf('=') === 1 ? e : null;\r\n                if (isIncrementReqForColor.test(ve)) {\r\n                    cm = i + 2;\r\n                    cmls = i + 11;\r\n                } else if (colorMatch.test(ve)) {\r\n                    cm = i;\r\n                    cmls = i + 9;\r\n                }\r\n                ev[i] = vs === ve ? null : rv[i] !== null ? r2n(vs, ve) : typeof ve === 'number' ? ve - vs : ve;\r\n            }\r\n            return function (t) {\r\n                var str = '';\r\n                for (var i = 0, len = ev.length; i < len; i++) {\r\n                    var a = sv[i],\r\n                    b = ev[i],\r\n                    r = rv[i];\r\n                    str += typeof b === 'number' ? cm !== null && i > cm &&\r\n                    i < cmls ? (a + b * t) | 0 : (((a + b * t) * d) |\r\n                        0) / d : a;\r\n                    if (t === 1 && r !== null) {\r\n                        sv[i] += b;\r\n                        ev[i] = r2n(sv[i], r);\r\n                    }\r\n                }\r\n                return str;\r\n            }\r\n        }\r\n\r\n        function tweenThemTo(sv, ev) {\r\n            var vs = [];\r\n            for (var i = 0, len = sv.length; i < len; i++) {\r\n                var s = sv[i];\r\n                vs[i] = isArray(s) ? arrayTween(s, ev) : typeof s === 'object' ? objectTween(s, ev) : typeof s === 'string' ? stringTween(s, ev) : s;\r\n            }\r\n            return function (t) {\r\n                for (var i = 0, len = vs.length; i < len; i++) {\r\n                    sv[i] = vs[i](t);\r\n                }\r\n                return sv;\r\n            }\r\n        };\r\n\r\n        function parseInterpolatables(sv, ev) {\r\n            var vs = [];\r\n            for (var i = 0, len = ev.length; i < len; i++) {\r\n                var e = ev[i];\r\n                vs[i] = mainTween(i === 0 ? sv : ev[i - 1], e);\r\n            }\r\n\t\t\tvar lastItem = ev[ev.length - 1];\r\n\t\t\tvs.push(mainTween(lastItem, lastItem));\r\n\t\t\tvar endLength = vs.length - 1;\r\n            return function (t) {\r\n\t\t\t\tvar totalTime = t * endLength;\r\n\t\t\t\tvar roundedTime = Math.floor(totalTime);\r\n\t\t\t\tvar elapsed = totalTime - roundedTime;\r\n\r\n\t\t\t\tvar item = vs[roundedTime];\r\n\t\t\t\tvar interpolated = item(elapsed);\r\n\t\t\t\treturn interpolated;\r\n\t\t\t};\r\n        }\r\n\r\n        function arrayTween(sv, ev, d) {\r\n            d = d !== undefined ? d : 10000;\r\n            var s = sv.slice();\r\n            var rv = [];\r\n\t\t\tvar minLength = Math.min(sv.length, ev.length);\r\n            for (var i = 0; i < minLength; i++) {\r\n                var vs = s[i],\r\n                ve = ev[i];\r\n                rv[i] = typeof ve === 'string' && ve.indexOf('=') === 1 ? ve : null;\r\n                s[i] = ve.nodeType ? ve : ve.update ? ve : vs === ve ? null : isArray(ve) ?\r\n                    isArray(vs) && ve.length === vs.length ? arrayTween(vs, ve, d) : parseInterpolatables(vs, ve) : isArray(vs) ? tweenThemTo(vs, ve) : typeof vs === 'object' ?\r\n                    objectTween(vs, ve, d) : typeof vs === 'string' ?\r\n                    stringTween(vs, ve, d) : vs !== undefined ? vs : ve;\r\n\t\t\t\tev[i] = rv[i] !== null ? r2n(\r\n                        vs, ve) : ve;\r\n            }\r\n            return function (t) {\r\n                for (var i = 0; i < minLength; i++) {\r\n                    var a = s[i],\r\n                    b = ev[i],\r\n                    r = rv[i];\r\n                    if (a === null || a === undefined)\r\n                        continue;\r\n                    sv[i] = typeof a === 'number' ? (((a + (b - a) * t) * d) | 0) /\r\n                        d : typeof a === 'function' ? a(t) : a.update ? a.update(t) : b && b.update ? b.update(t) : b;\r\n                    if (r && t === 1) {\r\n                        s[i] = b;\r\n                        ev[i] = r2n(s[i], r);\r\n                    }\r\n                }\r\n                return sv;\r\n            }\r\n        }\r\n\r\n        var units = [\"px\", \"pt\", \"pc\", \"deg\", \"rad\", \"turn\", \"em\", \"ex\", \"cm\", \"mm\", \"dm\", \"inch\", \"in\", \"rem\", \"vw\", \"vh\", \"vmin\", \"vmax\", \"%\"];\r\n        function unitTween(sv, ev, d) {\r\n            d = d !== undefined ? d : 10000;\r\n            if (ev.length === 2 && sv.length === 2) {\r\n                var unidx = units.indexOf(ev[1]);\r\n                if (unidx !== -1) {\r\n                    var s = +sv[0],\r\n                    e = +ev[0],\r\n                    u = ev[1],\r\n\t\t\t\t\tr = typeof ev[0] === 'string' && ev[0].indexOf('=') === 1 ? ev[0] : null;\r\n\t\t\t\t\tif (r) {\r\n\t\t\t\t\t\te = r2n(s, e);\r\n\t\t\t\t\t}\r\n                    return function (t) {\r\n                        var v = ((((s + (e - s) * t) * d) | 0) / d) + u;\r\n\t\t\t\t\t\tif (r && t === 1) {\r\n\t\t\t\t\t\t\ts = e;\r\n\t\t\t\t\t\t\te = r2n(s, r);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn v;\r\n                    }\r\n                }\r\n            }\r\n            return false;\r\n        }\r\n\r\n        function objectTween(sv, ev, d) {\r\n            d = d !== undefined ? d : 10000;\r\n            var rv = {};\r\n            var s = {};\r\n            for (var i in sv) {\r\n                s[i] = sv[i];\r\n                var vs = s[i],\r\n                ve = ev[i];\r\n                rv[i] = typeof ve === 'string' && ve.indexOf('=') === 1 ? ve : null;\r\n\t\t\t\tif (ve === undefined) continue;\r\n                s[i] = ve.nodeType || ve.update ? ve : vs === ve ? null : isArray(ve) ?\r\n                    isArray(vs) && ve.length === vs.length ? arrayTween(vs, ve, d) : parseInterpolatables(vs, ve) : isArray(vs) ? tweenThemTo(vs, ve) : typeof vs === 'object' ?\r\n                    objectTween(vs, ve, d) : typeof vs === 'string' ?\r\n                    stringTween(vs, ve, d) : vs !== undefined ? vs : ve;\r\n\t\t\t\tev[i] = rv[i] !== null ? r2n(vs, ve) : ve;\r\n            }\r\n            return function (t) {\r\n                for (var i in ev) {\r\n                    var a = s[i],\r\n                    b = ev[i],\r\n                    r = rv[i];\r\n                    if (a === null || a === undefined)\r\n                        continue;\r\n                    sv[i] = typeof a === 'number' ? (((a + (b - a) * t) * d) | 0) /\r\n                        d : typeof a === 'function' ? a(t) : a.update ? a.update(t) : b.update ? b.update(t) : b;\r\n                    if (r && t === 1) {\r\n                        s[i] = b;\r\n                        ev[i] = r2n(s[i], r);\r\n                    }\r\n                }\r\n                return sv;\r\n            }\r\n        }\r\n\r\n        function mainTween(sv, ev, d) {\r\n            d = d !== undefined ? d : 10000;\r\n\t\t\tvar rv = typeof(ev) === 'string' && typeof sv === 'number' && ev.indexOf('=') === 1 ? ev : null;\r\n\t\t\tif (rv) {\r\n\t\t\t\tev = r2n(sv, rv);\r\n\t\t\t}\r\n            return ev.nodeType ? ev : sv.nodeType ? sv : isArray(ev) ? isArray(sv) && sv.length === ev.length ? arrayTween(sv, ev, d) : parseInterpolatables(sv, ev) : isArray(sv) ? tweenThemTo(sv, ev) : typeof ev === 'object' ?\r\n            objectTween(sv, ev, d) : typeof ev === 'string' ? stringTween(sv, ev, d) :\r\n            typeof ev === 'function' ? ev : function (t) {\r\n\t\t\t\tvar vv = typeof ev === 'number' ? (((sv + (ev - sv) * t) *\r\n                        d) | 0) / d : sv\r\n\t\t\t\tif (rv && t === 1) {\r\n\t\t\t\t\tsv += ev;\r\n\t\t\t\t\tev = r2n(sv, rv);\r\n\t\t\t\t}\r\n                return vv;\r\n            }\r\n        }\r\n\r\n        return mainTween;\r\n\r\n    }));\r\n","let Store = {}\r\nexport default function (node, tween) {\r\n  if (!node || !node.nodeType) return tween\r\n  var ID = node.queueID || 'queue_' + Math.round(Math.random() * 1000 + Date.now())\r\n  if (!node.queueID) {\r\n    node.queueID = ID\r\n  }\r\n  if (Store[ID]) {\r\n    if (tween) {\r\n      Store[ID] = Object.assign(Store[ID], tween)\r\n    }\r\n    return Store[ID]\r\n  }\r\n\r\n  Store[ID] = tween\r\n  return Store[ID]\r\n};\r\n","export default class EventClass {\r\n  constructor () {\r\n    this._events = {}\r\n  }\r\n\r\n  on (event, callback) {\r\n    if (!this._events[event]) {\r\n      this._events[event] = []\r\n    }\r\n\r\n    this._events[event].push(callback)\r\n    return this\r\n  }\r\n\r\n  once (event, callback) {\r\n    if (!this._events[event]) {\r\n      this._events[event] = []\r\n    }\r\n\r\n    let {_events} = this\r\n    let spliceIndex = _events[event].length\r\n    this._events[event].push((...args) => {\r\n      callback.apply(this, args)\r\n      _events[event].splice(spliceIndex, 1)\r\n    })\r\n    return this\r\n  }\r\n\r\n  off (event, callback) {\r\n    let {_events} = this\r\n\r\n    if (event === undefined || !_events[event]) {\r\n      return this\r\n    }\r\n\r\n    if (callback) {\r\n      this._events[event] = this._events[event].filter(cb => cb !== callback)\r\n    } else {\r\n      this._events[event].length = 0\r\n    }\r\n\r\n    return this\r\n  }\r\n\r\n  emit (event, arg1, arg2, arg3, arg4) {\r\n    let {_events} = this\r\n\r\n    let _event = _events[event]\r\n\r\n    if (!_event || !_event.length) {\r\n      return this\r\n    }\r\n\r\n    let i = 0\r\n    const len = _event.length\r\n    for (; i < len; i++) {\n      _event[i](arg1, arg2, arg3, arg4)\n    }\r\n  }\r\n}\r\n","import {\n  add,\n  remove,\n  now,\n  Plugins\n}\n  from './core'\nimport Easing from './Easing'\nimport InterTween from 'intertween'\nimport NodeCache from './NodeCache'\nimport EventClass from './Event'\n\n// Events list\nexport const EVENT_UPDATE = 'update'\nexport const EVENT_COMPLETE = 'complete'\nexport const EVENT_START = 'start'\nexport const EVENT_REPEAT = 'repeat'\nexport const EVENT_REVERSE = 'reverse'\nexport const EVENT_PAUSE = 'pause'\nexport const EVENT_PLAY = 'play'\nexport const EVENT_RS = 'restart'\nexport const EVENT_STOP = 'stop'\nexport const EVENT_SEEK = 'seek'\n\nlet _id = 0 // Unique ID\nconst defaultEasing = Easing.Linear.None\n\nclass Tween extends EventClass {\n  constructor (node, object) {\n    super()\n\n    this.id = _id++\n    if (typeof node !== 'undefined' && !object && !node.nodeType) {\n      object = this.object = node\n      node = null\n    } else if (typeof node !== 'undefined') {\n      this.node = node\n      if (typeof object === 'object') {\n        object = this.object = NodeCache(node, object)\n      } else {\n        this.object = object\n      }\n    }\n    let isArr = this.isArr = Array.isArray(object)\n    this._valuesStart = isArr ? [] : {}\n    this._valuesEnd = null\n\n    this._duration = 1000\n    this._easingFunction = defaultEasing\n\n    this._startTime = 0\n    this._delayTime = 0\n    this._repeat = 0\n    this._r = 0\n    this._isPlaying = false\n    this._yoyo = false\n    this._reversed = false\n\n    this._onStartCallbackFired = false\n    this._pausedTime = null\n    this._isFinite = true\n\n    return this\n  }\n\n  isPlaying () {\n    return this._isPlaying\n  }\n\n  isStarted () {\n    return this._onStartCallbackFired\n  }\n\n  reverse () {\n    const {\n      _reversed\n    } = this\n\n    this._reversed = !_reversed\n\n    return this\n  }\n\n  reversed () {\n    return this._reversed\n  }\n\n  pause () {\n    if (!this._isPlaying) {\n      return this\n    }\n\n    this._isPlaying = false\n\n    remove(this)\n    this._pausedTime = now()\n\n    return this.emit(EVENT_PAUSE, this.object)\n  }\n\n  play () {\n    if (this._isPlaying) {\n      return this\n    }\n\n    this._isPlaying = true\n\n    this._startTime += now() - this._pausedTime\n    add(this)\n    this._pausedTime = now()\n\n    return this.emit(EVENT_PLAY, this.object)\n  }\n\n  restart (noDelay) {\n    this._repeat = this._r\n    this._startTime = now() + (noDelay ? 0 : this._delayTime)\n\n    if (!this._isPlaying) {\n      add(this)\n    }\n\n    return this.emit(EVENT_RS, this._object)\n  }\n\n  seek (time, keepPlaying) {\n    this._startTime = now() + Math.max(0, Math.min(\n      time, this._duration))\n\n    this.emit(EVENT_SEEK, time, this._object)\n\n    return keepPlaying ? this : this.pause()\n  }\n\n  duration (amount) {\n    this._duration = typeof (amount) === 'function' ? amount(this._duration) : amount\n\n    return this\n  }\n\n  to (properties, duration = 1000) {\n    this._valuesEnd = properties\n\n    if (typeof duration === 'number' || typeof (duration) === 'function') {\n      this._duration = typeof (duration) === 'function' ? duration(this._duration) : duration\n    } else if (typeof duration === 'object') {\n      for (let prop in duration) {\n        if (this[prop]) {\n          this[prop](...(Array.isArray(duration) ? duration : [duration]))\n        }\n      }\n    }\n\n    return this\n  }\n\n  render () {\n    if (this._rendered) {\n      return this\n    }\n\n    let {\n      _valuesEnd,\n      _valuesStart,\n      object,\n      Renderer\n    } = this\n\n    for (let property in _valuesEnd) {\n      let start = object[property]\n      let end = _valuesEnd[property]\n\n      if (Plugins[property]) {\n        _valuesEnd[property] = new Plugins[property](this, start, end)\n        continue\n      }\n\n      if (object[property] === undefined) {\n        continue\n      }\n\n      if (typeof start === 'number' && typeof end === 'number') {\n        _valuesStart[property] = start\n        _valuesEnd[property] = end\n      } else {\n        _valuesEnd[property] = InterTween(start, end)\n      }\n    }\n\n    if (Renderer && this.node) {\n      this.__render = new Renderer(this, object, _valuesEnd)\n    }\n\n    return this\n  }\n\n  start (time) {\n    this._startTime = time !== undefined ? time : now()\n    this._startTime += this._delayTime\n\n    add(this)\n\n    this._isPlaying = true\n\n    return this\n  }\n\n  stop () {\n    let {\n      _isPlaying,\n      object\n    } = this\n\n    if (!_isPlaying) {\n      return this\n    }\n\n    remove(this)\n    this._isPlaying = false\n\n    return this.emit(EVENT_STOP, object)\n  }\n\n  end () {\n    const {\n      _startTime,\n      _duration\n    } = this\n\n    return this.update(_startTime + _duration)\n  }\n\n  delay (amount) {\n    this._delayTime = typeof (amount) === 'function' ? amount(this._delayTime) : amount\n    this._startTime += this._delayTime\n\n    return this\n  }\n\n  repeat (amount) {\n    this._repeat = typeof (amount) === 'function' ? amount(this._repeat) : amount\n    this._r = this._repeat\n    this._isFinite = isFinite(amount)\n\n    return this\n  }\n\n  repeatDelay (amount) {\n    this._repeatDelayTime = typeof (amount) === 'function' ? amount(this._repeatDelayTime) : amount\n\n    return this\n  }\n\n  reverseDelay (amount) {\n    this._reverseDelayTime = typeof (amount) === 'function' ? amount(this._reverseDelayTime) : amount\n\n    return this\n  }\n\n  yoyo (state) {\n    this._yoyo = typeof (state) === 'function' ? state(this._yoyo) : state\n\n    return this\n  }\n\n  easing (fn) {\n    this._easingFunction = fn\n\n    return this\n  }\n\n  reassignValues () {\n    const {\n      _valuesStart,\n      _valuesEnd,\n      object,\n      isArr\n    } = this\n\n    for (let property in _valuesEnd) {\n      if (isArr) {\n        property *= 1\n      }\n\n      let start = _valuesStart[property]\n      let end = _valuesEnd[property]\n\n      object[property] = typeof end === 'function' ? end(0) : start\n    }\n\n    return this\n  }\n\n  get (time) {\n    this.update(time)\n    return this.object\n  }\n\n  update (time, preserve) {\n    let {\n      _onStartCallbackFired,\n      _easingFunction,\n      _repeat,\n      _repeatDelayTime,\n      _reverseDelayTime,\n      _yoyo,\n      _reversed,\n      _startTime,\n      _duration,\n      _valuesStart,\n      _valuesEnd,\n      object,\n      _isFinite,\n      __render\n    } = this\n\n    let elapsed\n    let value\n    let property\n\n    time = time !== undefined ? time : now()\n\n    if (time < _startTime) {\n      return true\n    }\n\n    if (!_onStartCallbackFired) {\n      if (!this._rendered) {\n        this.render()\n        this._rendered = true\n      }\n\n      this.emit(EVENT_START, object)\n\n      this._onStartCallbackFired = true\n    }\n\n    elapsed = (time - _startTime) / _duration\n    elapsed = elapsed > 1 ? 1 : elapsed\n    elapsed = _reversed ? 1 - elapsed : elapsed\n\n    for (property in _valuesEnd) {\n      value = _easingFunction[property] ? _easingFunction[property](elapsed) : typeof _easingFunction === 'function' ? _easingFunction(elapsed) : defaultEasing\n\n      let start = _valuesStart[property]\n      let end = _valuesEnd[property]\n\n      if (end.update) {\n        end.update(value, elapsed)\n      } else if (typeof end === 'number') {\n        object[property] = start + (end - start) * value\n      } else if (typeof end === 'function') {\n        object[property] = end(value)\n      }\n    }\n\n    if (__render) {\n      __render.update(object, elapsed)\n    }\n\n    this.emit(EVENT_UPDATE, object, elapsed)\n\n    if (elapsed === 1 || (_reversed && elapsed === 0)) {\n      if (_repeat) {\n        if (_isFinite) {\n          this._repeat--\n        }\n\n        if (_yoyo) {\n          this._reversed = !_reversed\n        }\n\n        this.emit(_yoyo && !_reversed ? EVENT_REVERSE : EVENT_REPEAT, object)\n\n        if (!_reversed && _repeatDelayTime) {\n          this._startTime = time + _repeatDelayTime\n        } else if (_reversed && _reverseDelayTime) {\n          this._startTime = time + _reverseDelayTime\n        } else {\n          this._startTime = time\n        }\n\n        return true\n      } else {\n        if (!preserve) {\n          remove(this)\n        }\n        this.emit(EVENT_COMPLETE, object)\n        this._repeat = this._r\n\n        return false\n      }\n    }\n\n    return true\n  }\n}\n\nexport default Tween\n","export default class PlaybackPosition {\r\n  constructor () {\r\n    this.totalTime = 0\r\n    this.labels = []\r\n    this.offsets = []\r\n  }\r\n  parseLabel (name, offset) {\r\n    const { offsets, labels } = this\r\n    let i = labels.indexOf(name)\r\n    if (typeof name === 'string' && name.indexOf('=') !== -1 && !offset && i === -1) {\r\n      const rty = name.substr(name.indexOf('=') - 1, 2)\r\n      let rt = name.split(rty)\r\n      offset = rt.length === 2 ? rty + rt[1] : null\r\n      name = rt[0]\r\n      i = labels.indexOf(name)\r\n    }\r\n    if (i !== -1 && name) {\r\n      let currOffset = offsets[i] || 0\r\n      if (typeof offset === 'number') {\r\n        currOffset = offset\r\n      } else if (typeof offset === 'string') {\r\n        if (offset.indexOf('=') !== -1) {\r\n          const type = offset.charAt(0)\r\n          offset = Number(offset.substr(2))\r\n          if (type === '+' || type === '-') {\r\n            currOffset += parseFloat(type + offset)\r\n          } else if (type === '*') {\r\n            currOffset *= offset\r\n          } else if (type === '/') {\r\n            currOffset /= offset\r\n          } else if (type === '%') {\r\n            currOffset *= offset / 100\r\n          }\r\n        }\r\n      }\r\n      return currOffset\r\n    }\r\n    return typeof offset === 'number' ? offset : 0\r\n  }\r\n  addLabel (name, offset) {\r\n    this.labels.push(name)\r\n    this.offsets.push(this.parseLabel(name, offset))\r\n    return this\r\n  }\r\n  setLabel (name, offset) {\r\n    const i = this.labels.indexOf(name)\r\n    if (i !== -1) {\r\n      this.offsets.splice(i, 1, this.parseLabel(name, offset))\r\n    }\r\n    return this\r\n  }\r\n  eraseLabel (name) {\r\n    const i = this.labels.indexOf(name)\r\n    if (i !== -1) {\r\n      this.labels.splice(i, 1)\r\n      this.offsets.splice(i, 1)\r\n    }\r\n    return this\r\n  }\r\n}\n","import Tween, { EVENT_UPDATE, EVENT_RS, EVENT_REPEAT, EVENT_REVERSE, EVENT_COMPLETE } from './Tween'\r\nimport { add, now } from './core'\r\nimport PlaybackPosition from './PlaybackPosition'\r\n\r\nlet _id = 0\r\nclass Timeline extends Tween {\r\n  constructor (params) {\r\n    super()\r\n    this._totalDuration = 0\r\n    this._startTime = now()\r\n    this._tweens = {}\r\n    this._elapsed = 0\r\n    this._id = _id++\r\n    this._defaultParams = params\r\n    this.position = new PlaybackPosition()\r\n    this.position.addLabel('afterLast', this._totalDuration)\r\n    this.position.addLabel('afterInit', this._startTime)\r\n\r\n    return this\r\n  }\r\n\r\n  addLabel (name, offset) {\r\n    this.position.addLabel(name, offset)\r\n    return this\r\n  }\r\n\r\n  map (fn) {\r\n    for (let tween in this._tweens) {\r\n      let _tween = this._tweens[tween]\r\n      fn(_tween, +tween)\r\n      this._totalDuration = Math.max(this._totalDuration, _tween._duration + _tween._startTime)\r\n    }\r\n    return this\r\n  }\r\n\r\n  add (tween, position) {\n    if (Array.isArray(tween)) {\r\n      tween.map(_tween => {\r\n        this.add(_tween, position)\r\n      })\r\n      return this\r\n    } else if (typeof tween === 'object' && !(tween instanceof Tween)) {\n      tween = new Tween(tween.from).to(tween.to, tween)\n    }\r\n\r\n    let {\r\n      _defaultParams,\r\n      _totalDuration\r\n    } = this\r\n\r\n    if (_defaultParams) {\r\n      for (let method in _defaultParams) {\r\n        tween[method](_defaultParams[method])\r\n      }\r\n    }\r\n\r\n    const offset = typeof position === 'number' ? position : this.position.parseLabel(typeof position !== 'undefined' ? position : 'afterLast', null)\r\n    tween._startTime = this._startTime\r\n    tween._startTime += offset\r\n    this._totalDuration = Math.max(_totalDuration, tween._startTime + tween._delayTime + tween._duration)\r\n    this._tweens[tween.id] = tween\r\n    this.position.setLabel('afterLast', this._totalDuration)\r\n    return this\r\n  }\r\n\r\n  restart () {\r\n    this._startTime += now()\r\n\r\n    add(this)\r\n\r\n    return this.emit(EVENT_RS)\r\n  }\r\n\r\n  easing (easing) {\r\n    return this.map(tween => tween.easing(easing))\r\n  }\r\n\r\n  interpolation (interpolation) {\r\n    return this.map(tween => tween.interpolation(interpolation))\r\n  }\r\n\r\n  reverse () {\r\n    this._reversed = !this._reversed\r\n    return this.emit(EVENT_REVERSE)\r\n  }\r\n\r\n  update (time) {\r\n    let {\r\n      _tweens,\r\n      _totalDuration,\r\n      _repeatDelayTime,\r\n      _reverseDelayTime,\r\n      _startTime,\r\n      _reversed,\r\n      _yoyo,\r\n      _repeat,\r\n      _isFinite\r\n    } = this\r\n\r\n    if (time < _startTime) {\n      return true\n    }\r\n\r\n    let elapsed = Math.min(1, Math.max(0, (time - _startTime) / _totalDuration))\r\n    elapsed = _reversed ? 1 - elapsed : elapsed\r\n    this._elapsed = elapsed\r\n\r\n    let timing = time - _startTime\r\n    let _timing = _reversed ? _totalDuration - timing : timing\r\n\r\n    for (let tween in _tweens) {\r\n      let _tween = _tweens[tween]\r\n      if (_tween.skip) {\r\n        _tween.skip = false\r\n      } else if (_tween.update(_timing)) {\r\n        continue\r\n      } else {\r\n        _tween.skip = true\r\n      }\r\n    }\r\n\r\n    this.emit(EVENT_UPDATE, elapsed, timing)\r\n\r\n    if (elapsed === 1 || (_reversed && elapsed === 0)) {\n      if (_repeat) {\n        if (_isFinite) {\r\n          this._repeat--\r\n        }\r\n\r\n        this.emit(_reversed ? EVENT_REVERSE : EVENT_REPEAT)\r\n\r\n        if (_yoyo) {\r\n          this.reverse()\r\n        }\r\n\r\n        if (!_reversed && _repeatDelayTime) {\r\n          this._startTime += _totalDuration + _repeatDelayTime\r\n        } else if (_reversed && _reverseDelayTime) {\r\n          this._startTime += _totalDuration + _reverseDelayTime\r\n        } else {\r\n          this._startTime += _totalDuration\r\n        }\r\n\r\n        for (let tween in _tweens) {\r\n          let _tween = _tweens[tween]\r\n          if (_tween.skip) {\r\n            _tween.skip = false\r\n          }\r\n          _tween.reassignValues()\r\n        }\r\n\r\n        return true\n      } else {\n        this.emit(EVENT_COMPLETE)\r\n        this._repeat = this._r\r\n\r\n        for (let tween in _tweens) {\r\n          let _tween = _tweens[tween]\r\n          if (_tween.skip) {\r\n            _tween.skip = false\r\n          }\r\n        }\r\n\r\n        return false\n      }\n    }\r\n\r\n    return true\n  }\r\n\r\n  elapsed (value) {\r\n    return value !== undefined ? this.update(value * this._totalDuration) : this._elapsed\r\n  }\r\n\r\n  seek (value) {\r\n    return this.update(value < 1.1 ? value * this._totalDuration : value)\r\n  }\r\n}\r\nexport default Timeline\r\n"],"names":["root","window","global","this","Object","assign","source","let","i","len","args","length","arg","p","create","Array","isArray","push","splice","requestAnimationFrame","fn","setTimeout","cancelAnimationFrame","id","clearTimeout","_tick","_tweens","isStarted","_autoPlay","_ticker","_stopTicker","add","tween","update","get","remove","indexOf","now","undefined","process","hrtime","time","performance","bind","offset","timing","navigationStart","Date","preserve","Plugins","document","addEventListener","timeDiff","timePause","hidden","_startTime","const","Easing","Linear","None","k","Quadratic","In","Out","InOut","Cubic","Quartic","Quintic","Sinusoidal","Math","cos","PI","sin","Exponential","pow","Circular","sqrt","Elastic","Back","s","Bounce","factory","module","exports","InterTween","s2f","val","floatedVal","parseFloat","isNaN","h2r_f","all","hex","r","g","b","color","parseInt","rgbMax","trim","str","replace","trimRegExp","r2n","e","rv","relativeModes","substr","v","e2","s2n","h2r","match","numRegExp","map","stringTween","d","test","sv","ev","uv","unitTween","cm","cmls","ve","vs","isIncrementReqForColor","colorMatch","t","a","tweenThemTo","arrayTween","objectTween","parseInterpolatables","mainTween","lastItem","endLength","totalTime","roundedTime","floor","elapsed","item","slice","minLength","min","nodeType","units","u","vv","hexColor","+=","-=","*=","/=","%=","Store","node","ID","queueID","round","random","EventClass","_events","on","event","callback","once","spliceIndex","apply","off","filter","cb","emit","arg1","arg2","arg3","arg4","_event","_id","defaultEasing","Tween","object","super","NodeCache","isArr","_valuesStart","_valuesEnd","_duration","_easingFunction","_delayTime","_repeat","_r","_isPlaying","_yoyo","_reversed","_onStartCallbackFired","_pausedTime","_isFinite","isPlaying","reverse","reversed","pause","play","restart","noDelay","_object","seek","keepPlaying","max","duration","amount","to","properties","prop","ref","render","_rendered","Renderer","property","start","end","__render","stop","delay","repeat","isFinite","repeatDelay","_repeatDelayTime","reverseDelay","_reverseDelayTime","yoyo","state","easing","reassignValues","value","PlaybackPosition","labels","offsets","parseLabel","name","rty","rt","split","currOffset","type","charAt","Number","addLabel","setLabel","eraseLabel","Timeline","params","_totalDuration","_elapsed","_defaultParams","position","_tween","from","method","interpolation","_timing","skip"],"mappings":"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"}