{"version":3,"file":"Tween.min.js","sources":["../src/shim.js","../src/dist/core.js","../src/dist/Easing.js","../node_modules/intertween/index.js","../src/dist/NodeCache.js","../src/dist/Event.js","../src/dist/Tween.js","../src/dist/PlaybackPosition.js","../src/dist/Timeline.js"],"sourcesContent":["/* global global */\r\nexport let root = typeof (window) !== 'undefined' ? window : typeof (global) !== 'undefined' ? global : this\r\n\r\nif (!Object.assign) {\r\n  Object.assign = (source, ...args) => {\r\n    for (let i = 0, len = args.length; i < len; i++) {\r\n      let arg = args[i]\r\n      for (let p in arg) {\r\n        source[p] = arg[p]\r\n      }\r\n    }\r\n    return source\r\n  }\r\n}\r\nif (!Object.create) {\r\n  Object.create = source => {\r\n    return Object.assign({}, source || {})\r\n  }\r\n}\r\nif (!Array.isArray) {\r\n  Array.isArray = source => source && source.push && source.splice\r\n}\r\nif (typeof (requestAnimationFrame) === 'undefined') {\r\n  root.requestAnimationFrame = fn => root.setTimeout(fn, 16)\r\n}\r\nif (typeof (cancelAnimationFrame) === 'undefined') {\r\n  root.cancelAnimationFrame = id => root.clearTimeout(id)\r\n}\n","/* global process */\nimport { root } from '../shim'\n\nlet _tweens = []\nlet isStarted = false\nlet _autoPlay = false\nlet _tick\nconst _ticker = root.requestAnimationFrame\nconst _stopTicker = root.cancelAnimationFrame\n\nconst add = tween => {\n  _tweens.push(tween)\n\n  if (_autoPlay && !isStarted) {\n    _tick = _ticker(update)\n    isStarted = true\n  }\n}\n\nconst getAll = () => _tweens\n\nconst autoPlay = (state) => {\n  _autoPlay = state\n}\n\nconst removeAll = () => {\n  _tweens.length = 0\n  _stopTicker(_tick)\n}\n\nconst get = tween => {\n  for (let i = 0; i < _tweens.length; i++) {\n    if (tween === _tweens[i]) {\n      return _tweens[i]\n    }\n  }\n\n  return null\n}\n\nconst has = tween => {\n  return get(tween) !== null\n}\n\nconst remove = tween => {\n  let i = _tweens.indexOf(tween)\n  if (i !== -1) {\n    _tweens.splice(i, 1)\n  }\n  if (!_tweens.length) {\n    _stopTicker(_tick)\n  }\n}\n\nlet now = (function () {\n  if (typeof (process) !== 'undefined' && process.hrtime !== undefined) {\n    return function () {\n      let time = process.hrtime()\n\n      // Convert [seconds, nanoseconds] to milliseconds.\n      return time[0] * 1000 + time[1] / 1000000\n    }\n  // In a browser, use window.performance.now if it is available.\n  } else if (root.performance !== undefined &&\n   root.performance.now !== undefined) {\n    // This must be bound, because directly assigning this function\n    // leads to an invocation exception in Chrome.\n    return root.performance.now.bind(root.performance)\n  // Use Date.now if it is available.\n  } else {\n    let offset = root.performance && root.performance.timing && root.performance.timing.navigationStart ? root.performance.timing.navigationStart : Date.now()\n    return function () {\n      return Date.now() - offset\n    }\n  }\n}())\n\nconst update = (time, preserve) => {\n  time = time !== undefined ? time : now()\n\n  _tick = _ticker(update)\n\n  const len = _tweens.length\n  if (!len) {\n    isStarted = false\n    _stopTicker(_tick)\n    return false\n  }\n\n  let i = 0\n  for (; i < len; i++) {\n    _tweens[i].update(time, preserve)\n  }\n\n  return true\n}\n\nconst isRunning = () => isStarted\n\nconst Plugins = {}\n\n// Normalise time when visiblity is changed (if available) ...\nif (root.document && root.document.addEventListener) {\n  let doc = root.document\n  let timeDiff = 0\n  let timePause = 0\n  doc.addEventListener('visibilitychange', () => {\n    if (document.hidden) {\n      timePause = now()\n      _stopTicker(_tick)\n      isStarted = false\n    } else {\n      timeDiff = now() - timePause\n\n      for (let i = 0, length = _tweens.length; i < length; i++) {\n        _tweens[i]._startTime += timeDiff\n      }\n      _tick = _ticker(update)\n      isStarted = true\n    }\n\n    return true\n  })\n}\n\nexport { Plugins, get, has, getAll, removeAll, remove, add, now, update, autoPlay, isRunning }\n","const Easing = {\n\n  Linear: {\n\n    None (k) {\n      return k\n    }\n\n  },\n\n  Quadratic: {\n\n    In (k) {\n      return k * k\n    },\n\n    Out (k) {\n      return k * (2 - k)\n    },\n\n    InOut (k) {\n      if ((k *= 2) < 1) {\n        return 0.5 * k * k\n      }\n\n      return -0.5 * (--k * (k - 2) - 1)\n    }\n\n  },\n\n  Cubic: {\n\n    In (k) {\n      return k * k * k\n    },\n\n    Out (k) {\n      return --k * k * k + 1\n    },\n\n    InOut (k) {\n      if ((k *= 2) < 1) {\n        return 0.5 * k * k * k\n      }\n\n      return 0.5 * ((k -= 2) * k * k + 2)\n    }\n\n  },\n\n  Quartic: {\n\n    In (k) {\n      return k * k * k * k\n    },\n\n    Out (k) {\n      return 1 - (--k * k * k * k)\n    },\n\n    InOut (k) {\n      if ((k *= 2) < 1) {\n        return 0.5 * k * k * k * k\n      }\n\n      return -0.5 * ((k -= 2) * k * k * k - 2)\n    }\n\n  },\n\n  Quintic: {\n\n    In (k) {\n      return k * k * k * k * k\n    },\n\n    Out (k) {\n      return --k * k * k * k * k + 1\n    },\n\n    InOut (k) {\n      if ((k *= 2) < 1) {\n        return 0.5 * k * k * k * k * k\n      }\n\n      return 0.5 * ((k -= 2) * k * k * k * k + 2)\n    }\n\n  },\n\n  Sinusoidal: {\n\n    In (k) {\n      return 1 - Math.cos(k * Math.PI / 2)\n    },\n\n    Out (k) {\n      return Math.sin(k * Math.PI / 2)\n    },\n\n    InOut (k) {\n      return 0.5 * (1 - Math.cos(Math.PI * k))\n    }\n\n  },\n\n  Exponential: {\n\n    In (k) {\n      return k === 0 ? 0 : Math.pow(1024, k - 1)\n    },\n\n    Out (k) {\n      return k === 1 ? 1 : 1 - Math.pow(2, -10 * k)\n    },\n\n    InOut (k) {\n      if (k === 0) {\n        return 0\n      }\n\n      if (k === 1) {\n        return 1\n      }\n\n      if ((k *= 2) < 1) {\n        return 0.5 * Math.pow(1024, k - 1)\n      }\n\n      return 0.5 * (-Math.pow(2, -10 * (k - 1)) + 2)\n    }\n\n  },\n\n  Circular: {\n\n    In (k) {\n      return 1 - Math.sqrt(1 - k * k)\n    },\n\n    Out (k) {\n      return Math.sqrt(1 - (--k * k))\n    },\n\n    InOut (k) {\n      if ((k *= 2) < 1) {\n        return -0.5 * (Math.sqrt(1 - k * k) - 1)\n      }\n\n      return 0.5 * (Math.sqrt(1 - (k -= 2) * k) + 1)\n    }\n\n  },\n\n  Elastic: {\n\n    In (k) {\n      if (k === 0) {\n        return 0\n      }\n\n      if (k === 1) {\n        return 1\n      }\n\n      return -Math.pow(2, 10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI)\n    },\n\n    Out (k) {\n      if (k === 0) {\n        return 0\n      }\n\n      if (k === 1) {\n        return 1\n      }\n\n      return Math.pow(2, -10 * k) * Math.sin((k - 0.1) * 5 * Math.PI) + 1\n    },\n\n    InOut (k) {\n      if (k === 0) {\n        return 0\n      }\n\n      if (k === 1) {\n        return 1\n      }\n\n      k *= 2\n\n      if (k < 1) {\n        return -0.5 * Math.pow(2, 10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI)\n      }\n\n      return 0.5 * Math.pow(2, -10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI) + 1\n    }\n\n  },\n\n  Back: {\n\n    In (k) {\n      let s = 1.70158\n\n      return k * k * ((s + 1) * k - s)\n    },\n\n    Out (k) {\n      let s = 1.70158\n\n      return --k * k * ((s + 1) * k + s) + 1\n    },\n\n    InOut (k) {\n      let s = 1.70158 * 1.525\n\n      if ((k *= 2) < 1) {\n        return 0.5 * (k * k * ((s + 1) * k - s))\n      }\n\n      return 0.5 * ((k -= 2) * k * ((s + 1) * k + s) + 2)\n    }\n\n  },\n\n  Bounce: {\n\n    In (k) {\n      return 1 - Easing.Bounce.Out(1 - k)\n    },\n\n    Out (k) {\n      if (k < (1 / 2.75)) {\n        return 7.5625 * k * k\n      } else if (k < (2 / 2.75)) {\n        return 7.5625 * (k -= (1.5 / 2.75)) * k + 0.75\n      } else if (k < (2.5 / 2.75)) {\n        return 7.5625 * (k -= (2.25 / 2.75)) * k + 0.9375\n      } else {\n        return 7.5625 * (k -= (2.625 / 2.75)) * k + 0.984375\n      }\n    },\n\n    InOut (k) {\n      if (k < 0.5) {\n        return Easing.Bounce.In(k * 2) * 0.5\n      }\n\n      return Easing.Bounce.Out(k * 2 - 1) * 0.5 + 0.5\n    }\n\n  }\n\n}\n\nexport default Easing\n","/**\r\n * @name InterTween\r\n * @description The lightweight, fastest, smartest, effecient value interpolator with no-dependecy, zero-configuration and relative interpolation\r\n * @author dalisoft (https://github.com/dalisoft)\r\n * @license MIT-License\r\n * First Release at 20 August 2017, by @dalisoft\r\n */\r\n\r\n(function (root, factory) {\r\n    if (typeof define === 'function' && define.amd) {\r\n        define([], factory);\r\n    } else if (typeof module !== 'undefined' && module.exports) {\r\n        module.exports = factory();\r\n    } else {\r\n        root.InterTween = factory();\r\n    }\r\n}\r\n    (typeof(window) !== 'undefined' ? window : this, function () {\r\n\r\n        // RegExp variables\r\n        var colorMatch = /rgb/g;\r\n        var isIncrementReqForColor = /argb/g;\r\n        // This RegExp (numRegExp) is original from @jkroso string tweening and optimized by @dalisoft\r\n        var numRegExp =\r\n                /\\s+|([A-Za-z?().,{}:\"\"[\\]#]+)|([-+/*%]+=)?([-+*/%]+)?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g;\r\n        var hexColor = /^#([0-9a-f]{6}|[0-9a-f]{3})$/i;\r\n        var trimRegExp = /\\n|\\r|\\t/g;\r\n        var rgbMax = 255;\r\n\r\n        // Helpers\r\n        function s2f(val) {\r\n            var floatedVal = parseFloat(val);\r\n            return typeof floatedVal === \"number\" && !isNaN(floatedVal) ? floatedVal : val;\r\n        }\r\n        var isArray = Array.isArray;\r\n\r\n        function h2r_f(all, hex) {\r\n            var r;\r\n            var g;\r\n            var b;\r\n            if (hex.length === 3) {\r\n                r = hex[0];\r\n                g = hex[1];\r\n                b = hex[2];\r\n                hex = r + r + g + g + b + b;\r\n            }\r\n            var color = parseInt(hex, 16);\r\n            r = color >> 16 & rgbMax;\r\n            g = color >> 8 & rgbMax;\r\n            b = color & rgbMax;\r\n            return \"rgb(\" + r + \",\" + g + \",\" + b + \")\";\r\n        };\r\n\r\n        function trim(str) {\r\n            return typeof str === \"string\" ? str.replace(trimRegExp, \"\") : str;\r\n        };\r\n        var relativeModes = {\r\n            '+=': 1,\r\n            '-=': 1,\r\n            '*=': 2,\r\n            '/=': 3,\r\n            '%=': 4\r\n        };\r\n\r\n        function r2n(s, e) {\r\n            if (typeof e === 'number') {\r\n                return e;\r\n            } else {\r\n                var rv = relativeModes[e.substr(0, 2)],\r\n                v = e.substr(2);\r\n                if (rv === 1) {\r\n                    var e2 = e[0] + v;\r\n                    return s + parseFloat(e2);\r\n                } else if (rv === 2) {\r\n                    return s * +v;\r\n                } else if (rv === 3) {\r\n                    return s / +v;\r\n                } else if (rv === 4) {\r\n                    return s * (+v / 100);\r\n                }\r\n            }\r\n            return e;\r\n        }\r\n\r\n        var h2r = function (hex) {\r\n            return typeof hex !== 'string' ? hex : trim(hex)\r\n            .replace(hexColor, h2r_f);\r\n        }\r\n\r\n        function s2n(str) {\r\n            return h2r(str).match(numRegExp).map(s2f);\r\n        }\r\n\r\n        // Splitted functions\r\n        function stringTween(s, e, d) {\r\n            d = d !== undefined ? d : 10000;\r\n            if (!numRegExp.test(e))\r\n                return e;\r\n            var sv = s2n(s);\r\n            var ev = s2n(e);\r\n            var uv = unitTween(sv, ev, d);\r\n            if (uv) {\r\n                return uv;\r\n            }\r\n            uv = null;\r\n            var cm = null;\r\n            var cmls = null;\r\n            var rv = [];\r\n            for (var i = 0, len = ev.length; i < len; i++) {\r\n                var ve = ev[i],\r\n                vs = sv[i];\r\n                rv[i] = typeof ve === 'string' && ve.indexOf('=') === 1 ? e : null;\r\n                if (isIncrementReqForColor.test(ve)) {\r\n                    cm = i + 2;\r\n                    cmls = i + 11;\r\n                } else if (colorMatch.test(ve)) {\r\n                    cm = i;\r\n                    cmls = i + 9;\r\n                }\r\n                ev[i] = vs === ve ? null : rv[i] !== null ? r2n(vs, ve) : typeof ve === 'number' ? ve - vs : ve;\r\n            }\r\n            return function (t) {\r\n                var str = '';\r\n                for (var i = 0, len = ev.length; i < len; i++) {\r\n                    var a = sv[i],\r\n                    b = ev[i],\r\n                    r = rv[i];\r\n                    str += typeof b === 'number' ? cm !== null && i > cm &&\r\n                    i < cmls ? (a + b * t) | 0 : (((a + b * t) * d) |\r\n                        0) / d : a;\r\n                    if (t === 1 && r !== null) {\r\n                        sv[i] += b;\r\n                        ev[i] = r2n(sv[i], r);\r\n                    }\r\n                }\r\n                return str;\r\n            }\r\n        }\r\n\r\n        function tweenThemTo(sv, ev) {\r\n            var vs = [];\r\n            for (var i = 0, len = sv.length; i < len; i++) {\r\n                var s = sv[i];\r\n                vs[i] = isArray(s) ? arrayTween(s, ev) : typeof s === 'object' ? objectTween(s, ev) : typeof s === 'string' ? stringTween(s, ev) : s;\r\n            }\r\n            return function (t) {\r\n                for (var i = 0, len = vs.length; i < len; i++) {\r\n                    sv[i] = vs[i](t);\r\n                }\r\n                return sv;\r\n            }\r\n        };\r\n\r\n        function parseInterpolatables(sv, ev) {\r\n            var vs = [];\r\n            for (var i = 0, len = ev.length; i < len; i++) {\r\n                var e = ev[i];\r\n                vs[i] = mainTween(i === 0 ? sv : ev[i - 1], e);\r\n            }\r\n\t\t\tvar lastItem = ev[ev.length - 1];\r\n\t\t\tvs.push(mainTween(lastItem, lastItem));\r\n\t\t\tvar endLength = vs.length - 1;\r\n            return function (t) {\r\n\t\t\t\tvar totalTime = t * endLength;\r\n\t\t\t\tvar roundedTime = Math.floor(totalTime);\r\n\t\t\t\tvar elapsed = totalTime - roundedTime;\r\n\r\n\t\t\t\tvar item = vs[roundedTime];\r\n\t\t\t\tvar interpolated = item(elapsed);\r\n\t\t\t\treturn interpolated;\r\n\t\t\t};\r\n        }\r\n\r\n        function arrayTween(sv, ev, d) {\r\n            d = d !== undefined ? d : 10000;\r\n            var s = sv.slice();\r\n            var rv = [];\r\n            for (var i = 0, len = ev.length; i < len; i++) {\r\n                var vs = s && s[i],\r\n                ve = ev[i];\r\n                rv[i] = typeof ve === 'string' && ve.indexOf('=') === 1 ? ve : null;\r\n                s[i] = ve.nodeType ? ve : ve.update ? ve : vs === ve ? null : isArray(ve) ?\r\n                    isArray(vs) && ve.length === vs.length ? arrayTween(vs, ve, d) : parseInterpolatables(vs, ve) : isArray(vs) ? tweenThemTo(vs, ve) : typeof vs === 'object' ?\r\n                    objectTween(vs, ve, d) : typeof vs === 'string' ?\r\n                    stringTween(vs, ve, d) : vs !== undefined ? vs : ve;\r\n\t\t\t\tev[i] = rv[i] !== null ? r2n(\r\n                        vs, ve) : ve;\r\n            }\r\n\t\t\tvar minLength = Math.min(sv.length, ev.length);\r\n            return function (t) {\r\n                for (var i = 0; i < minLength; i++) {\r\n                    var a = s[i],\r\n                    b = ev[i],\r\n                    r = rv[i];\r\n                    if (a === null || a === undefined)\r\n                        continue;\r\n                    sv[i] = typeof a === 'number' ? (((a + (b - a) * t) * d) | 0) /\r\n                        d : typeof a === 'function' ? a(t) : a && a.update ? a.update(t) : b && b.update ? b.update(t) : b;\r\n                    if (r && t === 1) {\r\n                        s[i] = b;\r\n                        ev[i] = r2n(s[i], r);\r\n                    }\r\n                }\r\n                return sv;\r\n            }\r\n        }\r\n\r\n        var units = [\"px\", \"pt\", \"pc\", \"deg\", \"rad\", \"turn\", \"em\", \"ex\", \"cm\", \"mm\", \"dm\", \"inch\", \"in\", \"rem\", \"vw\", \"vh\", \"vmin\", \"vmax\", \"%\"];\r\n        function unitTween(sv, ev, d) {\r\n            d = d !== undefined ? d : 10000;\r\n            if (ev.length === 2 && sv.length === 2) {\r\n                var unidx = units.indexOf(ev[1]);\r\n                if (unidx !== -1) {\r\n                    var s = +sv[0],\r\n                    e = +ev[0],\r\n                    u = ev[1],\r\n\t\t\t\t\tr = typeof ev[0] === 'string' && ev[0].indexOf('=') === 1 ? ev[0] : null;\r\n\t\t\t\t\tif (r) {\r\n\t\t\t\t\t\te = r2n(s, e);\r\n\t\t\t\t\t}\r\n                    return function (t) {\r\n                        var v = ((((s + (e - s) * t) * d) | 0) / d) + u;\r\n\t\t\t\t\t\tif (r && t === 1) {\r\n\t\t\t\t\t\t\ts = e;\r\n\t\t\t\t\t\t\te = r2n(s, r);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn v;\r\n                    }\r\n                }\r\n            }\r\n            return false;\r\n        }\r\n\r\n        function objectTween(sv, ev, d) {\r\n            d = d !== undefined ? d : 10000;\r\n            var rv = {};\r\n            var s = {};\r\n            for (var i in ev) {\r\n                s[i] = sv && sv[i];\r\n                var vs = s[i],\r\n                ve = ev[i];\r\n                rv[i] = typeof ve === 'string' && ve.indexOf('=') === 1 ? ve : null;\r\n                s[i] = ve.nodeType ? ve : ve.update ? ve : vs === ve ? null : isArray(ve) ?\r\n                    isArray(vs) && ve.length === vs.length ? arrayTween(vs, ve, d) : parseInterpolatables(vs, ve) : isArray(vs) ? tweenThemTo(vs, ve) : typeof vs === 'object' ?\r\n                    objectTween(vs, ve, d) : typeof vs === 'string' ?\r\n                    stringTween(vs, ve, d) : vs !== undefined ? vs : ve;\r\n\t\t\t\tev[i] = rv[i] !== null ? r2n(vs, ve) : ve;\r\n            }\r\n            return function (t) {\r\n                for (var i in ev) {\r\n                    var a = s[i],\r\n                    b = ev[i],\r\n                    r = rv[i];\r\n                    if (a === null || a === undefined)\r\n                        continue;\r\n                    sv[i] = typeof a === 'number' ? (((a + (b - a) * t) * d) | 0) /\r\n                        d : typeof a === 'function' ? a(t) : a && a.update ? a.update(t) : b && b.update ? b.update(t) : b;\r\n                    if (r && t === 1) {\r\n                        s[i] = b;\r\n                        ev[i] = r2n(s[i], r);\r\n                    }\r\n                }\r\n                return sv;\r\n            }\r\n        }\r\n\r\n        function mainTween(sv, ev, d) {\r\n            d = d !== undefined ? d : 10000;\r\n\t\t\tvar rv = typeof(ev) === 'string' && typeof sv === 'number' && ev.indexOf('=') === 1 ? ev : null;\r\n\t\t\tif (rv) {\r\n\t\t\t\tev = r2n(sv, rv);\r\n\t\t\t}\r\n            return ev.nodeType ? ev : sv.nodeType ? sv : isArray(ev) ? isArray(sv) && sv.length === ev.length ? arrayTween(sv, ev, d) : parseInterpolatables(sv, ev) : isArray(sv) ? tweenThemTo(sv, ev) : typeof ev === 'object' ?\r\n            objectTween(sv, ev, d) : typeof ev === 'string' ? stringTween(sv, ev, d) :\r\n            typeof ev === 'function' ? ev : function (t) {\r\n\t\t\t\tvar vv = typeof ev === 'number' ? (((sv + (ev - sv) * t) *\r\n                        d) | 0) / d : sv\r\n\t\t\t\tif (rv && t === 1) {\r\n\t\t\t\t\tsv += ev;\r\n\t\t\t\t\tev = r2n(sv, rv);\r\n\t\t\t\t}\r\n                return vv;\r\n            }\r\n        }\r\n\r\n        return mainTween;\r\n\r\n    }));\r\n","let Store = {}\r\nexport default function (node, tween) {\r\n  if (!node) return tween\r\n  if (Store[node]) {\r\n    if (tween) {\r\n      return Object.assign(Store[node], tween)\r\n    }\r\n    return Store[node]\r\n  }\r\n\r\n  Store[node] = tween\r\n  return Store[node]\r\n};\r\n","export default class EventClass {\r\n  constructor () {\r\n    this._events = {}\r\n  }\r\n\r\n  on (event, callback) {\r\n    if (!this._events[event]) {\r\n      this._events[event] = []\r\n    }\r\n\r\n    this._events[event].push(callback)\r\n    return this\r\n  }\r\n\r\n  once (event, callback) {\r\n    if (!this._events[event]) {\r\n      this._events[event] = []\r\n    }\r\n\r\n    let {_events} = this\r\n    let spliceIndex = _events[event].length\r\n    this._events[event].push((...args) => {\r\n      callback.apply(this, args)\r\n      _events[event].splice(spliceIndex, 1)\r\n    })\r\n    return this\r\n  }\r\n\r\n  off (event, callback) {\r\n    let {_events} = this\r\n\r\n    if (event === undefined || !_events[event]) {\r\n      return this\r\n    }\r\n\r\n    if (callback) {\r\n      this._events[event] = this._events[event].filter(cb => cb !== callback)\r\n    } else {\r\n      this._events[event].length = 0\r\n    }\r\n\r\n    return this\r\n  }\r\n\r\n  emit (event, arg1, arg2, arg3, arg4) {\r\n    let {_events} = this\r\n\r\n    let _event = _events[event]\r\n\r\n    if (!_event || !_event.length) {\r\n      return this\r\n    }\r\n\r\n    let i = 0\r\n    const len = _event.length\r\n    for (; i < len; i++) {\n      _event[i](arg1, arg2, arg3, arg4)\n    }\r\n  }\r\n}\r\n","import {\n  add,\n  remove,\n  now,\n  Plugins\n}\n  from './core'\nimport Easing from './Easing'\nimport InterTween from 'intertween'\nimport NodeCache from './NodeCache'\nimport EventClass from './Event'\n\n// Events list\nexport const EVENT_UPDATE = 'update'\nexport const EVENT_COMPLETE = 'complete'\nexport const EVENT_START = 'start'\nexport const EVENT_REPEAT = 'repeat'\nexport const EVENT_REVERSE = 'reverse'\nexport const EVENT_PAUSE = 'pause'\nexport const EVENT_PLAY = 'play'\nexport const EVENT_RS = 'restart'\nexport const EVENT_STOP = 'stop'\nexport const EVENT_SEEK = 'seek'\n\nlet _id = 0 // Unique ID\n\nclass Tween extends EventClass {\n  constructor (node, object) {\n    super()\n\n    this.id = _id++\n    if (typeof node !== 'undefined' && !object && !node.nodeType) {\n      object = this.object = node\n      node = null\n    } else if (typeof node !== 'undefined') {\n      this.node = node\n      if (typeof object === 'object') {\n        object = this.object = NodeCache(node, object)\n      } else {\n        this.object = object\n      }\n    }\n    this._valuesEnd = null\n\n    this._duration = 1000\n    this._easingFunction = Easing.Linear.None\n\n    this._startTime = 0\n    this._delayTime = 0\n    this._repeat = 0\n    this._r = 0\n    this._isPlaying = false\n    this._yoyo = false\n    this._reversed = false\n\n    this._onStartCallbackFired = false\n    this._pausedTime = null\n    this._isFinite = true\n\n    return this\n  }\n\n  isPlaying () {\n    return this._isPlaying\n  }\n\n  isStarted () {\n    return this._onStartCallbackFired\n  }\n\n  reverse () {\n    const {\n      _reversed\n    } = this\n\n    this._reversed = !_reversed\n\n    return this\n  }\n\n  reversed () {\n    return this._reversed\n  }\n\n  pause () {\n    if (!this._isPlaying) {\n      return this\n    }\n\n    this._isPlaying = false\n\n    remove(this)\n    this._pausedTime = now()\n\n    return this.emit(EVENT_PAUSE, this.object)\n  }\n\n  play () {\n    if (this._isPlaying) {\n      return this\n    }\n\n    this._isPlaying = true\n\n    this._startTime += now() - this._pausedTime\n    add(this)\n    this._pausedTime = now()\n\n    return this.emit(EVENT_PLAY, this.object)\n  }\n\n  restart (noDelay) {\n    this._repeat = this._r\n    this._startTime = now() + (noDelay ? 0 : this._delayTime)\n\n    if (!this._isPlaying) {\n      add(this)\n    }\n\n    return this.emit(EVENT_RS, this._object)\n  }\n\n  seek (time, keepPlaying) {\n    this._startTime = now() + Math.max(0, Math.min(\n      time, this._duration))\n\n    this.emit(EVENT_SEEK, time, this._object)\n\n    return keepPlaying ? this : this.pause()\n  }\n\n  duration (amount) {\n    this._duration = typeof (amount) === 'function' ? amount(this._duration) : amount\n\n    return this\n  }\n\n  to (properties, duration = 1000) {\n    this._valuesEnd = properties\n\n    if (typeof duration === 'number' || typeof (duration) === 'function') {\n      this._duration = typeof (duration) === 'function' ? duration(this._duration) : duration\n    } else if (typeof duration === 'object') {\n      for (let prop in duration) {\n        if (this[prop]) {\n          this[prop](...(Array.isArray(duration) ? duration : [duration]))\n        }\n      }\n    }\n\n    return this\n  }\n\n  render () {\n    if (this._rendered) {\n      return this\n    }\n\n    let {\n      _valuesEnd,\n      object,\n      Renderer\n    } = this\n\n    if (typeof _valuesEnd === 'object') {\n      for (let property in _valuesEnd) {\n        if (Plugins[property]) {\n          _valuesEnd[property] = new Plugins[property](this, object[property], _valuesEnd[property])\n        }\n      }\n    }\n\n    if (Renderer && this.node) {\n      this.__render = new Renderer(this, object, _valuesEnd)\n    }\n\n    return this\n  }\n\n  start (time) {\n    this._startTime = time !== undefined ? time : now()\n    this._startTime += this._delayTime\n\n    add(this)\n\n    this._isPlaying = true\n\n    return this\n  }\n\n  stop () {\n    let {\n      _isPlaying,\n      object\n    } = this\n\n    if (!_isPlaying) {\n      return this\n    }\n\n    remove(this)\n    this._isPlaying = false\n\n    return this.emit(EVENT_STOP, object)\n  }\n\n  end () {\n    const {\n      _startTime,\n      _duration\n    } = this\n\n    return this.update(_startTime + _duration)\n  }\n\n  delay (amount) {\n    this._delayTime = typeof (amount) === 'function' ? amount(this._delayTime) : amount\n    this._startTime += this._delayTime\n\n    return this\n  }\n\n  repeat (amount) {\n    this._repeat = typeof (amount) === 'function' ? amount(this._repeat) : amount\n    this._r = this._repeat\n    this._isFinite = isFinite(amount)\n\n    return this\n  }\n\n  repeatDelay (amount) {\n    this._repeatDelayTime = typeof (amount) === 'function' ? amount(this._repeatDelayTime) : amount\n\n    return this\n  }\n\n  reverseDelay (amount) {\n    this._reverseDelayTime = typeof (amount) === 'function' ? amount(this._reverseDelayTime) : amount\n\n    return this\n  }\n\n  yoyo (state) {\n    this._yoyo = typeof (state) === 'function' ? state(this._yoyo) : state\n\n    return this\n  }\n\n  easing (fn) {\n    this._easingFunction = fn\n\n    return this\n  }\n\n  reassignValues () {\n    const {\n      _valuesEnd,\n      object\n    } = this\n\n    let v0 = _valuesEnd(0)\n\n    if (typeof v0 === 'object') {\n      let isArr = Array.isArray(v0)\n      for (let property in v0) {\n        if (isArr) property *= 1\n        object[property] = v0[property]\n      }\n    }\n\n    return this\n  }\n\n  get (time) {\n    this.update(time)\n    return this.object\n  }\n\n  update (time, preserve) {\n    let {\n      _onStartCallbackFired,\n      _easingFunction,\n      _repeat,\n      _repeatDelayTime,\n      _reverseDelayTime,\n      _yoyo,\n      _reversed,\n      _startTime,\n      _duration,\n      _valuesEnd,\n      object,\n      _isFinite,\n      __render\n    } = this\n\n    let elapsed\n    let value\n\n    time = time !== undefined ? time : now()\n\n    if (time < _startTime) {\n      return true\n    }\n\n    if (!_onStartCallbackFired) {\n      if (!this._rendered) {\n        this.render()\n        this._rendered = true\n        if (typeof _valuesEnd !== 'function') {\n          this._valuesEnd = _valuesEnd = InterTween(object, _valuesEnd)\n        }\n      }\n\n      this.emit(EVENT_START, object)\n\n      this._onStartCallbackFired = true\n    }\n\n    elapsed = (time - _startTime) / _duration\n    elapsed = elapsed > 1 ? 1 : elapsed\n    elapsed = _reversed ? 1 - elapsed : elapsed\r\n\r\n    value = _easingFunction(elapsed)\n\n    object = _valuesEnd(value)\n\n    if (__render) {\n      __render.update(object, elapsed)\n    }\n\n    this.emit(EVENT_UPDATE, object, value, elapsed)\n\n    if (elapsed === 1 || (_reversed && elapsed === 0)) {\n      if (_repeat) {\n        if (_isFinite) {\n          this._repeat--\n        }\n\n        if (_yoyo) {\n          this._reversed = !_reversed\n        }\n\n        if (!_reversed && _repeatDelayTime) {\n          this._startTime = time + _repeatDelayTime\n        } else if (_reversed && _reverseDelayTime) {\n          this._startTime = time + _reverseDelayTime\n        } else {\n          this._startTime = time\n        }\n\n        return true\n      } else {\n        if (!preserve) {\n          remove(this)\n        }\n        this.emit(EVENT_COMPLETE, object)\n        this._repeat = this._r\n\n        return false\n      }\n    }\n\n    return true\n  }\n}\n\nexport default Tween\n","export default class PlaybackPosition {\r\n  constructor () {\r\n    this.totalTime = 0\r\n    this.labels = []\r\n    this.offsets = []\r\n  }\r\n  parseLabel (name, offset) {\r\n    const { offsets, labels } = this\r\n    let i = labels.indexOf(name)\r\n    if (typeof name === 'string' && name.indexOf('=') !== -1 && !offset && i === -1) {\r\n      const rty = name.substr(name.indexOf('=') - 1, 2)\r\n      let rt = name.split(rty)\r\n      offset = rt.length === 2 ? rty + rt[1] : null\r\n      name = rt[0]\r\n      i = labels.indexOf(name)\r\n    }\r\n    if (i !== -1 && name) {\r\n      let currOffset = offsets[i] || 0\r\n      if (typeof offset === 'number') {\r\n        currOffset = offset\r\n      } else if (typeof offset === 'string') {\r\n        if (offset.indexOf('=') !== -1) {\r\n          const type = offset.charAt(0)\r\n          offset = Number(offset.substr(2))\r\n          if (type === '+' || type === '-') {\r\n            currOffset += parseFloat(type + offset)\r\n          } else if (type === '*') {\r\n            currOffset *= offset\r\n          } else if (type === '/') {\r\n            currOffset /= offset\r\n          } else if (type === '%') {\r\n            currOffset *= offset / 100\r\n          }\r\n        }\r\n      }\r\n      return currOffset\r\n    }\r\n    return typeof offset === 'number' ? offset : 0\r\n  }\r\n  addLabel (name, offset) {\r\n    this.labels.push(name)\r\n    this.offsets.push(this.parseLabel(name, offset))\r\n    return this\r\n  }\r\n  setLabel (name, offset) {\r\n    const i = this.labels.indexOf(name)\r\n    if (i !== -1) {\r\n      this.offsets.splice(i, 1, this.parseLabel(name, offset))\r\n    }\r\n    return this\r\n  }\r\n  eraseLabel (name) {\r\n    const i = this.labels.indexOf(name)\r\n    if (i !== -1) {\r\n      this.labels.splice(i, 1)\r\n      this.offsets.splice(i, 1)\r\n    }\r\n    return this\r\n  }\r\n}\n","import Tween, { EVENT_UPDATE, EVENT_RS, EVENT_REPEAT, EVENT_REVERSE, EVENT_COMPLETE } from './Tween'\r\nimport { add, now } from './core'\r\nimport PlaybackPosition from './PlaybackPosition'\r\n\r\nlet _id = 0\r\nclass Timeline extends Tween {\r\n  constructor (params) {\r\n    super()\r\n    this._totalDuration = 0\r\n    this._startTime = now()\r\n    this._tweens = {}\r\n    this._elapsed = 0\r\n    this._id = _id++\r\n    this._defaultParams = params\r\n    this.position = new PlaybackPosition()\r\n    this.position.addLabel('afterLast', this._totalDuration)\r\n    this.position.addLabel('afterInit', this._startTime)\r\n\r\n    return this\r\n  }\r\n\r\n  addLabel (name, offset) {\r\n    this.position.addLabel(name, offset)\r\n    return this\r\n  }\r\n\r\n  map (fn) {\r\n    for (let tween in this._tweens) {\r\n      let _tween = this._tweens[tween]\r\n      fn(_tween, +tween)\r\n      this._totalDuration = Math.max(this._totalDuration, _tween._duration + _tween._startTime)\r\n    }\r\n    return this\r\n  }\r\n\r\n  add (tween, position) {\n    if (Array.isArray(tween)) {\r\n      tween.map(_tween => {\r\n        this.add(_tween, position)\r\n      })\r\n      return this\r\n    } else if (typeof tween === 'object' && !(tween instanceof Tween)) {\n      tween = new Tween(tween.from).to(tween.to, tween)\n    }\r\n\r\n    let {\r\n      _defaultParams,\r\n      _totalDuration\r\n    } = this\r\n\r\n    if (_defaultParams) {\r\n      for (let method in _defaultParams) {\r\n        tween[method](_defaultParams[method])\r\n      }\r\n    }\r\n\r\n    const offset = typeof position === 'number' ? position : this.position.parseLabel(typeof position !== 'undefined' ? position : 'afterLast', null)\r\n    tween._startTime = this._startTime\r\n    tween._startTime += offset\r\n    this._totalDuration = Math.max(_totalDuration, tween._startTime + tween._delayTime + tween._duration)\r\n    this._tweens[tween.id] = tween\r\n    this.position.setLabel('afterLast', this._totalDuration)\r\n    return this\r\n  }\r\n\r\n  restart () {\r\n    this._startTime += now()\r\n\r\n    add(this)\r\n\r\n    return this.emit(EVENT_RS)\r\n  }\r\n\r\n  easing (easing) {\r\n    return this.map(tween => tween.easing(easing))\r\n  }\r\n\r\n  interpolation (interpolation) {\r\n    return this.map(tween => tween.interpolation(interpolation))\r\n  }\r\n\r\n  reverse () {\r\n    this._reversed = !this._reversed\r\n    return this.emit(EVENT_REVERSE)\r\n  }\r\n\r\n  update (time) {\r\n    let {\r\n      _tweens,\r\n      _totalDuration,\r\n      _repeatDelayTime,\r\n      _reverseDelayTime,\r\n      _startTime,\r\n      _reversed,\r\n      _yoyo,\r\n      _repeat,\r\n      _isFinite\r\n    } = this\r\n\r\n    if (time < _startTime) {\n      return true\n    }\r\n\r\n    let elapsed = Math.min(1, Math.max(0, (time - _startTime) / _totalDuration))\r\n    elapsed = _reversed ? 1 - elapsed : elapsed\r\n    this._elapsed = elapsed\r\n\r\n    let timing = time - _startTime\r\n    let _timing = _reversed ? _totalDuration - timing : timing\r\n\r\n    for (let tween in _tweens) {\r\n      let _tween = _tweens[tween]\r\n      if (_tween.skip) {\r\n        _tween.skip = false\r\n      } else if (_tween.update(_timing)) {\r\n        continue\r\n      } else {\r\n        _tween.skip = true\r\n      }\r\n    }\r\n\r\n    this.emit(EVENT_UPDATE, elapsed, timing)\r\n\r\n    if (elapsed === 1 || (_reversed && elapsed === 0)) {\n      if (_repeat) {\n        if (_isFinite) {\r\n          this._repeat--\r\n        }\r\n\r\n        this.emit(_reversed ? EVENT_REVERSE : EVENT_REPEAT)\r\n\r\n        if (_yoyo) {\r\n          this.reverse()\r\n        }\r\n\r\n        if (!_reversed && _repeatDelayTime) {\r\n          this._startTime += _totalDuration + _repeatDelayTime\r\n        } else if (_reversed && _reverseDelayTime) {\r\n          this._startTime += _totalDuration + _reverseDelayTime\r\n        } else {\r\n          this._startTime += _totalDuration\r\n        }\r\n\r\n        for (let tween in _tweens) {\r\n          let _tween = _tweens[tween]\r\n          if (_tween.skip) {\r\n            _tween.skip = false\r\n          }\r\n          _tween.reassignValues()\r\n        }\r\n\r\n        return true\n      } else {\n        this.emit(EVENT_COMPLETE)\r\n        this._repeat = this._r\r\n\r\n        for (let tween in _tweens) {\r\n          let _tween = _tweens[tween]\r\n          if (_tween.skip) {\r\n            _tween.skip = false\r\n          }\r\n        }\r\n\r\n        return false\n      }\n    }\r\n\r\n    return true\n  }\r\n\r\n  elapsed (value) {\r\n    return value !== undefined ? this.update(value * this._totalDuration) : this._elapsed\r\n  }\r\n\r\n  seek (value) {\r\n    return this.update(value < 1.1 ? value * this._totalDuration : value)\r\n  }\r\n}\r\nexport default Timeline\r\n"],"names":["root","window","global","this","Object","assign","source","let","i","len","args","length","arg","p","create","Array","isArray","push","splice","requestAnimationFrame","fn","setTimeout","cancelAnimationFrame","id","clearTimeout","_tick","_tweens","isStarted","_autoPlay","_ticker","_stopTicker","add","tween","update","get","remove","indexOf","now","undefined","process","hrtime","time","performance","bind","offset","timing","navigationStart","Date","preserve","const","Plugins","document","addEventListener","timeDiff","timePause","hidden","_startTime","Easing","Linear","None","k","Quadratic","In","Out","InOut","Cubic","Quartic","Quintic","Sinusoidal","Math","cos","PI","sin","Exponential","pow","Circular","sqrt","Elastic","Back","s","Bounce","factory","module","exports","InterTween","s2f","val","floatedVal","parseFloat","isNaN","h2r_f","all","hex","r","g","b","color","parseInt","rgbMax","trim","str","replace","trimRegExp","r2n","e","rv","relativeModes","substr","v","e2","s2n","h2r","match","numRegExp","map","stringTween","d","test","sv","ev","uv","unitTween","cm","cmls","ve","vs","isIncrementReqForColor","colorMatch","t","a","tweenThemTo","arrayTween","objectTween","parseInterpolatables","mainTween","lastItem","endLength","totalTime","roundedTime","floor","elapsed","item","slice","nodeType","minLength","min","units","u","vv","hexColor","+=","-=","*=","/=","%=","Store","node","EventClass","_events","on","event","callback","once","spliceIndex","apply","off","filter","cb","emit","arg1","arg2","arg3","arg4","_event","_id","Tween","object","super","NodeCache","_valuesEnd","_duration","_easingFunction","_delayTime","_repeat","_r","_isPlaying","_yoyo","_reversed","_onStartCallbackFired","_pausedTime","_isFinite","isPlaying","reverse","reversed","pause","play","restart","noDelay","_object","seek","keepPlaying","max","duration","amount","to","properties","prop","ref","render","_rendered","Renderer","property","__render","start","stop","end","delay","repeat","isFinite","repeatDelay","_repeatDelayTime","reverseDelay","_reverseDelayTime","yoyo","state","easing","reassignValues","v0","isArr","value","PlaybackPosition","labels","offsets","parseLabel","name","rty","rt","split","currOffset","type","charAt","Number","addLabel","setLabel","eraseLabel","Timeline","params","_totalDuration","_elapsed","_defaultParams","position","_tween","from","method","interpolation","_timing","skip"],"mappings":"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"}