!(function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("hoist-non-inferno-statics"),require("inferno-component"),require("inferno-create-element"),require("redux")):"function"==typeof define&&define.amd?define(["exports","hoist-non-inferno-statics","inferno-component","inferno-create-element","redux"],e):e((t.Inferno=t.Inferno||{},t.Inferno.Redux=t.Inferno.Redux||{}),t.hoistStatics,t.Inferno.Component,t.Inferno.createElement,t.redux)})(this,(function(t,e,n,o,r){"use strict";function i(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&(n[o[r]]=t[o[r]]);return n}function s(t,r){var s=r.getDisplayName;void 0===s&&(s=function(t){return"ConnectAdvanced("+t+")"});var p=r.methodName;void 0===p&&(p="connectAdvanced");var u=r.renderCountProp;void 0===u&&(u=null);var c=r.shouldHandleStateChanges;void 0===c&&(c=!0);var a=r.storeKey;void 0===a&&(a="store");var d=r.withRef;void 0===d&&(d=!1);var f=i(r,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),l=a+"Subscription",h=O++;return function(r){C("function"==typeof r,"You must pass a component to the function returned by connect. Instead received "+r);var i=r.displayName||r.name||"Component",b=s(i),y=Object.assign({},f,{WrappedComponent:r,displayName:b,getDisplayName:s,methodName:p,renderCountProp:u,shouldHandleStateChanges:c,storeKey:a,withRef:d,wrappedComponentName:i}),v=(function(e){function n(t,n){e.call(this,t,n),this.version=h,this.state={},this.renderCount=0,this.store=this.props[a]||this.context[a],this.propsMode=Boolean(t[a]),this.setWrappedInstance=this.setWrappedInstance.bind(this),C(!!this.store,'Could not find "'+a+'" in either the context or props of "'+b+'". Either wrap the root component in a <Provider>, or explicitly pass "'+a+'" as a prop to "'+b+'".'),this.initSelector(),this.initSubscription()}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.getChildContext=function(){var t=this.propsMode?null:this.subscription;return e={},e[l]=t||this.context[l],e;var e},n.prototype.componentDidMount=function(){c&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},n.prototype.componentWillReceiveProps=function(t){this.selector.run(t)},n.prototype.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate},n.prototype.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=g,this.store=null,this.selector.run=g,this.selector.shouldComponentUpdate=!1},n.prototype.getWrappedInstance=function(){return C(d,"To access the wrapped instance, you need to specify { withRef: true } in the options argument of the "+p+"() call."),this.wrappedInstance},n.prototype.setWrappedInstance=function(t){this.wrappedInstance=t},n.prototype.initSelector=function(){var e=t(this.store.dispatch,y);this.selector=w(e,this.store),this.selector.run(this.props)},n.prototype.initSubscription=function(){if(c){var t=(this.propsMode?this.props:this.context)[l];this.subscription=new P(this.store,t,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},n.prototype.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(S)):this.notifyNestedSubs()},n.prototype.notifyNestedSubsOnComponentDidUpdate=function(){this.componentDidUpdate=void 0,this.notifyNestedSubs()},n.prototype.isSubscribed=function(){return Boolean(this.subscription&&this.subscription.isSubscribed())},n.prototype.addExtraProps=function(t){if(!d&&!u)return t;var e=Object.assign({},t);return d&&(e.ref=this.setWrappedInstance),u&&(e[u]=this.renderCount++),this.propsMode&&this.subscription&&(e[l]=this.subscription),e},n.prototype.render=function(){var t=this.selector;if(t.shouldComponentUpdate=!1,t.error)throw t.error;return o(r,this.addExtraProps(t.props))},n})(n);return v.displayName=b,v.WrappedComponent=r,v.prototype.componentWillUpdate=function(){this.version!==h&&(this.version=h,this.initSelector(),this.subscription&&this.subscription.tryUnsubscribe(),this.initSubscription(),c&&this.subscription.trySubscribe())},e(v,r)}}function p(t){return j(t)?t:t?[t]:t}function u(t){return a(t)||c(t)}function c(t){return null===t}function a(t){return void 0===t}function d(t){var e=_.call(t,A),n=t[A];try{t[A]=void 0;var o=!0}catch(t){}var r=R.call(t);return o&&(e?t[A]=n:delete t[A]),r}function f(t){return F.call(t)}function l(t){return null==t?void 0===t?B:H:K&&K in Object(t)?d(t):f(t)}function h(t){return null!=t&&"object"==typeof t}function b(t){if(!h(t)||l(t)!=k)return!1;var e=Y(t);if(null===e)return!0;var n=L.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&J.call(n)==Q}e=e&&"default"in e?e.default:e,n=n&&"default"in n?n.default:n,o=o&&"default"in o?o.default:o;var y=function(){},v={clear:function(){},notify:function(){},subscribe:function(t){return y}},m=function(){var t=[],e=[];return{clear:function(){e=null,t=null},notify:function(){for(var n=t=e,o=0;o<n.length;o++)n[o]()},subscribe:function(n){var o=!0;e===t&&(e=t.slice()),e.push(n);return function(){o&&null!==t&&(o=!1,e===t&&(e=t.slice()),e.splice(e.indexOf(n),1))}}}},P=function(t,e,n){this.store=t,this.parentSub=e,this.onStateChange=n,this.unsubscribe=null,this.listeners=v};P.prototype.addNestedSub=function(t){return this.trySubscribe(),this.listeners.subscribe(t)},P.prototype.notifyNestedSubs=function(){this.listeners.notify()},P.prototype.isSubscribed=function(){return Boolean(this.unsubscribe)},P.prototype.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=m())},P.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=v)};var O=0,S={},g=function(){},w=function(t,e){var n={error:null,props:{},run:function(o){try{var r=t(e.getState(),o);(r!==n.props||n.error)&&(n.shouldComponentUpdate=!0,n.props=r,n.error=null)}catch(t){n.shouldComponentUpdate=!0,n.error=t}},shouldComponentUpdate:!1};return n},C=function(t,e){if(!t)throw new Error(e)},j=Array.isArray,N=function(t){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(t);try{throw new Error(t)}catch(t){}},E=!1,T=function(){E||(E=!0,N("<Provider> does not support changing `store` on the fly."))},x=(function(t){function e(e,n){t.call(this,e,n),this.store=e.store}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getChildContext=function(){return{store:this.store,storeSubscription:null}},e.prototype.render=function(){if(u(this.props.children)||1!==p(this.props.children).length)throw Error("Inferno Error: Only one child is allowed within the `Provider` component");return this.props.children},e})(n);x.displayName="Provider",x.prototype.componentWillReceiveProps=function(t){this.store!==t.store&&T()};var U=Object.prototype.hasOwnProperty,q=function(t,e){if(t===e)return!0;var n=0,o=0;for(var r in t){if(U.call(t,r)&&t[r]!==e[r])return!1;n++}for(var i in e)U.call(e,i)&&o++;return n===o},M="object"==typeof global&&global&&global.Object===Object&&global,D="object"==typeof self&&self&&self.Object===Object&&self,I=(M||D||Function("return this")()).Symbol,W=Object.prototype,_=W.hasOwnProperty,R=W.toString,A=I?I.toStringTag:void 0,F=Object.prototype.toString,H="[object Null]",B="[object Undefined]",K=I?I.toStringTag:void 0,Y=(function(t,e){return function(n){return t(e(n))}})(Object.getPrototypeOf,Object),k="[object Object]",z=Function.prototype,G=Object.prototype,J=z.toString,L=G.hasOwnProperty,Q=J.call(Object),V=function(t,e,n){b(t)||N(n+"() in "+e+" must return a plain object. Instead received "+t+".")},X=function(t){return function(e,n){var o=t(e,n),r=function(){return o};return r.dependsOnOwnProps=!1,r}},Z=function(t){return null!==t.dependsOnOwnProps&&void 0!==t.dependsOnOwnProps?!!t.dependsOnOwnProps:1!==t.length},$=function(t,e){return function(n,o){var r=o.displayName,i=function(t,e){return i.dependsOnOwnProps?i.mapToProps(t,e):i.mapToProps(t)};return i.dependsOnOwnProps=Z(t),i.mapToProps=function(n,o){i.mapToProps=t;var s=i(n,o);return"function"==typeof s&&(i.mapToProps=s,i.dependsOnOwnProps=Z(s),s=i(n,o)),V(s,r,e),s},i}},tt=[function(t){return"function"==typeof t?$(t,"mapDispatchToProps"):void 0},function(t){return t?void 0:X((function(t){return{dispatch:t}}))},function(t){return t&&"object"==typeof t?X((function(e){return r.bindActionCreators(t,e)})):void 0}],et=[function(t){return"function"==typeof t?$(t,"mapStateToProps"):void 0},function(t){return t?void 0:X((function(){return{}}))}],nt=function(t,e,n){return Object.assign({},n,t,e)},ot=function(t){return function(e,n){var o,r=n.displayName,i=n.pure,s=n.areMergedPropsEqual,p=!1;return function(e,n,u){var c=t(e,n,u);return p?i&&s(c,o)||(o=c):(p=!0,V(o=c,r,"mergeProps")),o}}},rt=[function(t){return"function"==typeof t?ot(t):void 0},function(t){return t?void 0:function(){return nt}}],it=function(t,e,n){if(!t)throw new Error("Unexpected value for "+e+" in "+n+".");"mapStateToProps"!==e&&"mapDispatchToProps"!==e||t.hasOwnProperty("dependsOnOwnProps")||N("The selector for "+e+" of "+n+" did not specify a value for dependsOnOwnProps.")},st=function(t,e,n,o){it(t,"mapStateToProps",o),it(e,"mapDispatchToProps",o),it(n,"mergeProps",o)},pt=function(t,e,n,o){return function(r,i){return n(t(r,i),e(o,i),i)}},ut=function(t,e,n,o,r){var i,s,p,u,c,a=r.areStatesEqual,d=r.areOwnPropsEqual,f=r.areStatePropsEqual,l=!1,h=function(r,a){return i=r,s=a,p=t(i,s),u=e(o,s),c=n(p,u,s),l=!0,c},b=function(){return p=t(i,s),e.dependsOnOwnProps&&(u=e(o,s)),c=n(p,u,s)},y=function(){return t.dependsOnOwnProps&&(p=t(i,s)),e.dependsOnOwnProps&&(u=e(o,s)),c=n(p,u,s)},v=function(){var e=t(i,s),o=!f(e,p);return p=e,o&&(c=n(p,u,s)),c},m=function(t,e){var n=!d(e,s),o=!a(t,i);return i=t,s=e,n&&o?b():n?y():o?v():c};return function(t,e){return l?m(t,e):h(t,e)}},ct=function(t,e){var n=e.initMapStateToProps,o=e.initMapDispatchToProps,r=e.initMergeProps,s=i(e,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),p=n(t,s),u=o(t,s),c=r(t,s);return st(p,u,c,s.displayName),(s.pure?ut:pt)(p,u,c,t,s)},at=function(t,e,n){for(var o=e.length-1;o>=0;o--){var r=e[o](t);if(r)return r}return function(e,o){throw new Error("Invalid value of type "+typeof t+" for "+n+" argument when connecting component "+o.wrappedComponentName+".")}},dt=function(t,e){return t===e},ft=(function(t){void 0===t&&(t={});var e=t.connectHOC;void 0===e&&(e=s);var n=t.mapStateToPropsFactories;void 0===n&&(n=et);var o=t.mapDispatchToPropsFactories;void 0===o&&(o=tt);var r=t.mergePropsFactories;void 0===r&&(r=rt);var p=t.selectorFactory;void 0===p&&(p=ct);return function(t,s,u,c){void 0===c&&(c={});var a=c.pure;void 0===a&&(a=!0);var d=c.areStatesEqual;void 0===d&&(d=dt);var f=c.areOwnPropsEqual;void 0===f&&(f=q);var l=c.areStatePropsEqual;void 0===l&&(l=q);var h=c.areMergedPropsEqual;void 0===h&&(h=q);var b=i(c,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),y=at(t,n,"mapStateToProps"),v=at(s,o,"mapDispatchToProps"),m=at(u,r,"mergeProps");return e(p,Object.assign({methodName:"connect",getDisplayName:function(t){return"Connect("+t+")"},shouldHandleStateChanges:!!t,initMapStateToProps:y,initMapDispatchToProps:v,initMergeProps:m,pure:a,areStatesEqual:d,areOwnPropsEqual:f,areStatePropsEqual:l,areMergedPropsEqual:h},b))}})(),lt={Provider:x,connectAdvanced:s,connect:ft};t.Provider=x,t.connectAdvanced=s,t.connect=ft,t.default=lt,Object.defineProperty(t,"__esModule",{value:!0})}));
