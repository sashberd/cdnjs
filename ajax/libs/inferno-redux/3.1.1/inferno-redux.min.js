!(function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("hoist-non-inferno-statics"),require("inferno-component"),require("inferno-create-element"),require("redux")):"function"==typeof define&&define.amd?define(["exports","hoist-non-inferno-statics","inferno-component","inferno-create-element","redux"],e):e((t.Inferno=t.Inferno||{},t.Inferno.Redux=t.Inferno.Redux||{}),t.hoistStatics,t.Inferno.Component,t.Inferno.createElement,t.redux)})(this,(function(t,e,r,n,o){"use strict";function i(t){return S(t)?t:t?[t]:t}function s(t){return h(t)||p(t)}function a(t){return"function"==typeof t}function p(t){return null===t}function h(t){return void 0===t}function u(t){throw t||(t=y),new Error("Inferno Error: "+t)}function c(t,e){var r={};if(t)for(var n in t)r[n]=t[n];if(e)for(var o in e)r[o]=e[o];return r}function d(t,e){if(t===e)return!0;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(var o=Object.prototype.hasOwnProperty,i=0,s=r.length;i<s;i++){var a=r[i];if(!o.call(e,a)||t[a]!==e[a])return!1}return!0}function f(t){return function(e){return o.bindActionCreators(t,e)}}function l(t,e){try{return t.apply(e)}catch(t){return b.value=t,b}}function P(t){return t.displayName||t.name||"Component"}function v(t,o,i,s){void 0===s&&(s={});var p,h=Boolean(t),v=t||O;p=a(o)?o:o?f(o):C;var y=i||w,S=s.pure;void 0===S&&(S=!0);var m=s.withRef;void 0===m&&(m=!1);var g=S&&y!==w,I=D++;return function(t){function o(t,e,r){return y(t,e,r)}var i="Connect("+P(t)+")",s=(function(e){function r(t,r){e.call(this,t,r),this.version=I,this.wrappedInstance=null,this.store=t&&t.store||r&&r.store,this.store||u('Could not find "store" in either the context or props of "'+i+'". Either wrap the root component in a <Provider>, or explicitly pass "store" as a prop to "'+i+'".');var n=this.store.getState();this.state={storeState:n},this.clearCache()}return e&&(r.__proto__=e),r.prototype=Object.create(e&&e.prototype),r.prototype.constructor=r,r.prototype.componentDidMount=function(){this.trySubscribe()},r.prototype.shouldComponentUpdate=function(){return!S||this.haveOwnPropsChanged||this.hasStoreStateChanged},r.prototype.computeStateProps=function(t,e){if(!this.finalMapStateToProps)return this.configureFinalMapState(t,e);var r=t.getState();return this.doStatePropsDependOnOwnProps?this.finalMapStateToProps(r,e):this.finalMapStateToProps(r)},r.prototype.configureFinalMapState=function(t,e){var r=v(t.getState(),e),n=a(r);return this.finalMapStateToProps=n?r:v,this.doStatePropsDependOnOwnProps=1!==this.finalMapStateToProps.length,n?this.computeStateProps(t,e):r},r.prototype.computeDispatchProps=function(t,e){if(!this.finalMapDispatchToProps)return this.configureFinalMapDispatch(t,e);var r=t.dispatch;return this.doDispatchPropsDependOnOwnProps?this.finalMapDispatchToProps(r,e):this.finalMapDispatchToProps(r)},r.prototype.configureFinalMapDispatch=function(t,e){var r=p(t.dispatch,e),n=a(r);return this.finalMapDispatchToProps=n?r:p,this.doDispatchPropsDependOnOwnProps=1!==this.finalMapDispatchToProps.length,n?this.computeDispatchProps(t,e):r},r.prototype.updateStatePropsIfNeeded=function(){var t=this.computeStateProps(this.store,this.props);return(!this.stateProps||!d(t,this.stateProps))&&(this.stateProps=t,!0)},r.prototype.updateDispatchPropsIfNeeded=function(){var t=this.computeDispatchProps(this.store,this.props);return(!this.dispatchProps||!d(t,this.dispatchProps))&&(this.dispatchProps=t,!0)},r.prototype.updateMergedPropsIfNeeded=function(){var t=o(this.stateProps,this.dispatchProps,this.props);return!(this.mergedProps&&g&&d(t,this.mergedProps))&&(this.mergedProps=t,!0)},r.prototype.isSubscribed=function(){return a(this.unsubscribe)},r.prototype.trySubscribe=function(){h&&!this.unsubscribe&&(this.unsubscribe=this.store.subscribe(this.handleChange.bind(this)),this.handleChange())},r.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null)},r.prototype.componentWillReceiveProps=function(t){S&&d(t,this.props)||(this.haveOwnPropsChanged=!0)},r.prototype.componentWillUnmount=function(){this.tryUnsubscribe(),this.clearCache()},r.prototype.clearCache=function(){this.dispatchProps=null,this.stateProps=null,this.mergedProps=null,this.haveOwnPropsChanged=!0,this.hasStoreStateChanged=!0,this.haveStatePropsBeenPrecalculated=!1,this.statePropsPrecalculationError=null,this.renderedElement=null,this.finalMapDispatchToProps=null,this.finalMapStateToProps=null},r.prototype.handleChange=function(){if(this.unsubscribe){var t=this.store.getState(),e=this.state.storeState;if(!S||e!==t){if(S&&!this.doStatePropsDependOnOwnProps){var r=l(this.updateStatePropsIfNeeded,this);if(!r)return;r===b&&(this.statePropsPrecalculationError=b.value),this.haveStatePropsBeenPrecalculated=!0}this.hasStoreStateChanged=!0,this.setState({storeState:t})}}},r.prototype.getWrappedInstance=function(){return this.wrappedInstance},r.prototype.render=function(){var e=this,r=this,o=r.haveOwnPropsChanged,i=r.hasStoreStateChanged,s=r.haveStatePropsBeenPrecalculated,a=r.statePropsPrecalculationError,p=r.renderedElement;if(this.haveOwnPropsChanged=!1,this.hasStoreStateChanged=!1,this.haveStatePropsBeenPrecalculated=!1,this.statePropsPrecalculationError=null,a)throw a;var h=!0,u=!0;S&&p&&(h=i||o&&this.doStatePropsDependOnOwnProps,u=o&&this.doDispatchPropsDependOnOwnProps);var d=!1,f=!1;s?d=!0:h&&(d=this.updateStatePropsIfNeeded()),u&&(f=this.updateDispatchPropsIfNeeded());return!(!!(d||f||o)&&this.updateMergedPropsIfNeeded())&&p?p:(this.renderedElement=m?n(t,c(this.mergedProps,{ref:function(t){return e.wrappedInstance=t}})):n(t,this.mergedProps),this.renderedElement)},r})(r);return s.displayName=i,s.WrappedComponent=t,e(s,t)}}e="default"in e?e.default:e,r="default"in r?r.default:r,n="default"in n?n.default:n;var y="a runtime error occured! Use Inferno in development environment to find the error.",S=Array.isArray,m=Function.prototype,g=m.toString,b=(g.call(Object),{value:null}),O=function(t){return{}},C=function(t){return{dispatch:t}},w=function(t,e,r){var n={};if(r)for(var o in r)n[o]=r[o];if(t)for(var i in t)n[i]=t[i];if(e)for(var s in e)n[s]=e[s];return n},D=0,I=(function(t){function e(e,r){t.call(this,e,r),this.store=e.store}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getChildContext=function(){return{store:this.store}},e.prototype.render=function(t){if(s(this.props.children)||1!==i(this.props.children).length)throw Error("Inferno Error: Only one child is allowed within the `Provider` component");return t.children},e})(r),M={Provider:I,connect:v};t.default=M,t.Provider=I,t.connect=v,Object.defineProperty(t,"__esModule",{value:!0})}));
