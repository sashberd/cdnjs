!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("./inferno-component"),require("redux"),require("./inferno-create-element")):"function"==typeof define&&define.amd?define(["inferno-component","redux","inferno-create-element"],e):(t.Inferno=t.Inferno||{},t.Inferno.Redux=e(t.Inferno.Component,t.Redux,t.Inferno.createElement))}(this,function(t,e,r){"use strict";function o(t){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(t);try{throw new Error(t)}catch(t){}}function n(t,e){if(t===e)return!0;var r=Object.keys(t),o=Object.keys(e);if(r.length!==o.length)return!1;for(var n=Object.prototype.hasOwnProperty,s=0;s<r.length;s++){var i=r[s];if(!n.call(e,i)||t[i]!==e[i])return!1}return!0}function s(t){return function(r){return e.bindActionCreators(t,r)}}function i(t){return g(t)?t:t?[t]:t}function p(t){return u(t)||c(t)}function a(t){return"function"==typeof t}function c(t){return null===t}function u(t){return void 0===t}function h(t){throw t||(t=v),new Error("Inferno Error: "+t)}function l(){b||(b=!0,o("<Provider> does not support changing `store` on the fly."))}function f(t){return null!=t&&"object"==typeof t}function d(t){if(!f(t)||M.call(t)!==w)return!1;var e=O(t);if(null===e)return!0;var r=I.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&E.call(r)===j}function P(t,e){try{return t.apply(e)}catch(t){return x.value=t,x}}function y(t){return t.displayName||t.name||"Component"}t="default"in t?t.default:t,r="default"in r?r.default:r;var v="a runtime error occured! Use Inferno in development environment to find the error.",g=Array.isArray,b=!1,m=function(t){function e(e,r){t.call(this,e,r),this.store=e.store}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getChildContext=function(){return{store:this.store}},e.prototype.render=function(){if(p(this.props.children)||1!==i(this.props.children).length)throw Error("Inferno Error: Only one child is allowed within the `Provider` component");return this.props.children},e}(t);"production"!==process.env.NODE_ENV&&(m.prototype.componentWillReceiveProps=function(t){this.store!==t.store&&l()});var S=function(t,e){return e={exports:{}},t(e,e.exports),e.exports}(function(t){var e={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,arguments:!0,arity:!0},o="function"==typeof Object.getOwnPropertySymbols;t.exports=function(t,n,s){if("string"!=typeof n){var i=Object.getOwnPropertyNames(n);o&&(i=i.concat(Object.getOwnPropertySymbols(n)));for(var p=0;p<i.length;++p)if(!(e[i[p]]||r[i[p]]||s&&s[i[p]]))try{t[i[p]]=n[i[p]]}catch(t){}}return t},t.exports.default=t.exports}),O=function(t,e){return function(r){return t(e(r))}}(Object.getPrototypeOf,Object),w="[object Object]",D=Function.prototype,C=Object.prototype,E=D.toString,I=C.hasOwnProperty,j=E.call(Object),M=C.toString,x={value:null},N=function(t){return{}},T=function(t){return{dispatch:t}},_=function(t,e,r){return Object.assign({},r,t,e)},U=0;return{Provider:m,connect:function(e,i,p,c){void 0===c&&(c={});var u,l=Boolean(e),f=e||N;u=a(i)?i:i?s(i):T;var v=p||_,g=c.pure;void 0===g&&(g=!0);var b=c.withRef;void 0===b&&(b=!1);var m=g&&v!==_,O=U++;return function(e){function s(t,e){d(t)||o(e+"() in "+p+" must return a plain object. Instead received "+t+".")}function i(t,e,r){var o=v(t,e,r);return"production"!==process.env.NODE_ENV&&s(o,"mergeProps"),o}var p="Connect("+y(e)+")",c=function(t){function o(e,r){var o=this;t.call(this,e,r),this.version=O,this.wrappedInstance=null,this.store=e&&e.store||r&&r.store,this.componentDidMount=function(){o.trySubscribe()},this.store||h('Could not find "store" in either the context or props of "'+p+'". Either wrap the root component in a <Provider>, or explicitly pass "store" as a prop to "'+p+'".');var n=this.store.getState();this.state={storeState:n},this.clearCache()}return t&&(o.__proto__=t),o.prototype=Object.create(t&&t.prototype),o.prototype.constructor=o,o.prototype.shouldComponentUpdate=function(){return!g||this.haveOwnPropsChanged||this.hasStoreStateChanged},o.prototype.computeStateProps=function(t,e){if(!this.finalMapStateToProps)return this.configureFinalMapState(t,e);var r=t.getState();return this.doStatePropsDependOnOwnProps?this.finalMapStateToProps(r,e):this.finalMapStateToProps(r)},o.prototype.configureFinalMapState=function(t,e){var r=f(t.getState(),e),o=a(r);return this.finalMapStateToProps=o?r:f,this.doStatePropsDependOnOwnProps=1!==this.finalMapStateToProps.length,o?this.computeStateProps(t,e):r},o.prototype.computeDispatchProps=function(t,e){if(!this.finalMapDispatchToProps)return this.configureFinalMapDispatch(t,e);var r=t.dispatch;return this.doDispatchPropsDependOnOwnProps?this.finalMapDispatchToProps(r,e):this.finalMapDispatchToProps(r)},o.prototype.configureFinalMapDispatch=function(t,e){var r=u(t.dispatch,e),o=a(r);return this.finalMapDispatchToProps=o?r:u,this.doDispatchPropsDependOnOwnProps=1!==this.finalMapDispatchToProps.length,o?this.computeDispatchProps(t,e):r},o.prototype.updateStatePropsIfNeeded=function(){var t=this.computeStateProps(this.store,this.props);return!(this.stateProps&&n(t,this.stateProps)||(this.stateProps=t,0))},o.prototype.updateDispatchPropsIfNeeded=function(){var t=this.computeDispatchProps(this.store,this.props);return!(this.dispatchProps&&n(t,this.dispatchProps)||(this.dispatchProps=t,0))},o.prototype.updateMergedPropsIfNeeded=function(){var t=i(this.stateProps,this.dispatchProps,this.props);return!(this.mergedProps&&m&&n(t,this.mergedProps)||(this.mergedProps=t,0))},o.prototype.isSubscribed=function(){return a(this.unsubscribe)},o.prototype.trySubscribe=function(){l&&!this.unsubscribe&&(this.unsubscribe=this.store.subscribe(this.handleChange.bind(this)),this.handleChange())},o.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null)},o.prototype.componentWillReceiveProps=function(t){g&&n(t,this.props)||(this.haveOwnPropsChanged=!0)},o.prototype.componentWillUnmount=function(){this.tryUnsubscribe(),this.clearCache()},o.prototype.clearCache=function(){this.dispatchProps=null,this.stateProps=null,this.mergedProps=null,this.haveOwnPropsChanged=!0,this.hasStoreStateChanged=!0,this.haveStatePropsBeenPrecalculated=!1,this.statePropsPrecalculationError=null,this.renderedElement=null,this.finalMapDispatchToProps=null,this.finalMapStateToProps=null},o.prototype.handleChange=function(){if(this.unsubscribe){var t=this.store.getState(),e=this.state.storeState;if(!g||e!==t){if(g&&!this.doStatePropsDependOnOwnProps){var r=P(this.updateStatePropsIfNeeded,this);if(!r)return;r===x&&(this.statePropsPrecalculationError=x.value),this.haveStatePropsBeenPrecalculated=!0}this.hasStoreStateChanged=!0,this.setState({storeState:t})}}},o.prototype.getWrappedInstance=function(){return this.wrappedInstance},o.prototype.render=function(){var t=this,o=this,n=o.haveOwnPropsChanged,s=o.hasStoreStateChanged,i=o.haveStatePropsBeenPrecalculated,p=o.statePropsPrecalculationError,a=o.renderedElement;if(this.haveOwnPropsChanged=!1,this.hasStoreStateChanged=!1,this.haveStatePropsBeenPrecalculated=!1,this.statePropsPrecalculationError=null,p)throw p;var c=!0,u=!0;g&&a&&(c=s||n&&this.doStatePropsDependOnOwnProps,u=n&&this.doDispatchPropsDependOnOwnProps);var h=!1,l=!1;return i?h=!0:c&&(h=this.updateStatePropsIfNeeded()),u&&(l=this.updateDispatchPropsIfNeeded()),(h||l||n)&&this.updateMergedPropsIfNeeded()||!a?(this.renderedElement=b?r(e,Object.assign({},this.mergedProps,{ref:function(e){return t.wrappedInstance=e}})):r(e,this.mergedProps),this.renderedElement):a},o}(t);return c.displayName=p,c.WrappedComponent=e,"production"!==process.env.NODE_ENV&&(c.prototype.componentWillUpdate=function(){this.version!==O&&(this.version=O,this.trySubscribe(),this.clearCache())}),S(c,e)}}}});